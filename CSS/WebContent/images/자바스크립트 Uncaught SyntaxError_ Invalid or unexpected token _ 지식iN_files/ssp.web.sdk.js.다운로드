!function(e){function t(t){for(var n,r,a=t[0],o=t[1],s=0,u=[];s<a.length;s++)r=a[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(d&&d(t);u.length;)u.shift()()}var n={},i={2:0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+""+({0:"preview/ssp.ndp.preview"}[e]||e)+".js"}(e);var d=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[e]=undefined}};var u=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="https://ssl.pstatic.net/tveta/libs/ssp/",r.oe=function(e){throw e};var a=window.sspSdkJsonp=window.sspSdkJsonp||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var d=o;r(r.s=157)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t,n){var i=n(120),r=n(28),a=n(121),o=n(15);e.exports=function(e,t){return(o(e)?i:r)(e,a(t))}},function(e,t,n){var i=n(26)(Object.keys,Object);e.exports=i},function(e,t,n){e.exports=n(86)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i,r,a=n(10),o=n.n(a),s=n(22),d=n.n(s),u={SAFE_FRAME:"SF",EMPTY:"EMPTY",NDP:"NDP",JS:"JS",GOOGLE_GPT:"GOOGLE_GPT",GOOGLE_IMA:"GOOGLE_IMA",GV:"GV"},l={FLUID:"FLUID",PIXEL:"PIXEL"},c={BANNER:"BANNER",VIDEO:"VIDEO"},h="local",f="dev",A="test",p="staging",v="production",g=(r=function(e){var t=i.debug?i.phase:"production";return o()([h,A,f],t)?"test-img.tveta.naver.net":"http:"===e?"tveta.naver.net":"ssl.pstatic.net/tveta"},i={debug:!1,enablePersistAd:!1,phase:"production",requestTimeout:3e3,videoAdOptions:{enableHls:!1}},{getAdunitLayoutTypes:function(){return l},getRenderTypes:function(){return u},getCreativeTypes:function(){return c},getSspDomain:function(){var e=i.debug?i.phase:"production";return o()([h,A],e)?"test-gfp.veta.naver.com":e===f?"dev-gfp.veta.naver.com":e===p?"stg-gfp.veta.naver.com":"gfp.veta.naver.com"},getSspCdnDomain:r,getNdpCdnDomain:function(e){var t=i.debug?i.phase:"production";return o()([h,A],t)?"test-img.tveta.naver.net":"http:"===e?"tveta.naver.net":"ssl.pstatic.net/tveta"},getNdpPreviewDomain:function(){return document.location.host&&/^(test|local)\.preview\.ad\.naver\.com/i.test(document.location.host)?document.location.host:"preview.ad.naver.com"},getSafeFrameContainerPath:function(e){var t=r(e),n=i.debug?i.phase:"production";return o()([v,A],n)?"".concat(e,"//").concat(t,"/libs/ssp/res/r.html"):n===f?"".concat(e,"//").concat(t,"/libs/ssp_dev/res/r.html"):n===p?"".concat(e,"//").concat(t,"/libs/ssp_stg/res/r.html"):"/build/dev/res/r.html"},getSafeFrameExtLibPath:function(){var e=i.debug?i.phase:"production";return e===v?"https://ssl.pstatic.net/tveta/libs/ssp/ssp.sf.ext.js":e===p?"https://ssl.pstatic.net/tveta/libs/ssp_stg/ssp.sf.ext.js":e===A?"https://test-img.tveta.naver.net/libs/ssp/ssp.sf.ext.js":e===f?"https://test-img.tveta.naver.net/libs/ssp_dev/ssp.sf.ext.js":"/build/dev/ssp.sf.ext.js"},getConfig:function(){return i},setConfig:function(e){i=d()({},i,e)}})},function(e,t){function n(e,t,n,i,r,a,o){try{var s=e[a](o),d=s.value}catch(u){return void n(u)}s.done?t(d):Promise.resolve(d).then(i,r)}e.exports=function(e){return function(){var t=this,i=arguments;return new Promise(function(r,a){var o=e.apply(t,i);function s(e){n(o,r,a,s,d,"next",e)}function d(e){n(o,r,a,s,d,"throw",e)}s(undefined)})}}},function(e,t,n){"use strict";var i=n(1),r=n.n(i),a=n(2),o=n.n(a);window.naver_corp_da=window.naver_corp_da||{};var s=function(){function e(){r()(this,e)}return o()(e,[{key:"log",value:function(e){var t=Array.prototype.slice.call(arguments),n=new Image(1,1);t.length>1&&t[1]&&"[object Function]"==={}.toString.call(t[1])&&n.addEventListener("load",t[1]),n.src=this.appendDummy(e)}},{key:"appendDummy",value:function(e){return e.indexOf("?")>0?(e+="&dummy=",e+=Math.random()):(e+="?dummy=",e+=Math.random()),e}}],[{key:"convertStringToXml",value:function(e){try{return(new DOMParser).parseFromString(e,"text/xml")}catch(t){return null}}},{key:"getNearestNumIdx",value:function(e,t){if(e.sort(function(e,t){return e-t}),(n=e.length)<2)return n-1;for(var n,i=Math.abs(e[--n]-t);n--&&!(i<(i=Math.abs(e[n]-t))););return n+1}},{key:"getVrAdNumIdx",value:function(e,t){return t>=480&&t<1080?t=720:t<480&&(t=480),this.getNearestNumIdx(e,t)}}]),e}();t.a=s},function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,a=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=undefined,s.prototype._eventsCount=0,s.prototype._maxListeners=undefined;var d=10;function u(e){return e._maxListeners===undefined?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,i){var r,a,o;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if((a=e._events)===undefined?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==undefined&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),o===undefined)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(e))>0&&o.length>r&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,console&&console.warn}return e}function c(e,t,n){var i={fired:!1,wrapFn:undefined,target:e,type:t,listener:n},r=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}.bind(i);return r.listener=n,i.wrapFn=r,r}function h(e,t,n){var i=e._events;if(i===undefined)return[];var r=i[t];return r===undefined?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):A(r,r.length)}function f(e){var t=this._events;if(t!==undefined){var n=t[e];if("function"==typeof n)return 1;if(n!==undefined)return n.length}return 0}function A(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");d=e}}),s.init=function(){this._events!==undefined&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||undefined},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(r!==undefined)i=i&&r.error===undefined;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var d=r[e];if(d===undefined)return!1;if("function"==typeof d)a(d,this,t);else{var u=d.length,l=A(d,u);for(n=0;n<u;++n)a(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,c(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,c(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,a,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if((i=this._events)===undefined)return this;if((n=i[e])===undefined)return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),i.removeListener!==undefined&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if((n=this._events)===undefined)return this;if(n.removeListener===undefined)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):n[e]!==undefined&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t!==undefined)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){var i=n(49),r=n(21),a=n(118),o=n(63),s=n(44),d=Math.max;e.exports=function(e,t,n,u){e=r(e)?e:s(e),n=n&&!u?o(n):0;var l=e.length;return n<0&&(n=d(l+n,0)),a(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&i(e,t,n)>-1}},function(e,t,n){var i=n(117),r=n(50),a=n(57),o=n(15),s=n(21),d=n(51),u=n(62),l=n(52),c="[object Map]",h="[object Set]",f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||d(e)||l(e)||a(e)))return!e.length;var t=r(e);if(t==c||t==h)return!e.size;if(u(e))return!i(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},function(e,t,n){var i=n(122)(n(20));e.exports=i},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var i=n(124),r=n(125),a=n(18),o=n(15);e.exports=function(e,t){return(o(e)?i:r)(e,a(t,3))}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){function n(t){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var i=n(39);e.exports=function(e,t,n){var r=null==e?undefined:i(e,t);return r===undefined?n:r}},function(e,t,n){var i=n(87),r=n(102),a=n(42),o=n(15),s=n(109);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?r(e[0],e[1]):i(e):s(e)}},function(e,t,n){var i=n(38),r=n(18),a=n(60),o=n(15);e.exports=function(e,t){return(o(e)?i:a)(e,r(t,3))}},function(e,t,n){var i=n(123),r=n(18),a=n(63),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var d=null==n?0:a(n);return d<0&&(d=o(s+d,0)),i(e,r(t,3),d)}},function(e,t,n){var i=n(116),r=n(59);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t,n){var i=n(64),r=n(66),a=n(67),o=n(21),s=n(62),d=n(4),u=Object.prototype.hasOwnProperty,l=a(function(e,t){if(s(t)||o(t))r(t,d(t),e);else for(var n in t)u.call(t,n)&&i(e,n,t[n])});e.exports=l},function(e,t,n){var i=n(139);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t,n){var i=n(16),r=n(37);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},function(e,t,n){var i=n(70);function r(t,n,a){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=r=Reflect.get:e.exports=r=function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}},r(t,n,a||t)}e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(112),r=n(115)(i);e.exports=r},function(e,t,n){var i=n(131);e.exports=function(e,t){if(null==e)return{};var n,r,a=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){var i=n(153),r=n(154),a=n(155),o=n(156);e.exports=function(e){return i(e)||r(e)||a(e)||o()}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(46);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},function(e,t,n){var i=n(132),r=n(28),a=n(18),o=n(133),s=n(15);e.exports=function(e,t,n){var d=s(e)?i:o,u=arguments.length<3;return d(e,a(t,4),n,u,r)}},function(e,t,n){var i=n(134),r=n(33),a="Expected a function";e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return r(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:o,maxWait:t,trailing:s})}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t,n){var i=n(40),r=n(27);e.exports=function(e,t){for(var n=0,a=(t=i(t,e)).length;null!=e&&n<a;)e=e[r(t[n++])];return n&&n==a?e:undefined}},function(e,t,n){var i=n(15),r=n(41),a=n(103),o=n(105);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:a(o(e))}},function(e,t,n){var i=n(15),r=n(56),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(119),r=n(4);e.exports=function(e){return null==e?[]:i(e,r(e))}},function(e,t,n){var i=n(89),r=n(90),a=n(91),o=n(92),s=n(93);function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}d.prototype.clear=i,d.prototype["delete"]=r,d.prototype.get=a,d.prototype.has=o,d.prototype.set=s,e.exports=d},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(94),r=n(53);e.exports=function a(e,t,n,o,s){return e===t||(null==e||null==t||!r(e)&&!r(t)?e!=e&&t!=t:i(e,t,n,o,a,s))}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var i=n(33);e.exports=function(e){return e==e&&!i(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(t!==undefined||e in Object(n))}}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&i.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var i=n(28),r=n(21);e.exports=function(e,t){var n=-1,a=r(e)?Array(e.length):[];return i(e,function(e,i,r){a[++n]=t(e,i,r)}),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(65),r=n(46),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&r(o,n)&&(n!==undefined||t in e)||i(e,t,n)}},function(e,t,n){var i=n(126);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var i=n(64),r=n(65);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,d=t.length;++s<d;){var u=t[s],l=a?a(n[u],e[u],u,n,e):undefined;l===undefined&&(l=e[u]),o?r(n,u,l):i(n,u,l)}return n}},function(e,t,n){var i=n(68),r=n(43);e.exports=function(e){return i(function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:undefined,s=a>2?n[2]:undefined;for(o=e.length>3&&"function"==typeof o?(a--,o):undefined,s&&r(n[0],n[1],s)&&(o=a<3?undefined:o,a=1),t=Object(t);++i<a;){var d=n[i];d&&e(t,d,i,o)}return t})}},function(e,t,n){var i=n(42),r=n(128),a=n(130);e.exports=function(e,t){return a(r(e,t,i),e+"")}},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},function(e,t,n){var i=n(13);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}},function(e,t,n){"use strict";(function(e){var i=n(34),r=setTimeout;function a(e){return Boolean(e&&"undefined"!=typeof e.length)}function o(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],h(e,this)}function d(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(r){return void l(t.promise,r)}u(t.promise,i)}else(1===e._state?u:l)(t.promise,e._value)})):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void h((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(a){l(e,a)}var i,r}function l(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&s._immediateFn(function(){e._handled||s._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)d(e,e._deferreds[t]);e._deferreds=null}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,l(t,e))})}catch(i){if(n)return;n=!0,l(t,i)}}s.prototype["catch"]=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(o);return d(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},s.prototype["finally"]=i.a,s.all=function(e){return new s(function(t,n){if(!a(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(e,t)},n)}i[e]=a,0==--r&&t(i)}catch(d){n(d)}}for(var s=0;s<i.length;s++)o(s,i[s])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(e){return new s(function(t,n){n(e)})},s.race=function(e){return new s(function(t,n){if(!a(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)s.resolve(e[i]).then(t,n)})},s._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){r(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console},t.a=s}).call(this,n(81).setImmediate)},function(e,t){e.exports=function(e){return null==e}},function(e,t,n){var i=n(66),r=n(67),a=n(140),o=r(function(e,t){i(t,a(t),e)});e.exports=o},function(e,t,n){var i=n(18),r=n(141);e.exports=function(e,t){var n=[];if(!e||!e.length)return n;var a=-1,o=[],s=e.length;for(t=i(t,3);++a<s;){var d=e[a];t(d,a,e)&&(n.push(d),o.push(a))}return r(e,o),n}},function(e,t){e.exports="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAdSbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAI3wAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAABGl0cmFrAAAAXHRraGQAAAADAAAAANawQNkAAAABAAAAAAAAI3wAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAMAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAACN8AAAAAAABAAAAAAPhbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAAwAAABtABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAADjG1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAA0xzdGJsAAAApHN0c2QAAAAAAAAAAQAAAJRhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAMAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAEHBhc3AAAAABAAAAAQAAAC5hdmNDAULAC//hABdnQsAL2gwTsBEAAAMAAQAAAwAYDxQqoAEABGjOD8gAAAAYc3R0cwAAAAAAAAABAAAAbQAABAAAAAAkc3RzcwAAAAAAAAAFAAAAAQAAABkAAAAxAAAASQAAAGEAAABAc3RzYwAAAAAAAAAEAAAAAQAAAAcAAAABAAAAAgAAAAMAAAABAAAAAwAAAAYAAAABAAAAEwAAAAMAAAABAAAByHN0c3oAAAAAAAAAAAAAAG0AAABhAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAABiAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAABhAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAABiAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAABhAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAXHN0Y28AAAAAAAAAEwAAB3oAAAu3AAAL1QAADBEAAAxNAAAM4QAADR0AAA1ZAAANlQAADigAAA5kAAAOoAAADtwAAA9wAAAPrAAAD+gAABAkAAAQtwAAEPMAAAHsdHJhawAAAFx0a2hkAAAAAwAAAADWsEDZAAAAAgAAAAAAAACMAAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAAjAAACAAAAQAAAAABZG1kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAAViIAABQAVcQAAAAAAC1oZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU291bmRIYW5kbGVyAAAAAQ9taW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAANNzdGJsAAAAW3N0c2QAAAAAAAAAAQAAAEttcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAAViIAAAAAACdlc2RzAAAAAAMZAAIABBFAFQAAAAAAfQAAAHzkBQITiAYBAgAAABhzdHRzAAAAAAAAAAEAAAAFAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAABQAAAAEAAAAoc3RzegAAAAAAAAAAAAAABQAAALkAAAC6AAAAugAAALoAAAC5AAAAFHN0Y28AAAAAAAAAAQAACBcAAACJdWR0YQAAAIFtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAFRpbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU3LjcxLjEwMAAAACepY210AAAAH2RhdGEAAAABAAAAAEVYMC44LjEoQzAuNy41KQAACZ9tZGF0AAAAXWWIhBvJigACX3JycnJycnJycnJyddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddeAAAAAZBmiBvA2wAAAAGQZpAbwNsAAAABkGaYG8DbAAAAAZBmoBvA2wAAAAGQZqgbwNsAAAABkGawG8DbAFAIoCjfSCFLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vAUAigKN9KIUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vAUAigKN9KIUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vAUAigKN9KIUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vAUAigKN9IIUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8AAAAGQZrgbwNsAAAABkGbAG8DbAAAAAZBmyBvA2wAAAAGQZtAbwNsAAAABkGbYG8DbAAAAAZBm4BvA2wAAAAGQZugbwNsAAAABkGbwG8DbAAAAAZBm+BvA2wAAAAGQZoAbwNsAAAABkGaIG8DbAAAAAZBmkBvA2wAAAAGQZpgbwNsAAAABkGagG8DbAAAAAZBmqBvA2wAAAAGQZrAbwNsAAAABkGa4G8DbAAAAF5liIICfJigAChbJycnJycnJycnJyddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddeAAAAABkGaIG8DbAAAAAZBmkBvA2wAAAAGQZpgbwNsAAAABkGagG8DbAAAAAZBmqBvA2wAAAAGQZrAbwNsAAAABkGa4G8DbAAAAAZBmwBvA2wAAAAGQZsgbwNsAAAABkGbQG8DbAAAAAZBm2BvA2wAAAAGQZuAbwNsAAAABkGboG8DbAAAAAZBm8BvA2wAAAAGQZvgbwNsAAAABkGaAG8DbAAAAAZBmiBvA2wAAAAGQZpAbwNsAAAABkGaYG8DbAAAAAZBmoBvA2wAAAAGQZqgbwNsAAAABkGawG8DbAAAAAZBmuBvA2wAAABdZYiECfJigAChbJycnJycnJycnJyddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddeAAAABkGaIG8DbAAAAAZBmkBvA2wAAAAGQZpgbwNsAAAABkGagG8DbAAAAAZBmqBvA2wAAAAGQZrAbwNsAAAABkGa4G8DbAAAAAZBmwBvA2wAAAAGQZsgbwNsAAAABkGbQG8DbAAAAAZBm2BvA2wAAAAGQZuAbwNsAAAABkGboG8DbAAAAAZBm8BvA2wAAAAGQZvgbwNsAAAABkGaAG8DbAAAAAZBmiBvA2wAAAAGQZpAbwNsAAAABkGaYG8DbAAAAAZBmoBvA2wAAAAGQZqgbwNsAAAABkGawG8DbAAAAAZBmuBvA2wAAABeZYiCAnyYoAAoWycnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXgAAAAAZBmiBvA2wAAAAGQZpAbwNsAAAABkGaYG8DbAAAAAZBmoBvA2wAAAAGQZqgbwNsAAAABkGawG8DbAAAAAZBmuBvA2wAAAAGQZsAbwNsAAAABkGbIG8DbAAAAAZBm0BvA2wAAAAGQZtgbwNsAAAABkGbgG8DbAAAAAZBm6BvA2wAAAAGQZvAbwNsAAAABkGb4G8DbAAAAAZBmgBvA2wAAAAGQZogbwNsAAAABkGaQG8DbAAAAAZBmmBvA2wAAAAGQZqAbwNsAAAABkGaoG8DbAAAAAZBmsBvA2wAAAAGQZrgbwNsAAAAXWWIhAnyYoAAoWycnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXgAAAAZBmiBvA2wAAAAGQZpAbwNsAAAABkGaYG8DbAAAAAZBmoBvA2wAAAAGQZqgbwNsAAAABkGawG8DbAAAAAZBmuBvA2wAAAAGQZsAbwNsAAAABkGbIG8DbAAAAAZBm0BfA2wAAAAGQZtgXwNsAAAABkGbgE8DbA=="},function(e,t,n){var i=n(70),r=n(0);function a(e,t,n,o){return(a="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,a){var o,s=i(e,t);if(s){if((o=Object.getOwnPropertyDescriptor(s,t)).set)return o.set.call(a,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(a,t)){if(!o.writable)return!1;o.value=n,Object.defineProperty(a,t,o)}else r(a,t,n);return!0})(e,t,n,o)}e.exports=function(e,t,n,i,r){if(!a(e,t,n,i||e)&&r)throw new Error("failed to set property");return n}},function(e,t,n){var i=n(146),r=n(147),a=n(68),o=n(43),s=a(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])});e.exports=s},function(e,t,n){var i=n(48),r=n(18),a=n(152),o=n(15),s=n(43);e.exports=function(e,t,n){var d=o(e)?i:a;return n&&s(e,t,n)&&(t=undefined),d(e,r(t,3))}},function(e,t,n){"use strict";(function(e){var t=n(72),i=n(34),r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in r?r.Promise.prototype["finally"]||(r.Promise.prototype["finally"]=i.a):r.Promise=t.a}).call(this,n(31))},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new a(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(82),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(31))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,a,o,s,d=1,u={},l=!1,c=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){A(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){A(e.data)},i=function(e){a.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,i=function(e){var t=c.createElement("script");t.onreadystatechange=function(){A(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(A,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&A(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(o+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[d]=r,i(d),d++},h.clearImmediate=f}function f(e){delete u[e]}function A(e){if(l)setTimeout(A,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(31),n(83))},function(e,t){var n,i,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var d,u=[],l=!1,c=-1;function h(){l&&d&&(l=!1,d.length?u=d.concat(u):c=-1,u.length&&f())}function f(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(d=u,u=[];++c<t;)d&&d[c].run();c=-1,t=u.length}d=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new A(e,t)),1!==u.length||l||s(f)},A.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){e.exports=n.p+"/assets/js/external/hls-0.12.2.js"},function(e,t,n){},function(e,t,n){var i=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function d(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,a=Object.create(r.prototype),o=new T(i||[]);return a._invoke=function(e,t,n){var i=l;return function(r,a){if(i===h)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw a;return b()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===A)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var d=u(e,t,n);if("normal"===d.type){if(i=n.done?f:c,d.arg===A)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(i=f,n.method="throw",n.arg=d.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=d;var l="suspendedStart",c="suspendedYield",h="executing",f="completed",A={};function p(){}function v(){}function g(){}var y={};y[a]=function(){return this};var m=Object.getPrototypeOf,E=m&&m(m(O([])));E&&E!==n&&i.call(E,a)&&(y=E);var k=g.prototype=p.prototype=Object.create(y);function I(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function _(e,t){var n;this._invoke=function(r,a){function o(){return new t(function(n,o){!function s(n,r,a,o){var d=u(e[n],e,r);if("throw"!==d.type){var l=d.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?t.resolve(c.__await).then(function(e){s("next",e,a,o)},function(e){s("throw",e,a,o)}):t.resolve(c).then(function(e){l.value=e,a(l)},function(e){return s("throw",e,a,o)})}o(d.arg)}(r,a,n,o)})}return n=n?n.then(o,o):o()}}function w(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,w(e,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,A;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,A):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function O(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:b}}function b(){return{value:t,done:!0}}return v.prototype=k.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},I(_.prototype),_.prototype[o]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new _(d(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},I(k),k[s]="Generator",k[a]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=O,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var d=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(d&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(d){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,A):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),A}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:O(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),A}},e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){var i=n(88),r=n(101),a=n(55);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},function(e,t,n){var i=n(45),r=n(47),a=1,o=2;e.exports=function(e,t,n,s){var d=n.length,u=d,l=!s;if(null==e)return!u;for(e=Object(e);d--;){var c=n[d];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++d<u;){var h=(c=n[d])[0],f=e[h],A=c[1];if(l&&c[2]){if(f===undefined&&!(h in e))return!1}else{var p=new i;if(s)var v=s(f,A,h,e,t,p);if(!(v===undefined?r(A,f,a|o,s,p):v))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(32),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},function(e,t,n){var i=n(32);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?undefined:t[n][1]}},function(e,t,n){var i=n(32);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(32);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var i=n(45),r=n(95),a=n(98),o=n(99),s=n(50),d=n(15),u=n(51),l=n(52),c=1,h="[object Arguments]",f="[object Array]",A="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var m=d(e),E=d(t),k=m?f:s(e),I=E?f:s(t),_=(k=k==h?A:k)==A,w=(I=I==h?A:I)==A,L=k==I;if(L&&u(e)){if(!u(t))return!1;m=!0,_=!1}if(L&&!_)return y||(y=new i),m||l(e)?r(e,t,n,v,g,y):a(e,t,k,n,v,g,y);if(!(n&c)){var S=_&&p.call(e,"__wrapped__"),T=w&&p.call(t,"__wrapped__");if(S||T){var O=S?e.value():e,b=T?t.value():t;return y||(y=new i),g(O,b,n,v,y)}}return!!L&&(y||(y=new i),o(e,t,n,v,g,y))}},function(e,t,n){var i=n(96),r=n(48),a=n(97),o=1,s=2;e.exports=function(e,t,n,d,u,l){var c=n&o,h=e.length,f=t.length;if(h!=f&&!(c&&f>h))return!1;var A=l.get(e);if(A&&l.get(t))return A==t;var p=-1,v=!0,g=n&s?new i:undefined;for(l.set(e,t),l.set(t,e);++p<h;){var y=e[p],m=t[p];if(d)var E=c?d(m,y,p,t,e,l):d(y,m,p,e,t,l);if(E!==undefined){if(E)continue;v=!1;break}if(g){if(!r(t,function(e,t){if(!a(g,t)&&(y===e||u(y,e,n,d,l)))return g.push(t)})){v=!1;break}}else if(y!==m&&!u(y,m,n,d,l)){v=!1;break}}return l["delete"](e),l["delete"](t),v}},function(e,t,n){var i=n(15);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return i(e)?e:[e]}},function(e,t,n){var i=n(49);e.exports=function(e,t){return!(null==e||!e.length)&&i(e,t,0)>-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(100),r=1,a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,d){var u=n&r,l=i(e),c=l.length;if(c!=i(t).length&&!u)return!1;for(var h=c;h--;){var f=l[h];if(!(u?f in t:a.call(t,f)))return!1}var A=d.get(e);if(A&&d.get(t))return A==t;var p=!0;d.set(e,t),d.set(t,e);for(var v=u;++h<c;){var g=e[f=l[h]],y=t[f];if(o)var m=u?o(y,g,f,t,e,d):o(g,y,f,e,t,d);if(!(m===undefined?g===y||s(g,y,n,o,d):m)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var E=e.constructor,k=t.constructor;E!=k&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof k&&k instanceof k)&&(p=!1)}return d["delete"](e),d["delete"](t),p}},function(e,t,n){var i=n(26)(Object.keys,Object);e.exports=i},function(e,t,n){var i=n(54),r=n(4);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,i(o)]}return t}},function(e,t,n){var i=n(47),r=n(17),a=n(106),o=n(41),s=n(54),d=n(55),u=n(27),l=1,c=2;e.exports=function(e,t){return o(e)&&s(t)?d(u(e),t):function(n){var o=r(n,e);return o===undefined&&o===t?a(n,e):i(t,o,l|c)}}},function(e,t,n){var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=n(104)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,i,a){t.push(i?a.replace(r,"$1"):n||e)}),t});e.exports=a},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(107),r=n(108);e.exports=function(e,t){return null!=e&&r(e,t,i)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var i=n(40),r=n(57),a=n(15),o=n(58),s=n(59),d=n(27);e.exports=function(e,t,n){for(var u=-1,l=(t=i(t,e)).length,c=!1;++u<l;){var h=d(t[u]);if(!(c=null!=e&&n(e,h)))break;e=e[h]}return c||++u!=l?c:!!(l=null==e?0:e.length)&&s(l)&&o(h,l)&&(a(e)||r(e))}},function(e,t,n){var i=n(110),r=n(111),a=n(41),o=n(27);e.exports=function(e){return a(e)?i(o(e)):r(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?undefined:t[e]}}},function(e,t,n){var i=n(39);e.exports=function(e){return function(t){return i(t,e)}}},function(e,t,n){var i=n(113),r=n(4);e.exports=function(e,t){return e&&i(e,t,r)}},function(e,t,n){var i=n(114)();e.exports=i},function(e,t){e.exports=function(e){return function(t,n,i){for(var r=-1,a=Object(t),o=i(t),s=o.length;s--;){var d=o[e?s:++r];if(!1===n(a[d],d,a))break}return t}}},function(e,t,n){var i=n(21);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==r(s[o],o,s););return n}}},function(e,t,n){var i=n(61),r=n(33),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",d="[object Proxy]";e.exports=function(e){if(!r(e))return!1;var t=i(e);return t==o||t==s||t==a||t==d}},function(e,t,n){var i=n(26)(Object.keys,Object);e.exports=i},function(e,t,n){var i=n(61),r=n(15),a=n(53),o="[object String]";e.exports=function(e){return"string"==typeof e||!r(e)&&a(e)&&i(e)==o}},function(e,t,n){var i=n(38);e.exports=function(e,t){return i(t,function(t){return e[t]})}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(18),r=n(21),a=n(4);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!r(t)){var d=i(n,3);t=a(t),n=function(e){return d(s[e],e,s)}}var u=e(t,n,o);return u>-1?s[d?t[u]:u]:undefined}}},function(e,t){e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}},function(e,t,n){var i=n(28);e.exports=function(e,t){var n=[];return i(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}},function(e,t,n){var i=n(127),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},function(e,t){e.exports=function(e,t){return null==e?undefined:e[t]}},function(e,t,n){var i=n(129),r=Math.max;e.exports=function(e,t,n){return t=r(t===undefined?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=r(a.length-t,0),d=Array(s);++o<s;)d[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=n(d),i(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t){e.exports=function(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}},function(e,t){e.exports=function(e,t,n,i,r){return r(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}},function(e,t,n){var i=n(33),r=n(135),a=n(138),o="Expected a function",s=Math.max,d=Math.min;e.exports=function(e,t,n){var u,l,c,h,f,A,p=0,v=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(o);function m(t){var n=u,i=l;return u=l=undefined,p=t,h=e.apply(i,n)}function E(e){var n=e-A;return A===undefined||n>=t||n<0||g&&e-p>=c}function k(){var e=r();if(E(e))return I(e);f=setTimeout(k,function(e){var n=t-(e-A);return g?d(n,c-(e-p)):n}(e))}function I(e){return f=undefined,y&&u?m(e):(u=l=undefined,h)}function _(){var e=r(),n=E(e);if(u=arguments,l=this,A=e,n){if(f===undefined)return function(e){return p=e,f=setTimeout(k,t),v?m(e):h}(A);if(g)return clearTimeout(f),f=setTimeout(k,t),m(A)}return f===undefined&&(f=setTimeout(k,t)),h}return t=a(t)||0,i(n)&&(v=!!n.leading,c=(g="maxWait"in n)?s(a(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),_.cancel=function(){f!==undefined&&clearTimeout(f),p=0,u=A=l=f=undefined},_.flush=function(){return f===undefined?h:I(r())},_}},function(e,t,n){var i=n(136);e.exports=function(){return i.Date.now()}},function(e,t,n){var i=n(137),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(31))},function(e,t){e.exports=function(e){return e}},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var i=n(142),r=n(58),a=Array.prototype.splice;e.exports=function(e,t){for(var n=e?t.length:0,o=n-1;n--;){var s=t[n];if(n==o||s!==d){var d=s;r(s)?a.call(e,s,1):i(e,s)}}return e}},function(e,t,n){var i=n(40),r=n(143),a=n(144),o=n(27);e.exports=function(e,t){return t=i(t,e),null==(e=a(e,t))||delete e[o(r(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:undefined}},function(e,t,n){var i=n(39),r=n(145);e.exports=function(e,t){return t.length<2?e:i(e,r(t,0,-1))}},function(e,t){e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}},function(e,t){e.exports=function(e){return e&&e.length?e[0]:undefined}},function(e,t,n){var i=n(38),r=n(18),a=n(60),o=n(148),s=n(149),d=n(150),u=n(42);e.exports=function(e,t,n){var l=-1;t=i(t.length?t:[u],s(r));var c=a(e,function(e,n,r){return{criteria:i(t,function(t){return t(e)}),index:++l,value:e}});return o(c,function(e,t){return d(e,t,n)})}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var i=n(151);e.exports=function(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,s=a.length,d=n.length;++r<s;){var u=i(a[r],o[r]);if(u)return r>=d?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}},function(e,t,n){var i=n(56);e.exports=function(e,t){if(e!==t){var n=e!==undefined,r=null===e,a=e==e,o=i(e),s=t!==undefined,d=null===t,u=t==t,l=i(t);if(!d&&!l&&!o&&e>t||o&&s&&u&&!d&&!l||r&&s&&u||!n&&u||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||d&&n&&a||!s&&a||!u)return-1}return 0}},function(e,t,n){var i=n(28);e.exports=function(e,t){var n;return i(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}},function(e,t,n){var i=n(71);e.exports=function(e){if(Array.isArray(e))return i(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var i=n(71);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";n.r(t);n(80),n(84),n(85);var i=n(5),r=n.n(i),a=n(7),o=n.n(a),s=n(0),d=n.n(s),u=n(19),l=n.n(u),c=n(11),h=n.n(c),f=n(10),A=n.n(f),p=n(3),v=n.n(p),g=n(12),y=n.n(g),m=n(14),E=n.n(m),k=n(6);window.spwp=window.spwp||{},window.spwp.cmd=window.spwp.cmd||[],window.spwp.adUnits=window.spwp.adUnits||[],window.spwp.activeViews=window.spwp.activeViews||{};var I,_,w,L,S,T,O,b,R=n(4),C=n.n(R),P=(I=[],_=[],L=function(e,t){if("undefined"!=typeof sessionStorage)try{sessionStorage.removeItem(e),sessionStorage.setItem(e,JSON.stringify(t))}catch(n){if(n.code)switch(n.code){case 22:T();break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===n.name&&T()}}},S=function(e){var t=null;return"undefined"!=typeof sessionStorage&&(t=JSON.parse(sessionStorage.getItem(e))),t},T=function(){"undefined"!=typeof sessionStorage&&(sessionStorage.removeItem("spwp_unitInfo"),sessionStorage.removeItem("spwp_adInfo"))},O=function(e,t){var n=y()(e,function(e){return e.key==t.key});n?t.adInfo?n.adInfo=t.adInfo:t.unitInfo?n.unitInfo=t.unitInfo:n=t:e.push(t)},{support:w=function(){var e=k.a.getConfig().enablePersistAd,t="undefined"!=typeof sessionStorage;return!(!e||!t)},isBackForwardType:function(){return!(!window.performance||2!=window.performance.navigation.type)},setPersistUnitInfoData:function(e,t){if(w()){_=S("spwp_unitInfo")||[],t=t.map(function(e){return{unitId:e.unitId,divId:e.divId,mediaType:e.mediaType}});var n=new Date;O(_,{key:e,unitInfo:t,regDate:n}),L("spwp_unitInfo",_)}},getPersistUnitInfoData:function(e){if(!w())return null;var t=S("spwp_unitInfo")||[],n=y()(t,function(t){return t.key==e});return n?n.unitInfo:n},setPersistAdData:function(e,t){if(w()){I=S("spwp_adInfo")||[];var n=new Date;O(I,{key:e,adInfo:t,regDate:n}),L("spwp_adInfo",I)}},getPersistAdData:function(e){if(!w())return null;var t=S("spwp_adInfo")||[],n=y()(t,function(t){return t.key==e});return n?n.adInfo:n},resetPersistData:function(){if(w()){var e=S("spwp_adInfo")||[],t=new Date,n=new Date(t.setHours(0,0,0,0));L("spwp_adInfo",e.filter(function(e){var t=e.regDate?new Date(e.regDate):"";return n<=t}))}},initPersistAds:(b=o()(r.a.mark(function Xr(e,t){var n;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==C()(t).length||t.constructor!==Object){i.next=2;break}return i.abrupt("return");case 2:return(n=e.getAdapterManager()).isPersist=!0,n.setAdproviderInfo(t),i.next=7,n.handleRequestAdapters();case 7:case"end":return i.stop()}},Xr)})),function(e,t){return b.apply(this,arguments)})}),D=n(1),M=n.n(D),N=n(2),x=n.n(N),B=n(22),U=n.n(B);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G=k.a.getCreativeTypes(),W=function(){function e(t){M()(this,e),d()(this,"unitId",void 0),d()(this,"divId",void 0),d()(this,"mediaType",void 0),d()(this,"activeViewConfig",void 0),d()(this,"sfRenderConfig",void 0),d()(this,"slotSeqNo",void 0),d()(this,"unitTarget",void 0),d()(this,"extraOption",void 0);var n=t.unitId,i=t.divId,r=t.mediaType,a=t.activeViewConfig,o=t.sfRenderConfig,s=t.slotSeqNo,u=void 0===s?1:s;this.unitId=n,this.setAdSlotElementId(i,u),this.setMediaType(r),this.setTargeting(F({},t.targeting)),this.setExtraOption(F({},t.extraOption)),this.activeViewConfig=a||{activeViewPercentage:.5,activeViewTime:1e3},this.sfRenderConfig=o||{renderDirectlyInHost:!1}}return x()(e,[{key:"getUnitId",value:function(){return this.unitId}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getAdSlotElementId",value:function(){return this.divId}},{key:"getTargeting",value:function(){return this.unitTarget}},{key:"setTargeting",value:function(e){this.unitTarget=new function t(e){M()(this,t);var n=e.yob,i=e.gender,r=e.uct,a=e.ai;this.yob=n||"",this.gender=i||"",this.uct=r||"",this.ai=a||""}(e)}},{key:"getExtraOption",value:function(){return this.extraOption}},{key:"setExtraOption",value:function(e){this.extraOption=new function t(e){M()(this,t);var n=e.oid,i=e.sid1,r=e.sid2,a=e.calp,o=e.gdid,s=e.mediaParams;this.oid=n||"",this.sid1=i||"",this.sid2=r||"",this.calp=a||"",this.gdid=o||"",this.mediaParams=s||{}}(e)}},{key:"setMediaType",value:function(e){this.mediaType=e!==undefined?e.toUpperCase():G.BANNER}},{key:"setAdSlotElementId",value:function(e,t){this.divId=e||"gfp_ad_".concat(this.unitId,"_").concat(t),this.slotSeqNo=t}},{key:"unitId",get:function(){return this.unitId}},{key:"divId",get:function(){return this.divId}},{key:"slotSeqNo",get:function(){return this.slotSeqNo}},{key:"activeViewConfig",get:function(){return this.activeViewConfig}},{key:"sfRenderConfig",get:function(){return this.sfRenderConfig}}]),e}(),j=function(){function e(t){M()(this,e);var n=t.adUnitData,i=t.gfpAd,r=(t.adData,t.unitId),a=t.divId,o=t.adProviderName,s=t.exclusionCriteria;this.adUnitData=n,this.gfpAd=i,this.unitId=r,this.divId=a,this.adProviderName=o,this.exclusionCriteria=s}return x()(e,[{key:"getAdUnitData",value:function(){return this.adUnitData}},{key:"getAd",value:function(){return this.gfpAd}},{key:"getExclusionCriteria",value:function(){return this.exclusionCriteria}}]),e}();d()(j,"Type",{AD_LOAD:"adLoad",AD_IMPRESSION:"adImpression",AD_CLICK:"adClick",STARTED:"start",SKIPPED:"skip",COMPLETE:"complete",PAUSED:"pause",RESUMED:"resume",MEDIATION_INIT:"MEDIATION_INIT",MEDIATION_READY:"MEDIATION_READY",MEDIATION_FAILED:"MEDIATION_FAILED"});var X=function(){function e(t){M()(this,e);var n=t.adUnitData,i=t.gfpAdError,r=(t.adErrorData,t.unitId),a=t.divId,o=t.playerInfo;this.adUnitData=n,this.gfpAdError=i,this.sspAdError=i,this.unitId=r,this.divId=a,this.playerInfo=o}return x()(e,[{key:"getAdUnitData",value:function(){return this.adUnitData}},{key:"getError",value:function(){return this.gfpAdError}}]),e}();d()(X,"Type",{AD_LOAD_FAILED:"adLoadFailed",AD_ERROR:"adError"});var H=n(9),q=n.n(H),z=function(){function e(t){var n=this;M()(this,e),this._eventList=t,this.internalEvent=new q.a,v()(C()(t),function(e){n.internalEvent.on(e,t[e])})}return x()(e,[{key:"onAdLoaded",value:function(e){this.internalEvent.emit(j.Type.AD_LOAD,e)}},{key:"onAdFailedToLoad",value:function(e){this.internalEvent.emit(X.Type.AD_LOAD_FAILED,e)}},{key:"onAdImpression",value:function(e){this.internalEvent.emit(j.Type.AD_IMPRESSION,e)}},{key:"onAdClicked",value:function(e){this.internalEvent.emit(j.Type.AD_CLICK,e)}},{key:"onAdError",value:function(e){this.internalEvent.emit(X.Type.AD_ERROR,e)}},{key:"eventList",get:function(){return this._eventList},set:function(e){this._eventList=e}}]),e}(),K=window.navigator.userAgent.toLowerCase(),Q={IS_WIN:/Windows/i.test(K),IS_MAC:/Macintosh/i.test(K),IS_OP:"undefined"!=typeof window.opera||/Opera/i.test(K),IS_IE:!!K.match(/(?:(MSIE) |(Trident)\/.+rv[ :])([\w.]+)/i),IS_EDGE:/Edge/i.test(K),IS_FF:/Firefox/i.test(K),IS_CR:/Chrome|CriOS/i.test(K),IS_SF:!/Chrome|CriOS/i.test(K)&&(K||"").indexOf("safari")>-1,IS_IOS:/iPhone|iPad|iPod/i.test(K),IS_IPHONE:/iPhone;/i.test(K),IS_IPAD:/iPad;/i.test(K),IS_IPOD:/iPod;/i.test(K),IS_ANDROID:/Android/i.test(K),IS_WINDOWS_MOBILE:/Windows Phone|Windows CE/i.test(K),IS_BLACKBERRY:/BlackBerry/i.test(K),IS_SONYERICSSON:/SonyEricsson/i.test(K),IS_SYMBIAN_OS:/SymbianOS/i.test(K),IS_WEB_OS:/webOS/i.test(K),IS_TIZEN:/Tizen/i.test(K),IS_WEBKIT_MOBILE:/AppleWebKit/i.test(K),IS_IE_MOBILE:/IEMobile/i.test(K),IS_OPERA_MINI:/Opera Mini/i.test(K),IS_DOLFIN:/Dolfin/i.test(K),IS_NAVER_APP:/NAVER\((inapp|higgs)/i.test(K),IS_SAMSUNG_BROWSER:/SamsungBrowser/i.test(K),init:function(){this.IE="IE",this.EDGE="Edge",this.CR="Chrome",this.SF="Safari",this.OP="Opera",this.FF="Firefox",this.WEBKIT_MOBILE="WebKit Mobile",this.IE_MOBILE="IE Mobile",this.OPERA_MINI="Opera Mini",this.DOLFIN="Dolfin",this.NAVER_APP="Naver App",this.SAMSUNG_BROWSER="SamsungBrowser",this.WIN="Windows",this.MAC="Macintosh",this.IOS="IOS",this.ANDROID="Android",this.WINDOWS_MOBILE="Windows Mobile",this.BLACKBERRY="BlackBerry",this.SONYERICSSON="SonyEricsson",this.SYMBIAN_OS="SymbianOS",this.WEB_OS="WebOS",this.TIZEN="Tizen",this.UNKNOWN_OS="an unknown OS",this.UNKNOWN_BROWSER="an unknown browser",this.UNKNOWN_OR_NOT_SUPPORTED_BROWSER="an unknown or not supported browser",this.UNKNOWN_OR_NOT_SUPPORTED_OS="an unknown or not supported OS",this.UNKNOWN_BROWSER_VERSION=-1,this.UNKNOWN_OS_VERSION=-1,this.BROWSER=this.searchBrowser()||this.UNKNOWN_OR_NOT_SUPPORTED_BROWSER,this.OS=this.searchOS()||this.UNKNOWN_OR_NOT_SUPPORTED_OS},isMobile:function(){return this.IS_IOS||this.IS_ANDROID||this.IS_TIZEN||this.IS_WINDOWS_MOBILE||this.IS_BLACKBERRY||this.IS_SONYERICSSON||this.IS_SYMBIAN_OS||this.IS_WEB_OS||this.IS_OPERA_MINI||this.IS_DOLFIN},searchBrowser:function(){return this.isMobile()?this.IS_WEBKIT_MOBILE?this.WEBKIT_MOBILE:this.IS_IE_MOBILE?this.IE_MOBILE:this.IS_OPERA_MINI?this.OPERA_MINI:this.IS_DOLFIN?this.DOLFIN:this.IS_NAVER_APP?this.NAVER_APP:this.IS_SAMSUNG_BROWSER?this.SAMSUNG_BROWSER:this.UNKNOWN_BROWSER:this.IS_OP?this.OP:this.IS_IE?this.IE:this.IS_EDGE?this.EDGE:this.IS_FF?this.FF:this.IS_CR?this.CR:this.IS_SF?this.SF:this.UNKNOWN_BROWSER},searchBrowserVersion:function(){if(this.isMobile()){var e={chrome:this.UNKNOWN_BROWSER_VERSION,samsung:this.UNKNOWN_BROWSER_VERSION,webview:this.UNKNOWN_BROWSER_VERSION,naverapp:this.UNKNOWN_BROWSER_VERSION,naverapp_svc_cd:this.UNKNOWN_BROWSER_VERSION};try{this.IS_CR&&null!=K.match(/(Chrome|CriOS)\/([0-9\.]+)/i)&&(e.chrome=parseFloat(K.match(/(Chrome|CriOS)\/([0-9\.]+)/i)[2])),this.IS_SAMSUNG_BROWSER&&null!=K.match(/SamsungBrowser\/([0-9\.]+)/i)&&(e.samsung=parseFloat(K.match(/SamsungBrowser\/([0-9\.]+)/i)[1])),this.IS_WEBKIT_MOBILE&&null!=K.match(/Version\/([0-9\.]+)/i)&&(e.webview=parseFloat(K.match(/Version\/([0-9\.]+)/i)[1])),this.IS_NAVER_APP&&null!=K.match(/NAVER\((inapp|higgs); search; ([0-9\.]+); ([0-9\.]+)(; ([a-z|0-9\.]+))?\)/i)&&(e.naverapp=parseFloat(K.match(/NAVER\((inapp|higgs); search; ([0-9\.]+); ([0-9\.]+)(; ([a-z|0-9\.]+))?\)/i)[3]),e.naverapp_svc_cd=parseFloat(K.match(/NAVER\((inapp|higgs); search; ([0-9\.]+); ([0-9\.]+)(; ([a-z|0-9\.]+))?\)/i)[2]))}catch(t){}finally{return e}}else try{return this.IS_IE?"Microsoft Internet Explorer"==navigator.appName?parseFloat(K.match(/MSIE ([0-9\.]+)/i)[1]):"Netscape"==navigator.appName&&null!=new RegExp("trident/.*rv[ :]([0-9]{1,}[.0-9]{0,})").exec(K)?parseFloat(RegExp.$1):-1:this.IS_EDGE?parseInt(K.match(/Edge\/([0-9\.]+)/i)[1]):this.IS_CR?parseFloat(K.match(/Chrome\/([0-9\.]+)/i)[1]):this.IS_SF?parseFloat(K.match(/Version\/([0-9\.]+)/i)[1]):this.IS_OP?parseFloat(K.match(/Version\/([0-9\.]+)/i)[1]):this.IS_FF?parseFloat(K.match(/Firefox\/([0-9\.]+)/i)[1]):this.UNKNOWN_BROWSER_VERSION}catch(t){return this.UNKNOWN_BROWSER_VERSION}},searchOSVersion:function(){try{return this.isMobile()?this.IS_IOS?parseFloat(K.match(/OS ((\d+_?){2,3})\s/i)[1].replace(/_/g,".")):this.IS_ANDROID?parseFloat(K.match(/Android ([0-9\.]+)/i)[1]):/Windows Phone/i.test(K)?parseFloat(K.match(/Windows Phone ([0-9\.]+)|Windows Phone OS ([0-9\.]+)/i)[0].match(/[0-9\.]+/)):this.IS_SYMBIAN_OS?parseFloat(K.match(/SymbianOS\/([0-9\.]+)/i)[1]):this.IS_WEB_OS?parseFloat(K.match(/webOS\/([0-9\.]+)/i)[1]):this.IS_TIZEN?parseFloat(K.match(/Tizen ([0-9\.]+)/i)[1]):this.UNKNOWN_OS_VERSION:this.IS_WIN?parseFloat(K.match(/Windows NT ([0-9\.]+)/i)[1]):this.IS_MAC?parseFloat(K.match(/Mac OS X ([\d\_.]+)/i)[1].replace(/\_/g,".")):this.UNKNOWN_OS_VERSION}catch(e){return this.UNKNOWN_OS_VERSION}},searchOS:function(){return this.isMobile()?this.IS_IOS?this.IOS:this.IS_ANDROID?this.ANDROID:this.IS_WINDOWS_MOBILE?this.WINDOWS_MOBILE:this.IS_BLACKBERRY?this.BLACKBERRY:this.IS_SONYERICSSON?this.SONYERICSSON:this.IS_SYMBIAN_OS?this.SYMBIAN_OS:this.IS_WEB_OS?this.WEB_OS:this.IS_TIZEN?this.TIZEN:this.UNKNOWN_OS:this.IS_WIN?this.WIN:this.IS_MAC?this.MAC:this.UNKNOWN_OS},checkAgent:function(e){return 10===e?!(!this.IS_WIN||!this.IS_IE||8==this.searchBrowserVersion()):20===e?!(!this.IS_WIN||!this.IS_IE):30===e?!(!this.IS_WIN||!this.IS_IE&&!this.IS_CR):40===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_CR||this.IS_SF)):45===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_SF||this.IS_OP)):50===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_CR||this.IS_SF||this.IS_OP)):60===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_CR||this.IS_SF||this.IS_FF)):80===e?!(!this.IS_WIN||!(this.IS_IE||this.IS_FF||this.IS_CR||this.IS_SF||this.IS_OP)):90===e&&!!(this.IS_IE||this.IS_FF||this.IS_CR||this.IS_SF||this.IS_OP)},hasFP:function(){if(navigator.plugins&&navigator.mimeTypes.length){var e=navigator.plugins["Shockwave Flash"];if(e&&e.description)return!0}else try{if(null!=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(t){}return!1}};Q.init();var Z=Q,Y=function(){function e(t){M()(this,e);var n=t.code,i=t.message,r=t.type,a=t.adProviderName;this.code=n,this.message=i,this.type=r,this.adProviderName=a}return x()(e,null,[{key:"ERROR_CODE",get:function(){return{ERROR_CODE_INTERNAL_ERROR:0,ERROR_CODE_INVALID_REQUEST:1,ERROR_CODE_NETWORK_ERROR:2,ERROR_CODE_NO_FILL:3}}},{key:"ERRORS",get:function(){return{INTERNAL_ERROR:{code:e.ERROR_CODE.ERROR_CODE_INTERNAL_ERROR,message:"INTERNAL_ERROR"},INVALID_REQUEST:{code:e.ERROR_CODE.ERROR_CODE_INVALID_REQUEST,message:"INVALID_REQUEST"},NETWORK_ERROR:{code:e.ERROR_CODE.ERROR_CODE_NETWORK_ERROR,message:"NETWORK_ERROR"},NO_FILL:{code:e.ERROR_CODE.ERROR_CODE_NO_FILL,message:"NO_FILL"}}}},{key:"LOAD_STAT_CODE",get:function(){return{STAT_CODE_SUCCESS:1,STAT_CODE_NO_FILL:2,STAT_CODE_TIMEOUT:3,STAT_CODE_ERROR:0}}},{key:"START_STAT_CODE",get:function(){return{STAT_CODE_SUCCESS:1,STAT_CODE_TIMEOUT:3,STAT_CODE_ERROR:0}}},{key:"ERROR_DETAIL_CODE",get:function(){return{INTERNAL_ERROR:1e3,INIT_ERROR:2e3,INIT_ERROR_INVALID_PARAM:2100,INIT_ERROR_ADPROVIDER:2200,LOAD_ERROR:3e3,LOAD_ERROR_INVALID_PARAM:3100,LOAD_ERROR_INVALID_PARAM_ADUINTID:3110,LOAD_ERROR_INVALID_PARAM_ADPARAM:3120,LOAD_ERROR_WATERFALL_LIST:3200,LOAD_ERROR_WATERFALL_LIST_REQUEST_FAILED:3210,LOAD_ERROR_WATERFALL_LIST_PARSE_FAILED:3220,LOAD_ERROR_AD_SELECTION:3300,LOAD_ERROR_AD_SELECTION_NO_FILL:3310,LOAD_FAILED_TIMEOUT:3400,START_ERROR:4e3,START_ERROR_MEDIA_START:4100,START_ERROR_MEDIA_START_FAILED:4110,CLICK_ERROR:5e3}}}]),x()(e,[{key:"getErrorCode",value:function(){return this.code}},{key:"getMessage",value:function(){return this.message}},{key:"getType",value:function(){return this.type}},{key:"getAdProvider",value:function(){return this.adProviderName}}]),e}();d()(Y,"Type",{AD_LOAD_ERROR:"adLoadError",AD_DSP_LOAD_ERROR:"adDspLoadError",AD_PLAY_ERROR:"adPlayError"});var J=j.Type,$=J.AD_LOAD,ee=J.AD_IMPRESSION,te=J.AD_CLICK,ne=J.STARTED,ie=J.SKIPPED,re=J.COMPLETE,ae=J.PAUSED,oe=J.RESUMED,se=Y.Type.AD_LOAD_ERROR,de=function(){function e(t){M()(this,e);var n=t.adListener,i=t.videoQoeListener;this.info=t,this.adListener=n,this.videoQoeListener=i,this.eventListeners=E()([n,i],function(e){return void 0!==e})}return x()(e,[{key:"setEventListeners",value:function(e){var t=e.adListener,n=e.videoQoeListener;this.adListener=t,this.videoQoeListener=n,this.eventListeners=E()([t,n],function(e){return void 0!==e})}},{key:"notifyAdLoaded",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId,a=n.adProviderName,o=n.exclusionCriteria;v()(t,function(t){var n=new j({adUnitData:{unitId:i,divId:r},gfpAd:e,type:$,unitId:i,divId:r,adProviderName:a,exclusionCriteria:o});t&&t.onAdLoaded(n)})}},{key:"notifyAdFailedToLoad",value:function(e){var t=e.code,n=e.message,i=e.type,r=this.adListener,a=this.info,o=a.unitId,s=a.divId,d=a.playerInfo,u=new Y({code:t,message:n,type:i}),l=new X({adUnitData:{unitId:o,divId:s},gfpAdError:u,unitId:o,divId:s,playerInfo:d});r&&r.onAdFailedToLoad(l)}},{key:"notifyAdImpression",value:function(e){var t=this.adListener,n=this.info,i=n.unitId,r=n.divId,a=n.adProviderName,o=new j({adUnitData:{unitId:i,divId:r},gfpAd:e,type:ee,unitId:i,divId:r,adProviderName:a});t&&t.onAdImpression(o)}},{key:"notifyAdClicked",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId,a=n.adProviderName;v()(t,function(t){var n=new j({adUnitData:{unitId:i,divId:r},gfpAd:e,type:te,unitId:i,divId:r,adProviderName:a});t&&t.onAdClicked(n)})}},{key:"notifyAdError",value:function(e){var t=e.code,n=e.message,i=e.type,r=e.adErrorData,a=this.eventListeners,o=this.adListener,s=this.info,d=s.unitId,u=s.divId,l=s.adProviderName;i==se&&void 0!==o&&(a=[o]),v()(a,function(e){var a=new Y({code:t,message:n,type:i,adProviderName:l}),o=new X({adUnitData:{unitId:d,divId:u},gfpAdError:a,adErrorData:r});e&&e.onAdError(o)})}},{key:"notifyAdStarted",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId;v()(t,function(t){if(t.onAdStarted){var n=new j({adUnitData:{unitId:i,divId:r},gfpAd:e,type:ne});t&&t.onAdStarted(n)}})}},{key:"notifyAdSkipped",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId;v()(t,function(t){if(t.onAdSkipped){var n=new j({adUnitData:{unitId:i,divId:r},gfpAd:e,type:ie});t&&t.onAdSkipped(n)}})}},{key:"notifyAdComplete",value:function(e){var t=this.eventListeners,n=this.info,i=n.unitId,r=n.divId;v()(t,function(t){if(t.onAdComplete){var n=new j({adUnitData:{unitId:i,divId:r},gfpAd:e,type:re});t&&t.onAdComplete(n)}})}},{key:"notifyAdPaused",value:function(e){var t=this.videoQoeListener,n=this.info,i=n.unitId,r=n.divId,a=new j({adUnitData:{unitId:i,divId:r},gfpAd:e,type:ae});t&&t.onAdPaused(a)}},{key:"notifyAdResumed",value:function(e){var t=this.videoQoeListener,n=this.info,i=n.unitId,r=n.divId,a=new j({adUnitData:{unitId:i,divId:r},gfpAd:e,type:oe});t&&t.onAdResumed(a)}}]),e}(),ue=n(29),le=n.n(ue),ce=n(44),he=n.n(ce),fe=n(16),Ae=n.n(fe);window.naver_corp_da=window.naver_corp_da||{};var pe=function(){try{return window.self!==window.top}catch(e){return!0}},ve=function(){function e(t){M()(this,e);var n=t.container,i=t.divId,r=t.scrollTarget,a=t.activeViewTime,o=t.activeViewPercentage,s=t.orientationChangeTime,d=t.callback,u=t.fluid;n&&(this.divId=i,this.container=n,this.scrollTarget=r||window,this.activeViewTime=a||1e3,this.activeViewPercentage=o||.5,this.orientationChangeTime=s||500,this.callback=d||null,this.fluid=u,this.viewPortIn=!1,this.timeout=null,this.onceCalled=!1,this.isMobile=Z.isMobile(),this.checkViewPortHandler=function(e){var t=this;this.container=document.getElementById(this.divId);var n=this.beIntoViewPortWithRatio(this.container,this.activeViewPercentage),i=!this.beIntoViewPortWithRatio(this.container,.01);if(n){if(this.viewPortIn=!0,this.timeout)return;this.timeout=setTimeout(function(){t.viewPortIn&&(t.callback&&t.callback(),t.removeEventListener())},this.activeViewTime)}if(i){if(this.viewPortIn=!1,!this.timeout)return;clearTimeout(this.timeout),this.timeout=null}},this.orientationChangeEventHandler=function(e){var t=this;setTimeout(function(){t.checkViewPortHandler()},this.orientationChangeTime)},this.checkActiveView=function(){var e=this;setTimeout(function(){e.checkViewPortHandler()},700),this.addEventListener()},this.clearActiveView=function(){this.removeEventListener(),clearTimeout(this.timeout),this.timeout=null})}return x()(e,[{key:"beIntoViewPortWithRatio",value:function(e,t){if(!e)return!1;t=t||1;var n=parseInt(e.style.width)||parseInt(e.getBoundingClientRect().width)||parseInt(e.offsetWidth),i=parseInt(e.style.height)||parseInt(e.getBoundingClientRect().height)||parseInt(e.offsetHeight),r=window.pageYOffset,a=window.pageXOffset,o=window.pageXOffset+window.innerWidth,s=0;s=null!==naver_corp_da.webviewY&&naver_corp_da.webviewY!==undefined&&""!==naver_corp_da.webviewY?window.pageYOffset+(window.innerHeight-naver_corp_da.webviewY):window.pageYOffset+window.innerHeight;var d=r<=this.offset(e).top+i*(1-t),u=s>=this.offset(e).top+i*t,l=a<=this.offset(e).left+n*(1-t),c=o>=this.offset(e).left+n*t;return this.fluid?d&&u:d&&u&&l&&c}},{key:"offset",value:function(e){var t,n,i={top:0,left:0},r=e&&e.ownerDocument;if(r)return t=r.documentElement,"undefined"!==Ae()(e.getBoundingClientRect)&&(i=e.getBoundingClientRect()),n=this.getWindow(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}},{key:"getWindow",value:function(e){return e&&e===e.window?e:9===e.nodeType&&e.defaultView}},{key:"removeEventListener",value:function(){var e=this.isMobile,t=this.scrollTarget;t.removeEventListener?(t.removeEventListener("scroll",this,!1),e||t.removeEventListener("resize",this,!1)):(this.scrollTarget.detachEvent("scroll",this,!1),e||this.scrollTarget.detachEvent("resize",this,!1)),window.removeEventListener("orientationchange",this,!1)}},{key:"addEventListener",value:function(){var e=this.isMobile,t=this.scrollTarget;t.addEventListener?(t.addEventListener("scroll",this,!1),e||t.addEventListener("resize",this,!1)):(t.attachEvent("scroll",this,!1),e||t.attachEvent("resize",this,!1)),window.addEventListener("orientationchange",this,!1)}},{key:"handleEvent",value:function(e){switch(e.type){case"scroll":case"resize":this.checkViewPortHandler(e);break;case"orientationchange":this.orientationChangeEventHandler(e)}}}]),e}(),ge=function(){function e(t){M()(this,e);var n=t.adProvider;this.adProvider=n}return x()(e,[{key:"getAdProvider",value:function(){return this.adProvider}}]),e}(),ye=function(){function e(t){M()(this,e);var n=t.src,i=t.global,r=t.protocol,a=void 0===r?document.location.protocol:r;this.src=n,this.global=i,this.protocol=a,this.isLoaded=!1,this.isTryLoad=!1,this.promise}return x()(e,[{key:"loadScript",value:function(){var e=this;return this.isTryLoad=!0,new Promise(function(t,n){try{window[e.global]&&t();var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src="".concat(e.src);var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),i.addEventListener("load",function(){e.isLoaded=!0,t(i)}),i.addEventListener("error",function(t){n(new Error("".concat(e.src," failed to load.")))})}catch(a){n(new Error("".concat(e.src," failed to load.")))}})}},{key:"load",value:function(){var e=this;return this.isTryLoad?this.promise:(this.promise=new Promise(function(){var t=o()(r.a.mark(function n(t,i){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.isLoaded){n.next=12;break}return n.prev=1,n.next=4,e.loadScript();case 4:t(window[e.global]),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),i(n.t0);case 10:n.next=13;break;case 12:t(window[e.global]);case 13:case"end":return n.stop()}},n,null,[[1,7]])}));return function(e,n){return t.apply(this,arguments)}}()),this.promise)}}]),e}(),me=function(){function e(t){var n=t.timeout;M()(this,e),this.timeout=n,this.internalEvent=new q.a}return x()(e,[{key:"initTimer",value:function(t){var n,i=e.Type,r=i.LOAD_SUCCESS,a=i.LOAD_TIMEOUT,o=i.LOAD_FAILED;this.timeout>0&&(this.internalEvent.on(r,this.clearDefaultTimeout.bind(this)),this.internalEvent.on(o,this.clearDefaultTimeout.bind(this)),this.setDefaultTimeout()),this.addEventListener((n={},d()(n,r,function(e){t.onAdLoad&&t.onAdLoad(e)}),d()(n,a,function(e){t.onAdLoadFailedTimeout&&t.onAdLoadFailedTimeout(e)}),d()(n,o,function(e){t.onAdLoadFailed&&t.onAdLoadFailed(e)}),n))}},{key:"addEventListener",value:function(e){var t=this;v()(C()(e),function(n){t.internalEvent.on(n,e[n])})}},{key:"fireEvent",value:function(e){var t=e.name,n=e.evtData;this.internalEvent.emit(t,n),this.removeAllListeners()}},{key:"setDefaultTimeout",value:function(){var t=this,n=e.Type.LOAD_TIMEOUT,i=this.timeout;this.timerId=window.setTimeout(function(){t.fireEvent({name:n})},i)}},{key:"clearDefaultTimeout",value:function(){var e=this.timerId;window.clearTimeout(e)}},{key:"removeAllListeners",value:function(){var t=this,n=e.Type;v()(n,function(e){t.internalEvent.removeAllListeners(e)})}}]),e}();d()(me,"Type",{LOAD_SUCCESS:"LOAD_SUCCESS",LOAD_TIMEOUT:"LOAD_TIMEOUT",LOAD_FAILED:"LOAD_FAILED"});var Ee=function(){var e="offset",t={nullProps:[e+"Parent"],zeroProps:[]};t.zeroProps=[e+"Height",e+"Width","clientHeight","clientWidth"];return{validateNode:function(e){var n=document.body,i=!1;if(null===e)return!0;var r,a=0===(r=e).childNodes.length||!Array.prototype.some.call(r.childNodes,function(e){return"SCRIPT"!==e.nodeName});null!==n.getAttribute("abp")&&(i=!0);for(var o=0;o<t.nullProps.length&&!a;o++){if(null==e[t.nullProps[o]]){i=!0;break}if(i)break}for(o=0;o<t.zeroProps.length&&!a&&!i;o++)0==e[t.zeroProps[o]]&&(i=!0);return function(e,t){for(;e&&1===e.nodeType&&!i;)t(e),e=e.parentNode}(e,function(e){if(window.getComputedStyle!==undefined){var t=window.getComputedStyle(e,null);"none"!=t.getPropertyValue("display")&&"hidden"!=t.getPropertyValue("visibility")||(i=!0)}}),i}}}();function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _e=new ye({src:"https://www.googletagservices.com/tag/js/gpt.js",global:"googletag"}),we=(Y.Type.AD_LOAD_ERROR,Y.LOAD_STAT_CODE),Le=Y.ERROR_DETAIL_CODE,Se=me.Type,Te=Se.LOAD_SUCCESS,Oe=Se.LOAD_FAILED,be=j.Type,Re=be.MEDIATION_READY,Ce=be.MEDIATION_FAILED,Pe=function(){function e(t){var n=this;M()(this,e),d()(this,"onAdLoadFailed",function(e){var t=e.params;n.collapseAdSlot(t)}),d()(this,"onAdLoadFailedTimeout",function(){var e={st:we.STAT_CODE_TIMEOUT,erc:Le.LOAD_ERROR_AD_SELECTION_NO_FILL,erm:"GPT_AD_LOAD_FAILED_TIMEOUT"};n.collapseAdSlot(e)}),d()(this,"collapseAdSlot",function(e){var t=n.adapterManager,i=n.adProvider.encrypted,r=t.callLogs,a=n.info,o=a.divId;r(a.eventTracking.loadErrors,i,e,"ssp loaded error(gpt) url");var s=document.getElementById(o);"none"==s.style.display&&(s.style.display="block"),n.reset(),t.fireEvent({name:Ce})}),d()(this,"getGfpAd",function(){var e=n.adProviderName;return new ge({adProvider:e})});var i=t.adProvider,r=t.eventTracking,a=t.eventNotifier,o=t.timeoutManager,s=t.adapterManager,u=i.adInfo,l=i.adProviderName,c=i.connectionType,h=i.layoutType,f=i.renderType,A=i.creativeType,p=i.eventTracking;this.adProviderName=l,this.connectionType=c,this.layoutType=h,this.renderType=f,this.creativeType=A,this.responseSize,this.info=t,this.eventNotifier=a,this.timeoutManager=o,this.adapterManager=s,this.adProvider=i,this.adInfo=u,this.eventTracking=r,this.adEvtTrk=p}return x()(e,[{key:"handle",value:function(){var e=o()(r.a.mark(function t(){var e,n,i,a,o,s,d,u,l,c,h,f,A,p,g,y=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.timeoutManager,n=this.adapterManager,i=this.adInfo,a=i.sdkRequestInfo,o=a.AD_UNIT_CODE,s=a.NETWORK_CODE,d=i.requestSizes,u=this.info,l=u.divId,c=u.mediaParams,c.contentKeywords,h=le()(c,["contentKeywords"]),e.initTimer(this),t.prev=5,t.next=8,_e.load();case 8:this.googletag=window.googletag||{},(f=this.googletag).cmd=f.cmd||[],A="/".concat(s,"/").concat(o),p=d.map(function(e){return he()(e)}),f.cmd.push(function(){try{var e=f.defineSlot(A,p,l);y.slot=e,null!==e?(e.addService(f.pubads()),v()(C()(h),function(t){e.setTargeting(t,h[t])}),e.setCollapseEmptyDiv(!0),f.pubads().enableSingleRequest(),f.enableServices()):f.pubads().refresh()}catch(t){}}),n.fireEvent({name:Re}),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](5),g={params:{st:we.STAT_CODE_ERROR,erc:Le.LOAD_ERROR_AD_SELECTION,erm:"GPT_LIB_LOAD_FAILED"}},e.fireEvent({name:Oe,evtData:g});case 21:case"end":return t.stop()}},t,this,[[5,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"display",value:function(){var e=this,t=this.info.divId,n=this.googletag;n.cmd.push(function(){e.setGptEventListener(),n.display(t)})}},{key:"setGptEventListener",value:function(){var e=this,t=this.info.divId;this.googletag.pubads().addEventListener("slotRenderEnded",function(n){if(null!=e.slot)try{if(n.slot==e.slot){var i=!n.isEmpty;if(e.responseSize=n.size,i)e.timeoutManager.fireEvent({name:Te}),e.addEventListener(t);else{var r={params:{st:we.STAT_CODE_NO_FILL,erc:Le.LOAD_ERROR_AD_SELECTION_NO_FILL,erm:"GPT_AD_LOAD_FAILED_NO_FILL"}};e.timeoutManager.fireEvent({name:Oe,evtData:r})}}}catch(o){var a={params:{st:we.STAT_CODE_ERROR,erc:Le.LOAD_ERROR_AD_SELECTION,erm:"GPT_AD_LOAD_FAILED"}};e.timeoutManager.fireEvent({name:Oe,evtData:a})}})}},{key:"addEventListener",value:function(e){var t=this.adapterManager,n=this.adProvider,i=this.getGfpAd,r=this.initActiveView,a=this.eventNotifier,o=this.eventTracking,s=this.adEvtTrk,d=this.creativeType,u=this.responseSize,l=t.callLogs,c=o.ackImpressions,h=o.renderedImpressions,f=o.viewableImpressions,A=s.ackImpressions,p=s.renderedImpressions,v=s.viewableImpressions,g=n.encrypted,y=t.activeViewConfig,m=k.a.getAdunitLayoutTypes(),E=this.layoutType===m.FLUID,I=window.da_scroll_target?window.da_scroll_target.targetEl:window,_=document.getElementById(e),w=document.getElementById(e),L={ct:d,sz:u&&u[0]&&u[1]?"".concat(u[0],"x").concat(u[1]):""};r(Ie({scrollTarget:I,divId:e,container:w,callback:function(){Ee.validateNode(_)||(l(v,null,null,"dsp viewable imp url"),l(f,g,L,"ssp viewable imp(gpt) url"))},fluid:E},y)),l(A,null,null,"ads ack url"),l(c,g,Ie({st:we.STAT_CODE_SUCCESS},L),"ssp ack(dsp) url"),a.notifyAdLoaded(i()),l(p,null,null,"dsp render imp url"),l(h,g,L,"ssp render imp(gpt) url"),a.notifyAdImpression(i())}},{key:"initActiveView",value:function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new ve(e),spwp.activeViews[t].checkActiveView()}catch(n){}}},{key:"initClickEventHander",value:function(e){var t=this.adapterManager,n=this.adProvider,i=this.eventTracking,r=this.adEvtTrk,a=this.creativeType,o=this.responseSize,s=i.clicks,d=r.clicks,u=n.encrypted,l=t.callLogs,c=e.contentDocument.querySelectorAll("a"),h={ct:a,sz:o&&o.width&&o.height?"".concat(o.width,"x").concat(o.height):""};Array.prototype.forEach.call(c,function(e){e.addEventListener("click",function(e){l(d,null,null,"ads click url"),l(s,u,h,"ssp click(gpt) url")},!1)})}},{key:"reset",value:function(){var e=this;if("undefined"!=typeof googletag&&googletag.apiReady!==undefined)googletag.destroySlots([this.slot]),googletag.pubads().clear([this.slot]);else{this.googletag=window.googletag||{};var t=this.googletag;t.cmd=t.cmd||[],t.cmd.push(function(){t.destroySlots([e.slot]),t.pubads().clear([e.slot])})}}}]),e}();function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ne=j.Type,xe=Ne.MEDIATION_READY,Be=(Ne.MEDIATION_FAILED,Y.Type.AD_LOAD_ERROR),Ue=Y.ERRORS.NO_FILL,Ve=Ue.code,Fe=Ue.message,Ge=Y.LOAD_STAT_CODE,We=document.location.href?document.location.href:"";We=We.length>255?We.substring(0,255):We;var je=function(){function e(t){var n=this;M()(this,e),d()(this,"resetContainer",function(){var e=n.divId,t=document.getElementById(e);t&&(t.innerHTML="",t.style.display="block")}),d()(this,"addEventListener",function(){var e=n.adapterManager,t=n.adProvider,i=n.eventTracking,r=n.adEvtTrk,a=n.encrypted,o=n.divId,s=t.renderedImpressed,d=void 0!==s&&s,u=t.viewableImpressed,l=void 0!==u&&u,c=e.activeViewConfig,h=e.callLogs,f=i.renderedImpressions,A=i.viewableImpressions,p=r.renderedImpressions,v=r.viewableImpressions;d||(h(p,null,null,"dsp render(empty) imp url"),h(f,a,null,"ssp render(empty) imp url"),n.setPersistAdData({renderedImpressed:!0}));var g=window.da_scroll_target?window.da_scroll_target.targetEl:window,y=document.getElementById(o);l||Xe(Me({scrollTarget:g,divId:o,container:y,callback:function(){var e=document.getElementById(o);Ee.validateNode(e)||spwp.activeViews[o]&&!spwp.activeViews[o].onceCalled&&(spwp.activeViews[o].onceCalled=!0,h(v,null,null,"dsp viewable(empty) imp url"),h(A,a,null,"ssp viewable(empty) imp url"),n.setPersistAdData({viewableImpressed:!0}))}},c))});var i=t.adProvider,r=t.eventTracking,a=t.eventNotifier,o=t.adapterManager,s=t.divId,u=i.encrypted,l=i.eventTracking;this.adProvider=Me({},i),this.eventNotifier=a,this.adapterManager=o,this.eventTracking=r,this.adEvtTrk=l,this.encrypted=u,this.divId=s}return x()(e,[{key:"handle",value:function(){var e=this.adapterManager,t=this.eventNotifier,n=this.adEvtTrk,i=this.eventTracking,r=this.encrypted,a=(this.location,e.callLogs),o=i.ackImpressions,s=n.ackImpressions,d={st:Ge.STAT_CODE_NO_FILL};e.isPersist||(this.setPersistAdData({renderedImpressed:!1,viewableImpressed:!1}),a(s,null,null,"ads ack(empty) url"),a(o,r,d,"ssp ack(empty) url")),t.notifyAdFailedToLoad({code:Ve,message:Fe,type:Be}),e.fireEvent({name:xe})}},{key:"display",value:function(){var e=this.adapterManager,t=this.resetContainer,n=this.addEventListener,i=this.divId,r=e.renderConfig.preload;document.getElementById(i)&&(t(),r||n())}},{key:"setPersistAdData",value:function(e){var t=this.eventTracking,n=this.divId;P.support()&&(this.adProvider=Me(Me({},this.adProvider),e),P.setPersistAdData("".concat(We,"_").concat(n),{adProvider:this.adProvider,eventTracking:t,divId:n}))}},{key:"initEvent",value:function(){var e=this.addEventListener,t=this.divId;document.getElementById(t)&&e()}}]),e}(),Xe=function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new ve(e),spwp.activeViews[t].checkActiveView()}catch(n){}},He=je,qe=n(69),ze=n.n(qe),Ke=n(35),Qe=n.n(Ke);function Ze(){var e=ze()(["","//","/libs/assets/js/mo/ssp/min/mo.ssp.veta.core.min.js"]);return Ze=function(){return e},e}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $e,et,tt,nt=new ye({src:($e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var a=i[i.length-1]||{},o=[e[0]];return n.forEach(function(t,n){var r=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(t)?i[t]:a[t];o.push(r,e[n+1])}),o.join("")}}(Ze(),"protocol","ndpCdnDomain"),et="https:"==document.location.protocol?"https:":"http:",tt=k.a.getNdpCdnDomain(),$e({protocol:et,ndpCdnDomain:tt}))}),it=k.a.getAdunitLayoutTypes(),rt=Y.LOAD_STAT_CODE,at=Y.ERROR_DETAIL_CODE,ot=me.Type,st=ot.LOAD_SUCCESS,dt=ot.LOAD_FAILED,ut=j.Type,lt=ut.MEDIATION_READY,ct=(ut.MEDIATION_FAILED,{INIT_EVENT:"initEvent",VIEWABLE:"viewable",HOST_META_CHANGE:"hostMetaChange"}),ht=document.location.href?document.location.href:"";ht=ht.length>255?ht.substring(0,255):ht;var ft=function(){function e(t){var n=this;M()(this,e),d()(this,"renderAdm",function(){var e=n.initClickEventHander,t=n.adProvider,i=n.divId,r=n.renderDirectlyInHost,a=t.adInfo,o=a.adm,s=a.encoded,d=document.getElementById(i);if(d.innerHTML="",-1!==o.indexOf("ssp_script")||r){d.innerHTML=1===s?decodeURIComponent(o):o;var u=d.getElementsByTagName("script");Array.prototype.forEach.call(u,function(e){if(""!==e.src){var t=document.createElement("script");t.src=e.src,e.parentNode.replaceChild(t,e)}else new Function(e.innerText).call()}),e(d)}else{var l=document.createElement("script");l.innerHTML=1===s?decodeURIComponent(o):o,document.getElementsByTagName("head")[0].appendChild(l)}}),d()(this,"addEventListener",function(){var e=n.adapterManager,t=n.initActiveView,i=n.callback,r=n.adProvider,a=n.eventTracking,o=n.divId,s=n.layoutType,d=n.creativeType,u=n.responseSize,l=e.activeViewConfig,c=e.callLogs,h=r.encrypted,f=r.eventTracking,A=r.renderedImpressed,p=void 0!==A&&A,v=r.viewableImpressed,g=void 0!==v&&v,y=a.renderedImpressions,m=f.renderedImpressions,E=s===it.FLUID,k=window.da_scroll_target?window.da_scroll_target.targetEl:window,I=document.getElementById(o);g||t(Je({scrollTarget:k,divId:o,container:I,callback:i,fluid:E},l));var _={ct:d,sz:u&&u.width&&u.height?"".concat(u.width,"x").concat(u.height):""};p||(c(m,null,null,"dsp render imp(js) url"),c(y,h,_,"ssp render imp(js) url"),n.setPersistAdData({renderedImpressed:!0}))}),d()(this,"callback",function(){var e=ct.VIEWABLE,t=n.adapterManager,i=n.adProvider,r=n.eventTracking,a=n.divId,o=n.eventNotifier,s=n.getGfpAd,d=n.fireEvent,u=n.creativeType,l=n.responseSize,c=t.callLogs,h=i.encrypted,f=i.eventTracking,A=r.viewableImpressions,p=f.viewableImpressions,v=document.getElementById(a);if(!Ee.validateNode(v)&&spwp.activeViews[a]&&!spwp.activeViews[a].onceCalled){spwp.activeViews[a].onceCalled=!0,d({evtType:e});var g={ct:u,sz:l&&l.width&&l.height?"".concat(l.width,"x").concat(l.height):""};c(p,null,null,"dsp viewable imp(js) url"),c(A,h,g,"ssp viewable imp(js) url"),o.notifyAdImpression(s()),n.setPersistAdData({viewableImpressed:!0})}}),d()(this,"initClickEventHander",function(e){var t=n.adapterManager,i=n.getGfpAd,r=n.adProvider,a=n.eventTracking,o=n.eventNotifier,s=n.creativeType,d=n.responseSize,u=t.callLogs,l=r.encrypted,c=r.eventTracking,h=a.clicks,f=c.clicks;if(e){var A=e.querySelectorAll("[data-ssp='clk']")||e.querySelectorAll("a"),p={ct:s,sz:d&&d.width&&d.height?"".concat(d.width,"x").concat(d.height):""};Array.prototype.forEach.call(A,function(e){e.addEventListener("click",function(e){u(f,null,null,"ads click url"),u(h,l,p,"ssp click(ndp) url"),o.notifyAdClicked(i())},!1),pe()&&e.setAttribute("target","_top")})}}),d()(this,"initActiveView",function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new ve(e),spwp.activeViews[t].checkActiveView()}catch(n){}}),d()(this,"getGfpAd",function(){var e=n.adProviderName;return new ge({adProvider:e})}),d()(this,"fireEvent",function(e){var t=e.evtType;if(n.cbInfo!==undefined){var i=ct.INIT_EVENT,r=ct.VIEWABLE,a=ct.HOST_META_CHANGE,o=n.cbInfo,s=n.hostMeta,d=o.callback,u=o.eventList,l=o.ownerKeys;if(o&&d)"function"==typeof d&&t===r&&d.call();else if(o&&u)switch(t){case r:case i:if("object"===Ae()(u)&&"function"==typeof u[t]){u[t].call();break}case a:if("object"===Ae()(u)&&"function"==typeof u[a]){var c=Qe()(l,function(e,t){return e[t]=s[t],e},{});u[a].apply(null,[c]);break}}}}),d()(this,"onAdLoad",function(){n.adapterManager.fireEvent({name:lt})}),d()(this,"onAdLoadFailed",function(){var e=n.adapterManager,t=n.eventTracking.startErrors,i=n.adProvider.encrypted;(0,e.callLogs)(t,i,{st:rt.STAT_CODE_TIMEOUT,erc:at.START_ERROR,erm:"NDP_LIB_LOAD_FAILED"},"ssp start error(js) url")}),d()(this,"process",function(){for(;n.cmd.length>0;)try{n.cmd.shift().call()}catch(e){}});var i=t.adProvider,r=t.eventTracking,a=t.unitId,o=t.divId,s=t.eventNotifier,u=t.hostMeta,l=t.timeoutManager,c=t.adapterManager,h=t.renderDirectlyInHost,f=void 0!==h&&h,A=i.adInfo,p=i.adProviderName,v=i.connectionType,g=i.layoutType,y=i.renderType,m=i.creativeType,E=A.responseSize;this.adProvider=Je({},i),this.eventTracking=r,this.eventNotifier=s,this.timeoutManager=l,this.adapterManager=c,this.renderDirectlyInHost=f,this.unitId=a,this.divId=o,this.adProviderName=p,this.connectionType=v,this.layoutType=g,this.renderType=y,this.creativeType=m,this.responseSize=E,this.cbInfo,this.hostMeta=u,this.cmd=[]}return x()(e,[{key:"handle",value:function(){var e=o()(r.a.mark(function t(){var e,n,i,a,o,s,d,u,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.adapterManager,n=this.adProvider,i=this.eventTracking,a=this.eventNotifier,o=this.getGfpAd,s=this.timeoutManager,d=this.creativeType,u=this.responseSize,e.callLogs,n.encrypted,l=n.eventTracking,i.ackImpressions,l.ackImpressions,{st:rt.STAT_CODE_SUCCESS,ct:d,sz:u&&u.width&&u.height?"".concat(u.width,"x").concat(u.height):""},s.initTimer(this),e.isPersist||this.setPersistAdData({renderedImpressed:!1,viewableImpressed:!1}),a.notifyAdLoaded(o()),t.next=11,this.loadLib();case 11:case"end":return t.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}()},{key:"display",value:function(){var e=this.adapterManager,t=this.renderAdm,n=this.addEventListener,i=this.divId,r=e.renderConfig.preload;document.getElementById(i)&&(t(),r||n())}},{key:"setPersistAdData",value:function(e){var t=this.eventTracking,n=this.divId;P.support()&&(this.adProvider=Je(Je({},this.adProvider),e),P.setPersistAdData("".concat(ht,"_").concat(n),{adProvider:this.adProvider,eventTracking:t,divId:n}))}},{key:"initEvent",value:function(){var e=this,t=this.addEventListener,n=this.divId,i=document.getElementById(n),r=ct.INIT_EVENT;i&&(t(),this.cmd.push(function(){e.fireEvent({evtType:r})}),this.cbInfo&&this.cbInfo.eventList&&this.cbInfo.eventList[r]&&this.process())}},{key:"loadLib",value:function(){var e=o()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.timeoutManager,t.prev=1,t.next=4,nt.load();case 4:e.fireEvent({name:st}),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),e.fireEvent({name:dt});case 11:case"end":return t.stop()}},t,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"setHostMeta",value:function(e){var t=ct.HOST_META_CHANGE,n=this.fireEvent;this.hostMeta=e,n({evtType:t})}},{key:"onLoadAdm",value:function(e){(0,this.initClickEventHander)(document.getElementById(e))}},{key:"addCallback",value:function(e){var t=ct.HOST_META_CHANGE,n=ct.INIT_EVENT,i=this.fireEvent;this.cbInfo=e,i({evtType:t}),this.cbInfo&&this.cbInfo.eventList&&this.cbInfo.eventList[n]&&this.process()}}]),e}();var At=me.Type.LOAD_SUCCESS,pt=function(){function e(t){M()(this,e);var n=t.divId,i=t.innerWraper,r=t.frame,a=t.fluid,o=t.frameWidth,s=t.frameHeight,d=t.eventNotifier,u=t.timeoutManager;this.divId=n,this.innerWraper=i,this.frame=r,this.fluid=a,this.initFrameWidth=o,this.initFrameHeight=s,this.eventNotifier=d,this.container=document.getElementById(n),this.frameWindow=this.frame.contentWindow,this.timeoutManager=u}return x()(e,[{key:"addEventListener",value:function(){try{window.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),window.addEventListener("message",this,!1)}catch(e){}}},{key:"removeEventListener",value:function(){window.removeEventListener("scroll",this,!1),window.removeEventListener("resize",this,!1),window.removeEventListener("orientationchange",this,!1),window.removeEventListener("message",this,!1)}},{key:"handleEvent",value:function(e){try{switch(e.type){case"scroll":this.updatePosInfo(e);break;case"resize":case"orientationchange":this.updatePosInfo(e);break;case"message":this.handleMsgEvt(e)}}catch(e){}}},{key:"updatePosInfo",value:function(e){var t={evtType:"pos-update",parInfo:{}};t.parInfo.innerWidth=window.innerWidth?window.innerWidth:0,t.parInfo.innerHeight=window.innerHeight?window.innerHeight:0,t.parInfo.pageXOffset=window.pageXOffset?window.pageXOffset:0,t.parInfo.pageYOffset=window.pageYOffset?window.pageYOffset:0,t.parInfo.screenWidth=window.screen&&window.screen.width?window.screen.width:0,t.parInfo.screenHeight=window.screen&&window.screen.height?window.screen.height:0,t.parInfo.offsetTop=this.offset(this.container).top,t.parInfo.offsetLeft=this.offset(this.container).left,this.sendMsgtoSafeFrame(t)}},{key:"sendMsgtoSafeFrame",value:function(e){this.frameWindow.postMessage(e,"*")}},{key:"handleMsgEvt",value:function(e){var t=e.data,n=t.frameId,i=t.evtType,r=t.params;if(this.frame.id===n)switch(i){case"load-sf":this._load_safeframe(r);break;case"set-fluid-sf":this._set_fluid_safeframe(r);break;case"init-sf":this._init_safeframe(r);break;case"expand-sf":this._expand_safeframe(r);break;case"collapse-sf":this._collapse_safeframe(r);break;case"adclick-sf":this._adclick_safeframe(r);break;case"touchstart-sf":this._handle_touchstart_safeframe()}}},{key:"offset",value:function(e){var t,n,i={top:0,left:0},r=e&&e.ownerDocument;if(r)return t=r.documentElement,"undefined"!==Ae()(e.getBoundingClientRect)&&(i=e.getBoundingClientRect()),n=this.getWindow(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}},{key:"getWindow",value:function(e){return e&&e===e.window?e:9===e.nodeType&&e.defaultView}},{key:"clearHost",value:function(){this.removeEventListener()}},{key:"_load_safeframe",value:function(e){var t=this.timeoutManager,n=this.frame;t.fireEvent({name:At}),n.name=""}},{key:"_set_fluid_safeframe",value:function(e){var t=e.frameHeight;this.initFrameHeight=t,this.frame.style.cssText="width:100%;height:".concat(t,"px;visibility: inherit; display: block; border: 0px; vertical-align: bottom;")}},{key:"_init_safeframe",value:function(e){var t=e.initWidth,n=e.initHeight,i=this.fluid;i||(this.initFrameWidth=t),this.initFrameHeight=n;var r=i?"100%":"".concat(t,"px"),a=i?"auto":"".concat(n,"px"),o=i?"100%":"".concat(t,"px"),s="".concat(n,"px"),d=i?"":"position:relative;",u=i?"":"position:absolute;";this.innerWraper.style.cssText="width:".concat(r,";height:").concat(a,";margin:0 auto;").concat(d),this.frame.style.cssText="width:".concat(o,";height:").concat(s,";visibility: inherit; display: block; border: 0px; vertical-align: bottom;").concat(u)}},{key:"_expand_safeframe",value:function(e){var t=e.deltaX,n=e.deltaY,i=e.position,r=e.easing,a=this.fluid?"100%":"".concat(t?this.initFrameWidth+t:this.initFrameWidth,"px"),o="".concat(n?this.initFrameHeight+n:this.initFrameHeight,"px"),s=a,d=this.fluid?"auto":o;this.innerWrapperPos=this.fluid?"":"position:relative;",this.safeFramePos=this.fluid?"":"position:absolute;",this.easingOpt=r?"transition: width 0.4s ease-in-out, height 0.4s;":"";var u=l()(C()(i),function(e){return"".concat(e,":").concat(i[e],"px")}).join(";");this.innerWraper.style.cssText="width: ".concat(s,"; height: ").concat(d,"; margin: 0 auto; z-index: 3000; ").concat(this.easingOpt," ").concat(this.innerWrapperPos," "),this.frame.style.cssText="width: ".concat(a,"; height: ").concat(o,"; visibility: inherit; display: block; border: 0px; vertical-align: bottom; z-index: 3000; ").concat(this.easingOpt).concat(this.safeFramePos).concat(u," ")}},{key:"_collapse_safeframe",value:function(){var e=this.fluid?"100%":"".concat(this.initFrameWidth,"px"),t="".concat(this.initFrameHeight,"px"),n=e,i=this.fluid?"auto":t;this.innerWraper.style.cssText="width: ".concat(n,"; height: ").concat(i,"; margin: 0 auto; z-index: 0; ").concat(this.easingOpt," ").concat(this.innerWrapperPos," "),this.frame.style.cssText="width: ".concat(e,"; height: ").concat(t,"; visibility: inherit; display: block; border: 0px; vertical-align: bottom; z-index: 0; ").concat(this.easingOpt," ").concat(this.safeFramePos," ")}},{key:"_adclick_safeframe",value:function(){this.eventNotifier.notifyAdClicked()}},{key:"_handle_touchstart_safeframe",value:function(){"object"===("undefined"==typeof TEvent?"undefined":Ae()(TEvent))&&"function"==typeof TEvent.touchStartEvent&&TEvent.touchStartEvent()}}]),e}(),vt=[],gt=k.a.getRenderTypes(),yt=k.a.getAdunitLayoutTypes(),mt=me.Type.LOAD_SUCCESS;function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var It=k.a.getAdunitLayoutTypes(),_t=Y.LOAD_STAT_CODE,wt=Y.ERROR_DETAIL_CODE,Lt=j.Type,St=Lt.MEDIATION_READY,Tt=(Lt.MEDIATION_FAILED,document.location.href?document.location.href:"");Tt=Tt.length>255?Tt.substring(0,255):Tt;var Ot=function(){function e(t){var n=this;M()(this,e),d()(this,"addEventListener",function(){var e=n.adapterManager,t=n.initActiveView,i=n.fireSfEvent,r=n.callback,a=n.adProvider,o=n.eventTracking,s=n.divId,d=n.layoutType,u=n.creativeType,l=n.responseSize,c=e.callLogs,h=a.encrypted,f=a.eventTracking,A=a.renderedImpressed,p=void 0!==A&&A,v=a.viewableImpressed,g=void 0!==v&&v,y=o.renderedImpressions,m=f.renderedImpressions,E=e.activeViewConfig,k=d===It.FLUID,I=window.da_scroll_target?window.da_scroll_target.targetEl:window,_=document.getElementById(s);g||t(kt({scrollTarget:I,divId:s,container:_,callback:r,fluid:k},E));var w={ct:u,sz:l&&l.width&&l.height?"".concat(l.width,"x").concat(l.height):""};p||(c(m,null,null,"dsp render imp url"),c(y,h,w,"ssp render imp(sf) url"),i({evtType:"rendered"}),n.setPersistAdData({renderedImpressed:!0}))}),d()(this,"onAdLoad",function(){var e=n.adapterManager,t=n.addEventListener,i=n.process,r=(n.divId,e.renderConfig.preload);n.sfLoaded=!0,r?i():t()}),d()(this,"onAdLoadFailedTimeout",function(){var e=n.adapterManager,t=n.eventTracking.startErrors,i=n.adProvider.encrypted,r=n.divId,a=e.callLogs;document.getElementById(r);if(document.getElementById("".concat(r,"_tgtLREC"))){var o={st:_t.STAT_CODE_TIMEOUT,erc:wt.START_ERROR,erm:"SF_LOAD_FAILED_TIMEOUT"};a(t,i,o,"ssp start error(sf) url")}}),d()(this,"callback",function(){var e=n.adapterManager,t=n.adProvider,i=n.eventTracking,r=n.divId,a=n.eventNotifier,o=n.getGfpAd,s=n.fireSfEvent,d=n.creativeType,u=n.responseSize,l=e.callLogs,c=t.encrypted,h=t.eventTracking,f=i.viewableImpressions,A=h.viewableImpressions,p=document.getElementById(r);if(!Ee.validateNode(p)&&(spwp.activeViews[r]&&!spwp.activeViews[r].onceCalled&&(spwp.activeViews[r].onceCalled=!0,document.getElementById("".concat(r,"_tgtLREC"))))){s({evtType:"viewable"});var v={ct:d,sz:u&&u.width&&u.height?"".concat(u.width,"x").concat(u.height):""};l(A,null,null,"dsp viewable imp url"),l(f,c,v,"ssp viewable imp(sf) url"),a.notifyAdImpression(o()),n.setPersistAdData({viewableImpressed:!0})}}),d()(this,"fireSfEvent",function(e){var t=n.divId,i=document.getElementById("".concat(t,"_tgtLREC"));i&&i.contentWindow.postMessage(e,"*")}),d()(this,"initActiveView",function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new ve(e),spwp.activeViews[t].checkActiveView()}catch(n){}}),d()(this,"getGfpAd",function(){var e=n.adProviderName;return new ge({adProvider:e})}),d()(this,"process",function(){for(;n.cmd.length>0;)try{n.cmd.shift().call()}catch(e){}});var i=t.adProvider,r=t.eventTracking,a=t.unitId,o=t.divId,s=t.eventNotifier,u=t.hostMeta,l=t.timeoutManager,c=t.adapterManager,h=i.adInfo,f=i.adProviderName,A=i.connectionType,p=i.layoutType,v=i.renderType,g=i.creativeType,y=i.encrypted,m=i.eventTracking,E=h.responseSize,k=r.clicks,I=m.clicks;this.adProvider=kt({},i),this.eventTracking=r,this.eventNotifier=s,this.timeoutManager=l,this.adapterManager=c,this.unitId=a,this.divId=o,this.adProviderName=f,this.connectionType=A,this.layoutType=p,this.renderType=v,this.creativeType=g,this.responseSize=E,this.hostMeta=u,this.adClks=I,this.sspClks=k.map(function(e){return{url:"".concat(e.url).concat(y)}}),this.cmd=[],this.sfLoaded=!1}return x()(e,[{key:"handle",value:function(){var e=this.adapterManager,t=this.adProvider,n=this.sspClks,i=this.adClks,r=this.eventTracking,a=this.eventNotifier,o=this.divId,s=this.getGfpAd,d=this.hostMeta,u=this.timeoutManager,l=this.creativeType,c=this.responseSize,h=(e.callLogs,t.encrypted,t.eventTracking),f=(r.ackImpressions,h.ackImpressions,{st:_t.STAT_CODE_SUCCESS,ct:l,sz:c&&c.width&&c.height?"".concat(c.width,"x").concat(c.height):""});u.initTimer(this),this.sfRenderer=function(e){var t=e.adProvider,n=e.divId,i=e.sspClks,r=e.adClks,a=e.eventNotifier,o=e.hostMeta,s=e.timeoutManager,d=e.clickParams,u=t.adInfo,l=t.layoutType,c=t.renderType,h=u.adm,f=u.adUrl,A=u.responseSize,p=u.encoded,v=l===yt.FLUID,g=function(e){try{var t=v?"100%":window.parseInt(A.width),n=v?0:window.parseInt(A.height),i=document.createElement("div"),r=document.createElement("iframe"),a='<!DOCTYPE html>\n\t\t\t<html>\n\t\t\t\t<head>\n\t\t\t\t\t<meta charset="utf-8"/>\n\t\t\t\t\t<meta http-equiv="imagetoolbar" content="no"/>\n\t\t\t\t\t<meta http-equiv="imagetoolbar" content="false"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOINDEX"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOFOLLOW"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOARCHIVE"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOSNIPPET"/>\n\t\t\t\t\t<meta name="ROBOTS" content="NOODP"/>\n\t\t\t\t\t<base target="_top"/>\n\t\t\t\t\t<title>광고</title>\n\t\t\t\t\t<script type="text/javascript">window.onerror = function () { return true; };<\/script>\n\t\t\t\t\t<style type="text/css">\n\t\t\t\t\t\t#sf_body {\n\t\t\t\t\t\t\tmin-width: 100%;\n\t\t\t\t\t\t\twidth: 1px;\n\t\t\t\t\t\t\tmargin: 0px;\n\t\t\t\t\t\t\tpadding: 0px;\n\t\t\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\t\t}\n\t\t\t\t\t</style>\n\t\t\t\t</head>\n\t\t\t\t<body id="sf_body">\n\t\t\t\t\t<div class="sf" id="sf_align">\n\t\t\t\t\t\t<script src="'.concat(k.a.getSafeFrameExtLibPath(),'"><\/script>\n\t\t\t\t\t</div>\n\t\t\t\t</body>\n\t\t\t</html>');m({container:e,innerWraper:i,frame:r,isSafeFrame:!1});var o=E();r.name=JSON.stringify(o),i.appendChild(r);var s=setInterval(function(){r.contentWindow&&r.contentWindow.document&&(r.contentWindow.document.open(),r.contentWindow.document.write(a),r.contentWindow.document.close(),clearInterval(s))},10);_({innerWraper:i,frame:r,frameWidth:t,frameHeight:n})}catch(d){}},y=function(e){try{var t=v?"100%":window.parseInt(A.width),n=v?0:window.parseInt(A.height),i=document.createElement("div"),r=document.createElement("iframe");m({container:e,innerWraper:i,frame:r,isSafeFrame:!0});var a=E();r.name=JSON.stringify(a),i.appendChild(r),_({innerWraper:i,frame:r,frameWidth:t,frameHeight:n})}catch(o){}},m=function(e){var t=e.container,i=e.innerWraper,r=e.frame,a=e.isSafeFrame,o=v?"100%":"".concat(window.parseInt(A.width),"px"),s=v?"auto":"".concat(window.parseInt(A.height),"px"),d=v?"100%":window.parseInt(A.width),u=v?0:window.parseInt(A.height),l=v?"100%":"".concat(d,"px"),c=v?0:"".concat(u,"px"),h=v?"":"position:relative;",f=v?"":"position:absolute;";i.style.cssText="width:".concat(o,";height:").concat(s,";margin:0 auto;").concat(h),t.appendChild(i),r.id="".concat(n,"_tgtLREC"),a&&(r.src=k.a.getSafeFrameContainerPath("https:")),r.style.cssText="width:".concat(l,";height:").concat(c,";visibility: inherit; display: block; border: 0px; vertical-align: bottom;").concat(f),r.frameBorder="no",r.scrolling="no",r.tabindex="-1",Z.IS_IE&&r.setAttribute("allowtransparency","true")},E=function(){var e={};if(void 0!==h)e.html=1===p?decodeURIComponent(h):h;else if(void 0!==f){var t="<script type='text/javascript' src='"+f+"'><\/script>";e.html=t}return e.frameId="".concat(n,"_tgtLREC"),e.fluid=v,e.sspClks=i,e.adClks=r,e.evtType="sf-init",e.hostMeta=JSON.stringify(o),e.clickParams=JSON.stringify(d),e.parInfo=I(),e},I=function(){var e={};return e.innerWidth=window.innerWidth?window.innerWidth:0,e.innerHeight=window.innerHeight?window.innerHeight:0,e.pageXOffset=window.pageXOffset?window.pageXOffset:0,e.pageYOffset=window.pageYOffset?window.pageYOffset:0,e.screenWidth=window.screen&&window.screen.width?window.screen.width:0,e.screenHeight=window.screen&&window.screen.height?window.screen.height:0,e},_=function(e){var t=e.innerWraper,i=e.frame,r=e.frameWidth,o=e.frameHeight;try{vt[n]=vt[n]||null,vt[n]&&(vt[n].clearHost(),vt[n]=null),vt[n]=new pt({divId:n,innerWraper:t,frame:i,fluid:v,frameWidth:r,frameHeight:o,eventNotifier:a,timeoutManager:s}),vt[n].addEventListener()}catch(d){}};return{divId:n,initSafeFrame:function(){var e=document.getElementById(n);e.innerHTML="",c===gt.SAFE_FRAME?Z.IS_IE?y(e):g(e):s.fireEvent({name:mt})}}}({adProvider:t,divId:o,sspClks:n,adClks:i,eventNotifier:a,hostMeta:d,timeoutManager:u,clickParams:f}),e.isPersist||this.setPersistAdData({renderedImpressed:!1,viewableImpressed:!1}),a.notifyAdLoaded(s()),e.fireEvent({name:St})}},{key:"display",value:function(){try{this.sfRenderer.initSafeFrame()}catch(e){}}},{key:"setPersistAdData",value:function(e){var t=this.eventTracking,n=this.divId;P.support()&&(this.adProvider=kt(kt({},this.adProvider),e),P.setPersistAdData("".concat(Tt,"_").concat(n),{adProvider:this.adProvider,eventTracking:t,divId:n}))}},{key:"initEvent",value:function(){var e=this.addEventListener,t=this.divId;this.cmd.push(function(){document.getElementById(t)&&e()}),!0===this.sfLoaded&&this.process()}},{key:"setHostMeta",value:function(e){(0,this.fireSfEvent)({evtType:"hostMetaChange",hostMeta:e})}}]),e}(),bt=Y.LOAD_STAT_CODE,Rt=Y.ERROR_DETAIL_CODE,Ct=j.Type.MEDIATION_FAILED,Pt=function(){function e(t){var n=t.adProvider,i=t.eventTracking,r=t.unitId,a=t.divId,o=t.adapterManager;M()(this,e);var s=n.encrypted,d=n.creativeType,u=n.renderType;this.adapterManager=o,this.eventTracking=i,this.unitId=r,this.divId=a,this.creativeType=d,this.encrypted=s,this.renderType=u}return x()(e,[{key:"handle",value:function(){var e=this.encrypted,t=(this.renderType,this.adapterManager);(0,t.callLogs)(this.eventTracking.loadErrors,e,{st:bt.STAT_CODE_ERROR,erc:Rt.INTERNAL_ERROR,erm:"UN_SUPPORTED_ADPROVIDER_TYPE"},"ssp internal error url"),t.fireEvent({name:Ct})}}]),e}(),Dt=n(8),Mt=k.a.getRenderTypes(),Nt=Mt.SAFE_FRAME,xt=Mt.NDP,Bt=Mt.JS,Ut=Mt.GOOGLE_GPT,Vt=Mt.EMPTY,Ft=j.Type,Gt=Ft.MEDIATION_INIT,Wt=Ft.MEDIATION_READY,jt=Ft.MEDIATION_FAILED,Xt=new Dt.a,Ht=function(){function e(t){var n,i=this;M()(this,e);var a=t.adUnitInfo,s=a.activeViewConfig;this.adUnitInfo=a,this.activeViewConfig=s,this.adProviderInfos=[],this.currentAdapter={},this.getResponse=!1,this.cmd=[],this.eventNotifiers=[],this.adListener,this.hostMeta={},this.mediationEvent=new q.a,this.renderConfig={preload:!1},this.mediationStatus=Gt,this.isPersist=!1,this.addEventListener((n={},d()(n,Wt,function(e){i.mediationStatus=Wt,i.process()}),d()(n,jt,function(e){o()(r.a.mark(function t(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.mediationStatus=jt,i.clear(),i.push(),e.next=5,i.handleRequestAdapters();case 5:case"end":return e.stop()}},t)}))()}),n))}return x()(e,[{key:"addEventListener",value:function(e){var t=this;v()(C()(e),function(n){t.mediationEvent.on(n,e[n])})}},{key:"removeAllListeners",value:function(){var e=this;v()([Wt,jt],function(t){e.mediationEvent.removeAllListeners(t)})}},{key:"fireEvent",value:function(e){var t=e.name,n=e.evtData;this.mediationEvent.emit(t,n)}},{key:"setAdproviderInfos",value:function(e){var t=e.advertiserDomains,n=void 0===t?[]:t,i=e.adDuplicationKeys,r=void 0===i?[]:i,a=e.eventTracking,o=this.adUnitInfo,s=o.unitId,d=o.divId,u={advertiserDomains:n,adDuplicationKeys:r};this.adProviderInfos=e.ads.map(function(e){return{adProvider:e,exclusionCriteria:u,eventTracking:a,unitId:s,divId:d}}),this.support()||(this.adProviderInfos=this.adProviderInfos.filter(function(e){return e.adProvider.renderType===Vt})),this.getResponse=!0}},{key:"setAdproviderInfo",value:function(e){this.adProviderInfos.push(e),this.getResponse=!0}},{key:"support",value:function(){return!(Z.IS_IE&&Z.searchBrowserVersion()<=9)}},{key:"setAdapter",value:function(e){var t=this.adListener,n=this.hostMeta,i=e.adProvider,r=e.exclusionCriteria,a=e.eventTracking,o=e.unitId,s=e.divId,d=i.adProviderName,u=i.renderType,l=i.adInfo.timeout,c=void 0===l?0:l,h=this.adUnitInfo?this.adUnitInfo.getExtraOption().mediaParams:{},f=this.adUnitInfo.sfRenderConfig.renderDirectlyInHost,A=new de({unitId:o,divId:s,adProviderName:d,adListener:t,exclusionCriteria:r});this.eventNotifiers.push(A);switch(u){case Nt:var p=new me({timeout:1e4});return f?new ft({adProvider:i,eventTracking:a,unitId:o,divId:s,eventNotifier:A,hostMeta:n,timeoutManager:p,adapterManager:this,renderDirectlyInHost:f}):new Ot({adProvider:i,eventTracking:a,unitId:o,divId:s,eventNotifier:A,hostMeta:n,timeoutManager:p,adapterManager:this});case xt:case Bt:var v=new me({timeout:1e4});return new ft({adProvider:i,eventTracking:a,unitId:o,divId:s,eventNotifier:A,hostMeta:n,timeoutManager:v,adapterManager:this});case Ut:var g=new me({timeout:c});return new Pe({adProvider:i,eventTracking:a,unitId:o,divId:s,eventNotifier:A,mediaParams:h,timeoutManager:g,adapterManager:this});case Vt:return new He({adProvider:i,eventTracking:a,unitId:o,divId:s,eventNotifier:A,adapterManager:this});default:return new Pt({adProvider:i,eventTracking:a,unitId:o,divId:s,adapterManager:this})}}},{key:"handleRequestAdapters",value:function(){var e=o()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.adProviderInfos.shift())){t.next=5;break}return this.currentAdapter=this.setAdapter(e),t.next=5,this.currentAdapter.handle();case 5:case"end":return t.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getCurrentAdapter",value:function(){return this.currentAdapter}},{key:"resetAdapters",value:function(){!h()(this.currentAdapter)&&this.currentAdapter.reset&&this.currentAdapter.reset(),this.adProviderInfos=[],this.currentAdapter={},this.getResponse=!1,this.eventNotifiers=[],this.renderConfig={preload:!1},this.mediationStatus=Gt}},{key:"push",value:function(){var e=this;this.cmd.push(function(){var t=e.getCurrentAdapter();h()(t)||t.display()}),this.mediationStatus===Wt&&this.process()}},{key:"initEvent",value:function(){var e=this.getCurrentAdapter();h()(e)||e.initEvent()}},{key:"process",value:function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){}}},{key:"clear",value:function(){for(;this.cmd.length>0;)this.cmd.shift()}},{key:"setHostMeta",value:function(e){var t=e.ownerKey,n=e.metaData;this.hostMeta[t]=n,this.currentAdapter&&this.currentAdapter.setHostMeta&&this.currentAdapter.setHostMeta(this.hostMeta)}},{key:"setAdListener",value:function(e){e&&(this.adListener=new z(e),this.resetEventListeners())}},{key:"getAdListener",value:function(){return this.adListener}},{key:"resetEventListeners",value:function(){var e=this.adListener,t=this.eventNotifiers;v()(t,function(t){t&&t.setEventListeners({adListener:e})})}},{key:"callLogs",value:function(e,t,n,i){if(e){t=t||"";var r=n?"?".concat(C()(n).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e]))}).join("&")):"";v()(e,function(e){Xt.log("".concat(e.url).concat(t).concat(r))})}}}]),e}(),qt=n(73),zt=n.n(qt),Kt=function(){function e(t){M()(this,e);var n=t.controller,i=t.adContainerEl;this.controller=n,this.adContainerEl=i,this.playBtn=this.adContainerEl.querySelector("[data-role='playBtn']"),this.pauseBtn=this.adContainerEl.querySelector("[data-role='pauseBtn']"),this.adBtnControlEl=this.adContainerEl.querySelector("[data-role='adBtnControlEl']"),this.util=new Dt.a,this.setClass(this.playBtn,"btn_player btn_play hide"),this.setClass(this.pauseBtn,"btn_player btn_pause"),this.addEvent()}return x()(e,[{key:"setTrackingUrl",value:function(e){var t=e.pauseUrl,n=e.resumeUrl;this.pauseUrl=t,this.resumeUrl=n}},{key:"togglePlayPause",value:function(e){e?this.showPauseBtn():this.showPlayBtn()}},{key:"showBtnControl",value:function(){this.removeClass(this.adBtnControlEl,"hide")}},{key:"hideBtnControl",value:function(){this.addClass(this.adBtnControlEl,"hide")}},{key:"showPlayBtn",value:function(){this.removeClass(this.playBtn,"hide"),this.addClass(this.pauseBtn,"hide")}},{key:"showPauseBtn",value:function(){this.removeClass(this.pauseBtn,"hide"),this.addClass(this.playBtn,"hide")}},{key:"addEvent",value:function(){this.playClickHandler=this.playClickAction.bind(this),this.pauseClickHandler=this.pauseClickAction.bind(this),this.playBtn.addEventListener("click",this.playClickHandler),this.pauseBtn.addEventListener("click",this.pauseClickHandler)}},{key:"removeEvent",value:function(){this.playBtn.removeEventListener("click",this.playClickHandler),this.pauseBtn.removeEventListener("click",this.pauseClickHandler)}},{key:"playClickAction",value:function(){this.togglePlayPause(!0),this.controller.onAdPlay(),this.callLog(this.resumeUrl,"resumeUrl")}},{key:"pauseClickAction",value:function(){this.togglePlayPause(!1),this.controller.onAdPause(),this.callLog(this.pauseUrl,"pauseUrl")}},{key:"addClass",value:function(e,t){e.className=e.className.trim()+" "+t}},{key:"removeClass",value:function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")}},{key:"setClass",value:function(e,t){e.className=t}},{key:"getClassRegexp",value:function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")}},{key:"callLog",value:function(e,t){null!=e&&e!=undefined&&this.util.log(e)}}]),e}(),Qt=function(){function e(t){M()(this,e);var n=t.adContainerEl;this.adContainerEl=n,this.loadingBar=this.adContainerEl.querySelector("[data-role='loadingBar']"),this.progressBar=this.adContainerEl.querySelector("[data-role='progressBar']"),this.curTimeLabel=this.adContainerEl.querySelector("[data-role='curTimeLabel']"),this.durationLabel=this.adContainerEl.querySelector("[data-role='durationLabel']"),this.duration}return x()(e,[{key:"updateProgressBar",value:function(e){this.progressBar.style.width="".concat(e,"%")}},{key:"updateLoadingBar",value:function(e){this.loadingBar.style.width="".concat(e,"%")}},{key:"setDuration",value:function(e){"undefined"==typeof this.duration&&(this.duration=Math.floor(e),this.durationLabel.innerHTML=this.calculateTime(e))}},{key:"updateCurrentTime",value:function(e){this.curTimeLabel.innerHTML=this.calculateTime(e)}},{key:"calculateTime",value:function(e){var t=Math.floor(e/60)+"",n=Math.floor(e%60)+"";return(t=1===t.length?"0"+t:t)+":"+(n=1===n.length?"0"+n:n)}}]),e}(),Zt=function(){function e(t){M()(this,e);var n=t.controller,i=t.adPlayheadTracker,r=t.adContainerEl,a=t.isSkippable;this.controller=n,this.adPlayheadTracker=i,this.isSkippable=a,this.adContainerEl=r,this.countDownEl=this.adContainerEl.querySelector("[data-role='countDownEl']"),this.countDownTxt=this.adContainerEl.querySelector("[data-role='countDownTxt']"),this.skipBtn=this.adContainerEl.querySelector("[data-role='skipBtn']"),this.util=new Dt.a,this.countDownEnded=!1,this.setClass(this.skipBtn,"btn_skip hide"),this.addEvent()}return x()(e,[{key:"updateAdUi",value:function(){var e=this.adPlayheadTracker.currentTime,t=this.adPlayheadTracker.duration,n=this.controller.getCurrentAd().getSkipTimeOffset(),i=this.isSkippable?n-e:t-e;!this.countDownEnded&&i>=0&&(this.showCountDownUI(),this.updateCountDownUI(i)),this.isSkippable&&e>=n&&this.showSkipBtn(),e==t&&this.hideSkipBtn()}},{key:"updateCountDownUI",value:function(e){e>0?this.countDownTxt.innerHTML=e:0==e&&(this.hideCountDownUI(),this.countDownEnded=!0)}},{key:"showCountDownUI",value:function(){this.removeClass(this.countDownEl,"hide")}},{key:"hideCountDownUI",value:function(){this.addClass(this.countDownEl,"hide")}},{key:"addEvent",value:function(){this.onAdSkipClickHandler=this.onAdSkipClick.bind(this),this.skipBtn.addEventListener("click",this.onAdSkipClickHandler)}},{key:"removeEvent",value:function(){this.skipBtn.removeEventListener("click",this.onAdSkipClickHandler)}},{key:"showSkipBtn",value:function(){this.removeClass(this.skipBtn,"hide")}},{key:"hideSkipBtn",value:function(){this.addClass(this.skipBtn,"hide")}},{key:"onAdSkipClick",value:function(){var e=this.controller.getCurrentAd(),t=this.controller.adapter.adsManager,n=this.controller.adapter.adsManager.adPlayer;this.hideSkipBtn(),this.util.log(e.skip.tracking),this.skipBtn.removeEventListener("click",this.onAdSkipClickHandler),n&&n.clear(),t.onAdBreakSkipped()}},{key:"addClass",value:function(e,t){e.className=e.className.trim()+" "+t}},{key:"removeClass",value:function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")}},{key:"setClass",value:function(e,t){e.className=t}},{key:"getClassRegexp",value:function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")}}]),e}(),Yt=function(){function e(t){M()(this,e);var n=t.controller,i=t.adContainerEl;this.controller=n,this.currentAd=this.controller.getCurrentAd(),this.adContainerEl=i,this.volumeBtn=this.adContainerEl.querySelector("[data-role='volumeBtn']"),this.track=this.adContainerEl.querySelector("[data-role='volumeTrack']"),this.volumeBar=this.adContainerEl.querySelector("[data-role='volumeBar']"),this.volumeSeekingArea=this.adContainerEl.querySelector("[data-role='volumeSeekingArea']"),this.volumeDrag=!1,this.util=new Dt.a,this.addEvent()}return x()(e,[{key:"initVolume",value:function(e){0==e?this.soundOff():this.soundOn(),this.lastVolume=e}},{key:"setTrackingUrl",value:function(e){var t=e.muteUrl,n=e.unmuteUrl;this.muteUrl=t,this.unmuteUrl=n}},{key:"soundOn",value:function(){this.sVolumeOff=!1,this.removeClass(this.volumeBtn,"mute")}},{key:"soundOff",value:function(){this.sVolumeOff=!0,this.addClass(this.volumeBtn,"mute")}},{key:"unMute",value:function(){0===this.getLastVolume()&&this.setLastVolume(.5),this.controller.setVolume(this.getLastVolume()),this.callLog(this.unmuteUrl,"unmuteUrl")}},{key:"mute",value:function(){this.setLastVolume(this.controller.getVolume()),this.controller.setVolume(0),this.callLog(this.muteUrl,"muteUrl")}},{key:"updateTrack",value:function(e){this.track.style.width=e+"%"}},{key:"updateVolumeBar",value:function(e){this.volumeBar.style.left="".concat(e,"px")}},{key:"setLastVolume",value:function(e){this.lastVolume=e}},{key:"getLastVolume",value:function(){return this.lastVolume}},{key:"setVolumeUI",value:function(){var e=100*this.controller.getVolume();this.updateTrack(e),this.updateVolumeBar(e)}},{key:"handleVolumeBtn",value:function(){this.sVolumeOff?(this.soundOn(),this.unMute()):(this.soundOff(),this.mute()),this.setVolumeUI()}},{key:"addEvent",value:function(){var e,t=this;this.volumeBtnHandler=this.handleVolumeBtn.bind(this),this.volumeBtn.addEventListener("click",this.volumeBtnHandler),this.events=(e={},d()(e,"mousedown",function(e){e.preventDefault(),t.volumeDrag=!0,t.updateVolume(e.pageX)}),d()(e,"mouseup",function(e){t.volumeDrag&&(t.volumeDrag=!1,t.updateVolume(e.pageX))}),d()(e,"mousemove",function(e){t.volumeDrag&&t.updateVolume(e.pageX)}),e),v()(C()(this.events),function(e){"mouseup"==e?document.addEventListener(e,t.events[e]):t.volumeSeekingArea.addEventListener(e,t.events[e])})}},{key:"removeEvent",value:function(){var e=this;this.volumeBtn.removeEventListener("click",this.volumeBtnHandler),v()(C()(this.events),function(t){"mouseup"==t?document.removeEventListener(t,e.events[t]):e.volumeSeekingArea.removeEventListener(t,e.events[t])})}},{key:"updateVolume",value:function(e,t){var n;t?n=100*t:n=(100*(e-this.offset(this.track).left)/100).toFixed(2);n>98&&(n=100),n<2&&(n=0);var i=n/100;0===n?this.soundOff():this.soundOn(),this.updateTrack(n),this.updateVolumeBar(n),this.setLastVolume(this.controller.getVolume()),this.controller.setVolume(i)}},{key:"offset",value:function(e){var t,n,i={top:0,left:0},r=e&&e.ownerDocument;if(r)return t=r.documentElement,"undefined"!==Ae()(e.getBoundingClientRect)&&(i=e.getBoundingClientRect()),n=this.getWindow(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}},{key:"getWindow",value:function(e){return e&&e===e.window?e:9===e.nodeType&&e.defaultView}},{key:"addClass",value:function(e,t){e.className=e.className.trim()+" "+t}},{key:"removeClass",value:function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")}},{key:"getClassRegexp",value:function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")}},{key:"callLog",value:function(e,t){null!=e&&e!=undefined&&this.util.log(e)}}]),e}(),Jt={PRE_SKIP_INFO:{en:'Skip in <strong class="txt_point" data-role="countDownTxt"></strong>',ko:'<strong class="txt_point" data-role="countDownTxt"></strong>초 후 <span class="txt_skip">SKIP</span>',vi:'Skip in <strong class="txt_point" data-role="countDownTxt"></strong>'},SKIP_INFO:{en:"SKIP",ko:"SKIP",vi:"SKIP"},NON_SKIP_INFO:{en:'Video will play in <strong class="txt_point" data-role="countDownTxt"></strong>',ko:'<strong class="txt_point" data-role="countDownTxt"></strong>초 후 <span class="txt_skip">재생</span>',vi:'Video will play in <strong class="txt_point" data-role="countDownTxt"></strong>'},LINK_MORE_INFO:{en:"Learn More",ko:"광고정보 더보기",vi:"Learn More"}},$t=function(e){return e.toLowerCase().substring(0,2)},en={getPreSkipInfo:function(e){return e=$t(e),Jt.PRE_SKIP_INFO[e]||Jt.PRE_SKIP_INFO.en},getSkipInfo:function(e){return e=$t(e),Jt.SKIP_INFO[e]||Jt.SKIP_INFO.en},getNonSkipInfo:function(e){return e=$t(e),Jt.NON_SKIP_INFO[e]||Jt.NON_SKIP_INFO.en},getLinkMoreInfo:function(e){return e=$t(e),Jt.LINK_MORE_INFO[e]||Jt.LINK_MORE_INFO.en}},tn=function(){function e(t){M()(this,e);var n=t.divId,i=t.controller,r=t.playerType,a=t.adContainer,o=t.locale,s=t.showControl,d=void 0!==s&&s;this.divId=n,this.controller=i,this.playerType=r,this.adContainerEl=a,this.locale=o||"en",this.currentTime,this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0,remainingTime:0},this.showCountdown=!0,this.showControl=d,this.adUiInfo={PRE_SKIP_INFO:en.getPreSkipInfo(this.locale),SKIP_INFO:en.getSkipInfo(this.locale),NON_SKIP_INFO:en.getNonSkipInfo(this.locale),LINK_MORE_INFO:en.getLinkMoreInfo(this.locale)}}return x()(e,[{key:"initAdUiManager",value:function(){this.showControl&&this.createVideoWrap()}},{key:"createAdContainer",value:function(){if(this.playerWrapperDiv=document.getElementById(this.divId),this.playerWrapperDiv.style.position="relative","undefined"==typeof this.adContainerEl){var e=document.getElementById("".concat(this.divId,"_videoAdContainer"));if(null!==e)this.adContainerEl=e;else{e=document.createElement("div");var t=this.controller.getPlayerSize(),n=t.width,i=t.height;e.setAttribute("id","".concat(this.divId,"_videoAdContainer")),e.style.cssText="position:absolute;top:0px;left:0px;width:".concat(n,"px;height:").concat(i,"px"),this.playerWrapperDiv.appendChild(e),this.adContainerEl=e}}}},{key:"createVideoWrap",value:function(){null==this.adSubContainerEl.querySelector("[data-role='adVideoWrapEl']")&&(this.controller.isMobilePlayer()?this.makeHTML_MO():this.makeHTML_PC()),this.initControls()}},{key:"makeHTML_PC",value:function(){this.adSubContainerEl.innerHTML='<div class="vod_player_wrap pc" data-role="adVideoWrapEl">\n\t\t\t\t<div class="control_area hide" data-role="adControlEl">\n\t\t\t\t\t<div class="progress_area">\n\t\t\t\t\t\t<div class="progress_whole"></div>\n\t\t\t\t\t\t<div class="progress_loaded" data-role="loadingBar"></div>\n\t\t\t\t\t\t<div class="progress_played" data-role="progressBar"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="control_btn_area" data-role="adBtnControlEl">\n\t\t\t\t\t\t<div class="btn_area">\n\t\t\t\t\t\t\t<button type="button" class="btn_player btn_play hide" data-role="playBtn"><span class="blind">재생</span><i class="ico"></i></button>\n\t\t\t\t\t\t\t<button type="button" class="btn_player btn_pause" data-role="pauseBtn"><span class="blind">일시정지</span><i class="ico"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="volume_area">\n\t\t\t\t\t\t\t<div class="volume_btn_area">\n\t\t\t\t\t\t\t\t<button type="button" class="btn_volume" data-role="volumeBtn">\n\t\t\t\t\t\t\t\t\t<span class="blind">소리조절</span>\n\t\t\t\t\t\t\t\t\t<i class="ico"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="volume_panel_area">\n\t\t\t\t\t\t\t\t<div class="volume_panel" data-role="volumeSeekingArea">\n\t\t\t\t\t\t\t\t\t<div class="volume_whole">\n\t\t\t\t\t\t\t\t\t\t<div class="volume_current" data-role="volumeTrack"></div>\n\t\t\t\t\t\t\t\t\t\t<span class="volume_handle" data-role="volumeBar"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="time_area">\n\t\t\t\t\t\t<span class="timer txt_point" data-role="curTimeLabel">00:00</span>\n\t\t\t\t\t\t<span class="time_separator"></span>\n\t\t\t\t\t\t<span class="timer" data-role="durationLabel">00:00</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="skip_area hide" data-role="countDownEl">'.concat(this.adUiInfo.PRE_SKIP_INFO,'</div>\n\t\t\t\t<button type="button" class="btn_skip hide" data-role="skipBtn"><span class="txt">').concat(this.adUiInfo.SKIP_INFO,'</span></button>\n\t\t\t\t<a class="link_more" target="_blank" data-role="linkMore"><span class="txt">').concat(this.adUiInfo.LINK_MORE_INFO,"</span></a>\n\t\t\t</div>")}},{key:"makeHTML_MO",value:function(){this.adSubContainerEl.innerHTML='<div class="vod_player_wrap mobile hide" data-role="adVideoWrapEl">\n\t\t\t\t<div class="control_area" data-role="adControlEl">\n\t\t\t\t\t<div class="progress_area">\n\t\t\t\t\t\t<div class="progress_whole"></div>\n\t\t\t\t\t\t<div class="progress_loaded" data-role="loadingBar"></div>\n\t\t\t\t\t\t<div class="progress_played" data-role="progressBar"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="control_btn_area hide" data-role="adBtnControlEl">\n\t\t\t\t\t\t<div class="btn_area">\n\t\t\t\t\t\t\t<button type="button" class="btn_player btn_play hide" data-role="playBtn"><span class="blind">재생</span><i class="ico"></i></button>\n\t\t\t\t\t\t\t<button type="button" class="btn_player btn_pause" data-role="pauseBtn"><span class="blind">일시정지</span><i class="ico"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="time_area">\n\t\t\t\t\t\t<span class="timer txt_point" data-role="curTimeLabel">00:00</span>\n\t\t\t\t\t\t<span class="time_separator"></span>\n\t\t\t\t\t\t<span class="timer" data-role="durationLabel">00:00</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="skip_area hide" data-role="countDownEl">'.concat(this.adUiInfo.PRE_SKIP_INFO,'</div>\n\t\t\t\t<button type="button" class="btn_skip hide" data-role="skipBtn"><span class="txt">').concat(this.adUiInfo.SKIP_INFO,'</span></button>\n\t\t\t\t<a class="link_more" data-role="linkMore"><span class="txt">').concat(this.adUiInfo.LINK_MORE_INFO,"</span></a>\n\t\t\t</div>")}},{key:"initControls",value:function(){this.adVideoWrapEl=this.adContainerEl.querySelector("[data-role='adVideoWrapEl']"),this.adControlEl=this.adContainerEl.querySelector("[data-role='adControlEl']"),this.linkMore=this.adContainerEl.querySelector("[data-role='linkMore']"),this.controller.isMobilePlayer()?(this.initPlayPauseBtnController(),this.initProgressBarController()):(this.setPlayerWrapStyle(),this.initVolumeController(),this.initPlayPauseBtnController(),this.initProgressBarController())}},{key:"addEvent",value:function(){var e,t,n=this;this.controller.isMobilePlayer()?this.events=(e={},d()(e,"mouseenter",function(){n.playPauseBtnController.showBtnControl()}),d()(e,"mouseleave",function(){n.playPauseBtnController.hideBtnControl()}),d()(e,"touchenter",function(){n.playPauseBtnController.showBtnControl()}),d()(e,"touchleave",function(){n.playPauseBtnController.hideBtnControl()}),e):this.events=(t={},d()(t,"mouseenter",function(){n.showAdControls()}),d()(t,"mouseleave",function(){n.hideAdControls()}),t);v()(C()(this.events),function(e){n.adVideoWrapEl.addEventListener(e,n.events[e])})}},{key:"removeEvent",value:function(){var e=this;v()(C()(this.events),function(t){e.adVideoWrapEl.removeEventListener(t,e.events[t])})}},{key:"setPlayerWrapStyle",value:function(){var e=this.controller.getPlayerSize().width;e<456?this.addClass(this.adVideoWrapEl,"size_s"):e>=456&&e<880&&this.addClass(this.adVideoWrapEl,"size_m")}},{key:"initVolumeController",value:function(){this.volumeController=new Yt({controller:this.controller,adContainerEl:this.adContainerEl})}},{key:"initPlayPauseBtnController",value:function(){this.playPauseBtnController=new Kt({controller:this.controller,adContainerEl:this.adContainerEl})}},{key:"initProgressBarController",value:function(){this.progressBarController=new Qt({adContainerEl:this.adContainerEl})}},{key:"initSkipBtnController",value:function(){var e=this.currentAd.isSkippable(),t=this.adContainerEl.querySelector("[data-role='countDownEl']");e||(t.innerHTML=this.adUiInfo.NON_SKIP_INFO),this.skipBtnController=new Zt({controller:this.controller,adPlayheadTracker:this.adPlayheadTracker,adContainerEl:this.adContainerEl,isSkippable:e})}},{key:"onAdFullscreenClick",value:function(){this.controller.toggleFullscreen()}},{key:"onAdsPaused",value:function(){this.showAdControls()}},{key:"onAdsResumed",value:function(){this.showAdControls()}},{key:"updateAdBufferUi",value:function(e){this.progressBarController.updateLoadingBar(e)}},{key:"updateAdUi",value:function(e,t,n,i,r){if(this.currentTime!=e){this.currentTime=e,this.adPlayheadTracker.currentTime=e,this.adPlayheadTracker.duration=n,this.adPlayheadTracker.adPosition=i,this.adPlayheadTracker.totalAds=r,this.adPlayheadTracker.remainingTime=t;var a=(100*(e/n)).toFixed(2);this.progressBarController.updateProgressBar(a),this.progressBarController.updateCurrentTime(e),this.progressBarController.setDuration(n),this.skipBtnController&&this.skipBtnController.updateAdUi(t)}}},{key:"setVolumeUI",value:function(e){this.showControl&&!this.controller.isMobilePlayer()&&(this.volumeController.initVolume(e),this.volumeController.setVolumeUI())}},{key:"showAdContainer",value:function(){this.adContainerEl.style.display="block",this.adContainerEl.style.zIndex="1000"}},{key:"hideAdContainer",value:function(){this.adContainerEl.style.display="none",this.adContainerEl.style.zIndex=""}},{key:"onAdError",value:function(){this.adContainerEl.style.display="none",this.adContainerEl.style.zIndex=""}},{key:"onAdBreakStart",value:function(e){this.adControlEl!=undefined&&(this.adContainerEl.style.display="block","application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.adControlEl.style.display="block":this.adControlEl.style.display="none")}},{key:"onAdBreakEnd",value:function(){this.hideAdContainer()}},{key:"onAdComplete",value:function(){this.controller.isMobilePlayer()&&this.playPauseBtnController.hideBtnControl(),this.progressBarController.updateProgressBar(0),this.progressBarController.updateCurrentTime(0)}},{key:"onAllAdsCompleted",value:function(){this.adContainerEl.style.display="none",this.adContainerEl.style.zIndex=""}},{key:"onLinearAdLoad",value:function(){this.showAdControls()}},{key:"onLinearAdStart",value:function(){}},{key:"onNonLinearAdLoad",value:function(){}},{key:"showAdControls",value:function(){this.adControlEl&&this.removeClass(this.adControlEl,"hide")}},{key:"hideAdControls",value:function(){this.adControlEl&&this.addClass(this.adControlEl,"hide")}},{key:"assignControlAttributes",value:function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t}},{key:"getClassRegexp",value:function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")}},{key:"addClass",value:function(e,t){e.className=e.className.trim()+" "+t}},{key:"removeClass",value:function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")}},{key:"getAdContainerDiv",value:function(e){var t=e.type;return"ima"==t?(this.adSubContainerEl=this.adContainerEl.querySelector("[data-role='imaAdContainerEl']"),this.adSubContainerEl):"gfd"==t?(this.adSubContainerEl=this.adContainerEl.querySelector("[data-role='gfdAdContainerEl']"),this.adSubContainerEl):this.adContainerEl}},{key:"setCurrentAd",value:function(e){var t,n,i,r;(this.currentAd=e,this.showControl)&&(this.currentAd.loggingEvent.events.forEach(function(e){"resume"==e.name?n=e.url:"pause"==e.name?t=e.url:"mute"==e.name?i=e.url:"unmute"==e.name&&(r=e.url)}),this.playPauseBtnController.setTrackingUrl({resumeUrl:n,pauseUrl:t}),this.volumeController&&this.volumeController.setTrackingUrl({muteUrl:i,unmuteUrl:r}),this.initSkipBtnController())}},{key:"reset",value:function(){this.showControl&&(this.removeEvent(),this.controller.isMobilePlayer()?this.playPauseBtnController.removeEvent():(this.volumeController.removeEvent(),this.playPauseBtnController.removeEvent()),zt()(this.currentAd)||this.skipBtnController.removeEvent())}}],[{key:"createAdContainer",value:function(e){e.adContainer!==undefined&&(e.adContainer.innerHTML='<div data-role="imaAdContainerEl" style="display:none"></div>\n\t\t\t\t<div data-role="gfdAdContainerEl" style="display:none"></div>')}}]),e}(),nn=n(36),rn=n.n(nn),an=["HTML5_MO"],on=function(){function e(){M()(this,e),this.locale,this.playerType,this.autoPlayAdBreaks}return x()(e,[{key:"setLocale",value:function(e){this.locale=e}},{key:"getLocale",value:function(){return this.locale}},{key:"setPlayerType",value:function(e){this.playerType=e}},{key:"getPlayerType",value:function(){return this.playerType}},{key:"setAutoPlayAdBreaks",value:function(e){this.autoPlayAdBreaks=e}}],[{key:"isMobilePlayer",value:function(e){return A()(an,e)}}]),e}(),sn=function(){function e(t){M()(this,e);var n=t.divId,i=t.adapter,r=t.playerType,a=t.adContainer,o=t.locale,s=t.showControl,d=void 0!==s&&s;this.divId=n,this.adapter=i,this.playerType=r,this.locale=o,this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.adUi=new tn({divId:n,controller:this,playerType:r,adContainer:a,locale:o,showControl:d})}return x()(e,[{key:"initAdUiManager",value:function(){this.adUi.initAdUiManager()}},{key:"getCurrentAd",value:function(){this.adapter.getCurrentAd()}},{key:"setCurrentAd",value:function(e){this.adUi.setCurrentAd(e)}},{key:"getIsMobile",value:function(){return this.isMobile}},{key:"isMobilePlayer",value:function(){return on.isMobilePlayer(this.playerType)}},{key:"getPlayerSize",value:function(){return this.adapter.getPlayerSize()}},{key:"onErrorLoadingAds",value:function(e){this.adUi.onAdError()}},{key:"onAdPlay",value:function(){this.adapter.resumeAds()}},{key:"onAdPause",value:function(){this.adapter.pauseAds()}},{key:"setVolume",value:function(e){this.adapter.setVolume(e)}},{key:"getVolume",value:function(){return this.adapter.getVolume()}},{key:"toggleFullscreen",value:function(){if(this.adapter.fullscreen){var e=document.exitFullscreen||document.exitFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen;e?e.call(document):this.adapter.onFullscreenChange()}else{var t=document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullscreen||document.documentElement.requestFullScreen||document.documentElement.webkitRequestFullScreen||document.documentElement.mozRequestFullScreen;t?t.call(document.documentElement):this.adapter.onFullscreenChange()}}},{key:"onAdError",value:function(e){this.adUi.onAdError()}},{key:"onAdBreakStart",value:function(e){this.adUi.onAdBreakStart(e)}},{key:"showAdContainer",value:function(){this.adUi.showAdContainer()}},{key:"hideAdContainer",value:function(){this.adUi.hideAdContainer()}},{key:"onAdBreakEnd",value:function(){this.adUi.onAdBreakEnd()}},{key:"onAdComplete",value:function(){this.adUi.onAdComplete()}},{key:"onAllAdsCompleted",value:function(){this.adUi.onAllAdsCompleted()}},{key:"onAdsPaused",value:function(){}},{key:"onAdsResumed",value:function(){}},{key:"onAdPlayheadUpdated",value:function(e,t,n,i,r){this.adUi.updateAdUi(e,t,n,i,r)}},{key:"onAdBuffered",value:function(e){this.adUi.updateAdBufferUi(e)}},{key:"setVolumeUI",value:function(e){this.adUi.setVolumeUI(e)}},{key:"getCurrentAd",value:function(){return this.adapter.getCurrentAd()}},{key:"onLinearAdLoad",value:function(){this.adUi.onLinearAdLoad()}},{key:"onLinearAdStart",value:function(){this.adUi.onLinearAdStart()}},{key:"onNonLinearAdLoad",value:function(){this.adUi.onNonLinearAdLoad()}},{key:"onNonLinearAdStart",value:function(){this.adUi.onNonLinearAdLoad()}},{key:"getAdContainerDiv",value:function(e){return this.adUi.getAdContainerDiv(e)}},{key:"reset",value:function(){this.adUi.reset(),this.adUi=null}}]),e}(),dn=n(23),un=n.n(dn),ln=n(24),cn=n.n(ln),hn=n(13),fn=n.n(hn);function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=fn()(e);if(t){var r=fn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return cn()(this,n)}}var pn,vn=function(e){un()(n,e);var t=An(n);function n(e){var i;M()(this,n);var r=e.placementType,a=e.timeOffset,o=e.duration,s=e.skipTimeOffset,d=e.vastMediaWidth,u=e.vastMediaHeight,l=e.noticeDurationSec;return(i=t.call(this,e)).placementType=r,i.duration=o,i.timeOffset=a,i.skipTimeOffset=s,i.vastMediaWidth=d,i.vastMediaHeight=u,i.noticeDurationSec=l,i.phase=i.placementType,i}return x()(n,[{key:"getPlacementType",value:function(){return this.placementType}},{key:"getDuration",value:function(){return this.duration}},{key:"getTimeOffset",value:function(){return this.timeOffset}},{key:"getSkipTimeOffset",value:function(){return this.skipTimeOffset}},{key:"getVastMediaWidth",value:function(){return this.vastMediaWidth}},{key:"getVastMediaHeight",value:function(){return this.vastMediaHeight}},{key:"setNonLinearAd",value:function(e){this.nonLinearAd=e}},{key:"getNonLinearAd",value:function(){return this.nonLinearAd}}]),n}(ge),gn=n(20),yn=n.n(gn),mn=n(74),En=n.n(mn),kn=new ye({src:"https://ssl.pstatic.net/tveta/libs/ssp/assets/js/external/hls-0.12.2.js",global:"Hls"}),In=function(){return(new Date).getTime()},_n=function(){return Z.isMobile()},wn=Y.ERROR_DETAIL_CODE;var Ln={maxMaxBufferLength:50,abrEwmaDefaultEstimate:1048576,manifestLoadingTimeOut:15e3,manifestLoadingMaxRetry:4,manifestLoadingRetryDelay:1500,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:500,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingLoopThreshold:3,minAutoBitrate:1e5},Sn=function(){function e(t){M()(this,e),this.player=t,this.videoAdOptions=t.videoAdOptions,this.adVideoEl=t.adVideoEl,this.events={url:"",t0:performance.now(),load:[],buffer:[],video:[],level:[],bitrate:[]}}return x()(e,[{key:"destroy",value:function(){this.waiting=!1,this.recoveredTime=null,this.hls&&(this.hls.destroy(),this.hls=null)}},{key:"loadMediaFile",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];if(Hls.isSupported()){var n=En()({enabledBufferFlush:!1,enableWorker:!_n()},Ln),i=this.hls=new Hls(n);i.loadSource(e),i.attachMedia(this.adVideoEl),this.setHlsEventListener(t),this.setHlsErrorListener()}else""!=this.adVideoEl.canPlayType("application/vnd.apple.mpegurl")||""!=this.adVideoEl.canPlayType("application/x-mpegURL")?this.adVideoEl.src=e:this.player.onAdError({code:wn.START_ERROR,message:"can not support to play a hls media file"})}},{key:"getStartLevel",value:function(e){if(this.videoAdOptions.loadBitrate){var t=e.map(function(e){return e.bitrate?e.bitrate:0});return Dt.a.getNearestNumIdx(t,1e3*this.videoAdOptions.loadBitrate)}return yn()(e,function(e){return e.height>=450&&e.height<=480})}},{key:"getMaxLevel",value:function(e){var t=_n()?720:1080;return yn()(e,function(e){return e.height===t})}},{key:"setupStartAutoLevel",value:function(e){var t=this.hls,n=-1,i=-1;e&&e.length>0&&(n=this.getStartLevel(e),i=this.getMaxLevel(e)),this.currentAutoLevel=t.startLevel=t.firstLevel=n,n<i&&(t.loadLevel=n),t.autoLevelCapping=i}},{key:"getVideoPlaybackQualityInfo",value:function(){var e=this.adVideoEl,t={totalVideoFrames:0,droppedVideoFrames:0};return e.getVideoPlaybackQuality?t=e.getVideoPlaybackQuality():e.webkitDecodedFrameCount&&(t.totalVideoFrames=e.webkitDecodedFrameCount,t.droppedVideoFrames=e.webkitDroppedFrameCount),t}},{key:"getBufferHealth",value:function(){for(var e=this.adVideoEl.buffered,t=e.length,n=this.adVideoEl.currentTime,i=0,r=0;r<t;r++)if(e.start(r)<=n&&e.end(r)>n){i=e.end(r)-n;break}return Math.floor(i)}},{key:"getLevelQuality",value:function(e){return"".concat(e.height||0,"P")}},{key:"setHlsEventListener",value:function(e){var t=this,n=this.hls;n.on(Hls.Events.MEDIA_ATTACHED,function(){t.events.video.push({time:performance.now()-t.events.t0,type:"Media attached"})}),n.on(Hls.Events.MEDIA_DETACHED,function(){t.events.video.push({time:performance.now()-t.events.t0,type:"Media detached"})}),n.on(Hls.Events.FRAG_PARSING_INIT_SEGMENT,function(e,n){e={time:performance.now()-t.events.t0,type:n.id+" init segment"};t.events.video.push(e)}),n.on(Hls.Events.FRAG_PARSING_METADATA,function(e,t){}),n.on(Hls.Events.LEVEL_SWITCHING,function(e,i){t.events.level.push({time:performance.now()-t.events.t0,id:i.level,bitrate:Math.round(n.levels[i.level].bitrate/1e3)})}),n.on(Hls.Events.MANIFEST_PARSED,function(e,n){e={type:"manifest",name:"",start:0,end:n.levels.length,time:n.stats.trequest-t.events.t0,latency:n.stats.tfirst-n.stats.trequest,load:n.stats.tload-n.stats.tfirst,duration:n.stats.tload-n.stats.tfirst};t.events.load.push(e),t.setupStartAutoLevel(n.levels),pn={levelNb:n.levels.length,levelParsed:0}}),n.on(Hls.Events.AUDIO_TRACKS_UPDATED,function(e,t){}),n.on(Hls.Events.AUDIO_TRACK_SWITCHING,function(e,n){e={time:performance.now()-t.events.t0,type:"audio switching",name:"@"+n.id};t.events.video.push(e)}),n.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(e,n){e={time:performance.now()-t.events.t0,type:"audio switched",name:"@"+n.id};t.events.video.push(e)}),n.on(Hls.Events.LEVEL_LOADED,function(e,n){t.events.isLive=n.details.live;e={type:"level",id:n.level,start:n.details.startSN,end:n.details.endSN,time:n.stats.trequest-t.events.t0,latency:n.stats.tfirst-n.stats.trequest,load:n.stats.tload-n.stats.tfirst,parsing:n.stats.tparsed-n.stats.tload,duration:n.stats.tload-n.stats.tfirst};var i=n.stats.tparsed-n.stats.tload;pn.levelParsed?t.sumLevelParsingMs+=i:t.sumLevelParsingMs=i,pn.levelParsed++,pn.levelParsingUs=Math.round(1e3*t.sumLevelParsingMs/pn.levelParsed),t.events.load.push(e)}),n.on(Hls.Events.AUDIO_TRACK_LOADED,function(e,n){t.events.isLive=n.details.live;e={type:"audio track",id:n.id,start:n.details.startSN,end:n.details.endSN,time:n.stats.trequest-t.events.t0,latency:n.stats.tfirst-n.stats.trequest,load:n.stats.tload-n.stats.tfirst,parsing:n.stats.tparsed-n.stats.tload,duration:n.stats.tload-n.stats.tfirst};t.events.load.push(e)}),n.on(Hls.Events.FRAG_BUFFERED,function(e,i){n.loadLevel=-1;var r=i.stats,a=i.frag,o=t.getVideoPlaybackQualityInfo(),s=n.abrController._bwEstimator||n.abrController.bwEstimator;try{var d={idx:a.sn,fs:Math.floor(r.loaded),fd:Math.floor(1e3*a.duration),q:t.getLevelQuality(n.levels[a.level]),rt:Math.floor(1e3*(r.tload-r.trequest)),mt:Math.floor(1e3*r.tparsed),cbw:Math.floor(8*r.loaded/((r.tload-r.trequest)/1e3)),fbw:Math.floor(s.fast_.getEstimate()),sbw:Math.floor(s.slow_.getEstimate()),drf:o.droppedVideoFrames,df:o.totalVideoFrames,hb:t.getBufferHealth()};On(d.cbw),On(Math.min(d.fbw,d.sbw))}catch(u){}}),n.on(Hls.Events.LEVEL_SWITCHED,function(e,n){e={time:performance.now()-t.events.t0,type:"level switched",name:n.level};t.events.video.push(e)}),n.on(Hls.Events.FRAG_CHANGED,function(e,n){var i=n.frag.level;t.currentAutoLevel!==i&&i>-1&&(t.currentAutoLevel=i);e={time:performance.now()-t.events.t0,type:"frag changed",name:n.frag.sn+" @ "+n.frag.level};t.events.video.push(e),pn.tagList=n.frag.tagList;var r=n.frag.level,a=n.frag.autoLevel;pn.levelStart===undefined&&(pn.levelStart=r),a?(pn.fragChangedAuto?(pn.autoLevelMin=Math.min(pn.autoLevelMin,r),pn.autoLevelMax=Math.max(pn.autoLevelMax,r),pn.fragChangedAuto++,t.levelLastAuto&&r!==pn.autoLevelLast&&pn.autoLevelSwitch++):(pn.autoLevelMin=pn.autoLevelMax=r,pn.autoLevelSwitch=0,pn.fragChangedAuto=1,t.sumAutoLevel=0),t.sumAutoLevel+=r,pn.autoLevelAvg=Math.round(1e3*t.sumAutoLevel/pn.fragChangedAuto)/1e3,pn.autoLevelLast=r):(pn.fragChangedManual?(pn.manualLevelMin=Math.min(pn.manualLevelMin,r),pn.manualLevelMax=Math.max(pn.manualLevelMax,r),pn.fragChangedManual++,t.levelLastAuto||r===pn.manualLevelLast||pn.manualLevelSwitch++):(pn.manualLevelMin=pn.manualLevelMax=r,pn.manualLevelSwitch=0,pn.fragChangedManual=1),pn.manualLevelLast=r),t.levelLastAuto=a}),n.on(Hls.Events.FRAG_LOAD_EMERGENCY_ABORTED,function(e,t){pn&&(pn.fragLoadEmergencyAborted===undefined?pn.fragLoadEmergencyAborted=1:pn.fragLoadEmergencyAborted++)}),n.on(Hls.Events.FRAG_DECRYPTED,function(e,n){pn.fragDecrypted||(pn.fragDecrypted=0,t.totalDecryptTime=0,pn.fragAvgDecryptTime=0),pn.fragDecrypted++,t.totalDecryptTime+=n.stats.tdecrypt-n.stats.tstart,pn.fragAvgDecryptTime=t.totalDecryptTime/pn.fragDecrypted})}},{key:"setHlsErrorListener",value:function(){var e=this;this.hls.on(Hls.Events.ERROR,function(t,n){var i=Tn[n.details]||{code:"h010",msg:"VIDEO_LOAD_ERROR"};if(n.fatal)switch(n.type){case Hls.ErrorTypes.MEDIA_ERROR:e.recoverMediaError();break;case Hls.ErrorTypes.NETWORK_ERROR:e.sendLog(i);break;default:e.destroy(),e.sendLog(i)}else e.sendLog(i)})}},{key:"recoverMediaError",value:function(){(!this.recoveredTime||In()-this.recoveredTime>3e3)&&(this.recoveredTime=In(),this.waiting=!1,this.hls.recoverMediaError())}},{key:"sendLog",value:function(e){this.player.onAdError(e)}}],[{key:"isSupportedHls",value:function(){var e=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!i}},{key:"initHlsModule",value:function(){var e=o()(r.a.mark(function t(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kn.load();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new Error("failed to load hls library file");case 8:case"end":return e.stop()}},t,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),Tn={manifestLoadError:{code:"h011",msg:"ERR_SERVER"},manifestLoadTimeOut:{code:"h012",msg:"ERR_SERVER"},manifestParsingError:{code:"h013",msg:"VIDEO_LOAD_ERROR"},levelLoadError:{code:"h014",msg:"ERR_SERVER"},levelLoadTimeOut:{code:"h015",msg:"ERR_SERVER"},fragLoadError:{code:"h021",msg:"ERR_SERVER"},fragLoopLoadingError:{code:"h022",msg:"VIDEO_LOAD_ERROR"},fragLoadTimeOut:{code:"h023",msg:"ERR_SERVER"},fragDecryptError:{code:"h024",msg:"VIDEO_LOAD_ERROR"},fragParsingError:{code:"h025",msg:"VIDEO_LOAD_ERROR"},keyLoadError:{code:"h031",msg:"ERR_SERVER"},keyLoadTimeOut:{code:"h032",msg:"ERR_SERVER"},manifestIncompatibleCodecsError:{code:"h101",msg:"VIDEO_LOAD_ERROR"},bufferAddCodecError:{code:"h111",msg:"VIDEO_LOAD_ERROR"},bufferAppendError:{code:"h112",msg:"VIDEO_LOAD_ERROR"},bufferAppendingError:{code:"h113",msg:"VIDEO_LOAD_ERROR"},bufferStalledError:{code:"h114",msg:"VIDEO_LOAD_ERROR",frequency:!0},bufferFullError:{code:"h115",msg:"VIDEO_LOAD_ERROR"},bufferSeekOverHole:{code:"h116",msg:"VIDEO_LOAD_ERROR",frequency:!0},levelSwitchError:{code:"h201",msg:"VIDEO_LOAD_ERROR"},internalException:{code:"h202",msg:"VIDEO_LOAD_ERROR"}};function On(e){var t=e,n=["Bytes","KBps","MBps","GBps","TBps"];if(0===t)return"n/a";var i=parseInt(Math.floor(Math.log(t)/Math.log(1024)),10);return 0===i?"".concat(t," ").concat(n[i],")"):"".concat((t/Math.pow(1024,i)).toFixed(1)," ").concat(n[i])}var bn="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,Rn=function(){function e(){M()(this,e)}return x()(e,[{key:"supports",value:function(){return bn}},{key:"mark",value:function(e){this.supports()&&window.performance.mark(e)}},{key:"measure",value:function(e,t,n){if(this.supports()){if(!this.isExistMark(t)||!this.isExistMark(n))return;window.performance.measure(e,t,n)}}},{key:"getMeasureResult",value:function(e){if(this.supports()){var t=window.performance.getEntriesByType("measure"),n=y()(t,function(t){return t.name==e});return n.supportsUserTiming=!0,n}}},{key:"clearMeasures",value:function(e){this.supports()&&window.performance.clearMeasures(e)}},{key:"clearMark",value:function(e){performance.clearMarks!==undefined&&window.performance.clearMarks(e)}},{key:"clearAllMarks",value:function(){performance.clearMarks!==undefined&&window.performance.clearMarks()}},{key:"isExistMark",value:function(e){var t=window.performance.getEntriesByType("mark");return!(!this.supports()||-1===yn()(t,function(t){return t.name==e}))}},{key:"isExistMeasure",value:function(e){var t=window.performance.getEntriesByType("measure");return!(!this.supports()||-1===yn()(t,function(t){return t.name==e}))}}]),e}(),Cn=function(){return window.navigator.userAgent},Pn=function(){return Z.IS_ANDROID?Z.searchOSVersion():-1},Dn=function(){return Z.IS_WINDOWS_MOBILE},Mn=function(){return Z.IS_IOS},Nn=function(){return Z.IS_IPAD},xn=function(){return Z.IS_ANDROID},Bn=function(){var e=Cn();return new RegExp("NAVER\\(inapp; cafe;","i").test(e)},Un=function(){var e=Cn();return new RegExp("NAVER\\(inapp; blog;","i").test(e)},Vn=function(){var e=Cn();return new RegExp("Line/([0-9]+)\\.([0-9]+)\\.([0-9]+)","i").exec(e)},Fn=function(){return Z.IS_NAVER_APP},Gn=function(){return Z.IS_IOS?Z.searchOSVersion():-1},Wn=function(){if(Z.IS_ANDROID&&Z.searchOSVersion()>=5)return!0},jn=["Galaxy S3","GalaxyS4","Galaxy S4","SHW-M250","SHW-M440","SHV-E210","SHV-E300","SHV-E330","SM-G900","SM-G920","SM-G925","SHV-E160","SHV-E250","SM-N900","GT-N9000","GT-N9005","GT-N9002","SM-N910","SM-N915","GT-I920","GT-I8552","SM-G710","SHV-E270","SM-G7102","SM-G7105","SM-G720","SM-G360","SM-A500","SM-A700","SM-G530","SM-E500","SM-J700","SM-J100","SM-G357","SM-G355","GT-N5100","GT-N5110","GT-N5120","SHW-M480","GT-N8000","GT-N8005","GT-P3100","GT-P3105","SM-T320","SM-T321","SM-T322","SM-T700","SM-T701","SM-T702","LG-F320","LG-F180","LG-F240","LG-F200","LG-F160","LG-F300","LG-F400","LG-F350","LG-F300","IM-A860","IM-A890","IM-A900","Nexus 7","Nexus 5","MT1-U06","X9006","A500CG"];function Xn(e){var t=e.playerType,n=4.1,i=5;function r(){var e=Pn();return n<=e&&e<i}function a(e,t){var n=Cn(),i=new RegExp(e,"i").exec(n),r=-1;if(i){var a=i[2],o=i[3],s=i[4],d=i[5]?i[5]:"";r=parseFloat(a+"."+o+s+d)}var u=n.indexOf("iPhone OS ")+"iPhone OS ".length,l=n.indexOf(" like"),c=n.substring(u,l),h=parseInt(c,10);return r>=t&&h>=6}var o,s;return!(!A()(["HTML5_PC"],t)||Z.isMobile())||(!!Dn()||(!!Nn()||(!Un()||!Mn())&&(!(Bn()&&a("NAVER\\(inapp; cafe; ([0-9]+); ([0-9]+)\\.([0-9]+)\\.([0-9]+)",3.39)&&Mn())&&(!!(Fn()&&a("NAVER\\(inapp; search; ([0-9]+); ([0-9]+)\\.([0-9]+)\\.([0-9]+)",6.12)&&Mn())||(!!(Vn()&&a("Line/()([0-9]+).([0-9]+).([0-9]+).?([0-9]?)",5.606)&&Mn())||(!!(Mn()&&Gn()>=10)||!!xn()&&(!!Wn()||(!(!Fn()||!r())||(o=Cn(),s=new RegExp(jn.join("|"),"i"),!!(r()&&s.exec(o)&&function(){var e=Cn(),t=new RegExp(" (chrome|safari)\\/(\\d+)\\.*(\\d+)*","i"),n=new RegExp(" (chrome|safari)$","i");return!!t.exec(e)||!!n.exec(e)}()))))))))))}function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var zn=new ye({src:"//imasdk.googleapis.com/js/sdkloader/ima3.js",global:"google.ima"}),Kn=Y.Type,Qn=(Kn.AD_LOAD_ERROR,Kn.AD_PLAY_ERROR),Zn=Y.LOAD_STAT_CODE,Yn=Y.START_STAT_CODE,Jn=Y.ERROR_DETAIL_CODE,$n=me.Type,ei=$n.LOAD_SUCCESS,ti=($n.LOAD_FAILED,j.Type),ni=ti.MEDIATION_READY,ii=ti.MEDIATION_FAILED,ri=function(){function e(t){var n=this;M()(this,e),d()(this,"onAdLoadFailedTimeout",function(){var e=n.adapterManager,t=n.encrypted,i=n.eventTracking,r=e.callLogs,a=i.loadErrors;try{n.reset(),n.player.getThirdPartyAdController().removeAllEventListener()}catch(s){}var o={st:Zn.STAT_CODE_TIMEOUT,erc:Jn.LOAD_ERROR_AD_SELECTION_NO_FILL,erm:"IMA_AD_LOAD_FAILED_TIMEOUT"};r(a,t,o,"ssp loaded error(ima) url"),e.fireEvent({name:ii})}),this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.currentAd=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener,this.contentCompleteCalled=!1;var i=t.adProvider,r=t.eventTracking,a=t.unitId,o=t.divId,s=t.playerInfo,u=t.adPlaybackInfo,l=t.videoAdOptions,c=t.eventNotifier,h=t.mediaParams,f=t.timeoutManager,A=t.adapterManager,p=s.player,v=s.adContainer,g=s.videoEl,y=s.locale,m=s.playerType,E=s.playback_method,k=i.adInfo,I=k.requestSizes,_=k.sdkRequestInfo,w=i.adProviderName,L=i.eventTracking,S=i.encrypted,T=i.videoOutput,O=i.creativeType,b=i.renderType,R=_.AD_UNIT_CODE,C=_.NETWORK_CODE,P=_.maxRedirect,D=(_.vastLoadTimeout,_.ad_rule),N=le()(_,["AD_UNIT_CODE","NETWORK_CODE","maxRedirect","vastLoadTimeout","ad_rule"]),x=h.contentKeywords,B=le()(h,["contentKeywords"]);this.adProviderName=w,this.eventTracking=r,this.adEvtTrk=L,this.encrypted=S,this.creativeType=O,this.renderType=b,this.unitId=a,this.divId=o,this.playerInfo=s,this.adPlaybackInfo=u,this.eventNotifier=c,this.adapterManager=A,this.player=p,this.videoEl=g,this.locale=y,this.playerType=m,this.playback_method=E,this.viewableImpFlag=!1,this.timeoutManager=f,this.adsManagerDimensions={width:0,height:0};var V={description_url:encodeURIComponent(location.href),hl:y,correlator:+new Date},F={iu:"/".concat(C,"/").concat(R)},G={sz:"".concat(I[0].width,"x").concat(I[0].height)},W={output:"".concat(T.toLowerCase())},j={cust_params:B},X={ad_rule:D||0},H={};H.params=U()({},F,G,W,N,j,X,V),H.numRedirects=P,H.vastLoadTimeout=f.timeout,H.contentKeywords=x,on.isMobilePlayer(m)&&(Sn.isSupportedHls()||""!=g.canPlayType("application/vnd.apple.mpegurl")||""!=g.canPlayType("application/x-mpegURL"))?H.enableHls=l.enableHls:H.enableHls=!1,this.imaOptions=qn(qn({},H),{},{adsRenderingSettings:{}}),this.playerWrapperDiv=document.getElementById(o),this.autoPlayAdBreaks=this.imaOptions.autoPlayAdBreaks||!0,this.adTagUrl=e.buildAdTagUrl(this.imaOptions.params),this.controller=new sn({divId:o,adapter:this,playerType:m,adContainer:v,locale:y}),this.adContainerDiv=this.controller.getAdContainerDiv({type:"ima"}),this._registerEvents(),this.timingPerformanceDebuger=new Rn}return x()(e,[{key:"handle",value:function(){var e=o()(r.a.mark(function t(e){var n,i,a,o,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.adapterManager,i=this.eventTracking.loadErrors,a=this.encrypted,o=n.callLogs,this.adapters=e,this.getPlaybackInfo(),t.prev=4,t.next=7,zn.load();case 7:this.adContainerDiv.style.display="block",this.playback_method(this,this.playerInfo,this.playbackInfo.initialized),this.playbackInfo.initialized&&(this.setVideoPlaybackInfo(this.playbackInfo),this.onPlayerReady()),this.adapterManager.fireEvent({name:ni}),t.next=21;break;case 13:t.prev=13,t.t0=t["catch"](4),this.reset(),this.player.getThirdPartyAdController().removeAllEventListener(),s={st:Zn.STAT_CODE_ERROR,erc:Jn.LOAD_ERROR_AD_SELECTION,erm:"IMA_LIB_LOAD_FAILED"},o(i,a,s,"ssp loaded error(ima) url"),onAdLoadFailed();case 21:case"end":return t.stop()}},t,this,[[4,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getPlaybackInfo",value:function(){var e=this,t=y()(spwp.adUnits,function(t){return t.getUnitId()==e.unitId}).getAdapterManager();this.playbackInfo=t.playerInfo.playbackInfo}},{key:"setPlayerInfo",value:function(e){}},{key:"setVideoPlaybackInfo",value:function(e){var t=this,n=e.autoplayAllowed,i=e.autoplayRequiresMuted,r=e.bitrate;this.imaOptions.autoplayRequiresMuted=i,this.imaOptions.adsRenderingSettings.bitrate=r;var a=y()(spwp.adUnits,function(e){return e.getUnitId()==t.unitId}).getAdapterManager();a.playerInfo.playbackInfo={autoplayAllowed:n,autoplayRequiresMuted:i,bitrate:r},a.playerInfo.playbackInfo.initialized=!0}},{key:"initAdObjects",value:function(){this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.imaOptions.vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.imaOptions.vpaidMode),this.locale&&this.adsLoader.getSettings().setLocale(this.locale),this.imaOptions.numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.imaOptions.numRedirects),this.adsLoader.getSettings().setPlayerType(this.playerType),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)}},{key:"requestAds",value:function(){var e=new google.ima.AdsRequest;this.adTagUrl?e.adTagUrl=this.adTagUrl:e.adsResponse=this.imaOptions.adsResponse,this.imaOptions.forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),this.imaOptions.vastLoadTimeout>0&&(e.vastLoadTimeout=this.imaOptions.vastLoadTimeout),this.imaOptions.contentKeywords&&(e.contentKeywords=this.imaOptions.contentKeywords);var t=this.getPlayerSize();e.linearAdSlotWidth=t.width,e.linearAdSlotHeight=t.height,e.nonLinearAdSlotWidth=this.imaOptions.nonLinearWidth||t.width,e.nonLinearAdSlotHeight=this.imaOptions.nonLinearHeight||t.height,e.setAdWillPlayMuted(this.imaOptions.autoplayRequiresMuted),this.addTriggerCallback(),this.adsLoader.requestAds(e),this.timeoutManager.initTimer(this)}},{key:"addTriggerCallback",value:function(){var e=this,t=function n(){var t;t=e.adsManager.getCuePoints(),e._hasPostRoll=A()(t,-1),e.internalEvent.removeListener("metadataLoaded",n),e.internalEvent.removeListener("adLoaded",n),e.internalEvent.removeListener("contentPauseRequested",n)};this.internalEvent.on("metadataLoaded",t),this.internalEvent.on("adLoaded",t),this.internalEvent.on("contentPauseRequested",t)}},{key:"createAdsRenderingSettings",value:function(){this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!1,this.adsRenderingSettings.uiElements=[google.ima.UiElements.COUNTDOWN,google.ima.UiElements.AD_ATTRIBUTION],this.adsRenderingSettings.enablePreloading=!1,this.adsRenderingSettings.mimeTypes=["video/mp4"],this.imaOptions.enableHls&&this.adsRenderingSettings.mimeTypes.unshift("application/x-mpegURL");var e=this.imaOptions.adsRenderingSettings.bitrate;e&&0!==e&&(this.adsRenderingSettings.bitrate=e)}},{key:"onAdsManagerLoaded",value:function(e){var t,n=this;this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.videoEl,this.adsRenderingSettings),this.managerEvents=(t={},d()(t,google.ima.AdErrorEvent.Type.AD_ERROR,function(e){n.onAdError(e)}),d()(t,google.ima.AdEvent.Type.AD_BREAK_READY,function(e){n.onAdBreakReady(e)}),d()(t,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(e){n.onContentPauseRequested(e)}),d()(t,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(e){n.onContentResumeRequested(e)}),d()(t,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){n.onAllAdsCompleted(e)}),d()(t,google.ima.AdEvent.Type.AD_METADATA,function(e){n.onAdMetaData(e)}),d()(t,google.ima.AdEvent.Type.LOADED,function(e){n.onAdLoaded(e)}),d()(t,google.ima.AdEvent.Type.IMPRESSION,function(e){n.onAdImpression(e)}),d()(t,google.ima.AdEvent.Type.STARTED,function(e){n.onAdStarted(e)}),d()(t,google.ima.AdEvent.Type.AD_PROGRESS,function(e){n.onAdProgress(e)}),d()(t,google.ima.AdEvent.Type.CLICK,function(e){n.onAdClicked(e)}),d()(t,google.ima.AdEvent.Type.COMPLETE,function(e){n.onAdComplete(e)}),d()(t,google.ima.AdEvent.Type.SKIPPED,function(e){n.onAdSkipped(e)}),d()(t,google.ima.AdEvent.Type.LOG,function(e){n.onAdLog(e)}),d()(t,google.ima.AdEvent.Type.PAUSED,function(e){n.onAdPaused(e)}),d()(t,google.ima.AdEvent.Type.RESUMED,function(e){n.onAdResumed(e)}),t),v()(C()(this.managerEvents),function(e){n.adsManager.addEventListener(e,n.managerEvents[e])}),this.autoPlayAdBreaks||this.initAdsManager(),this.internalEvent.emit("adsReady")}},{key:"onAdsLoaderError",value:function(e){this.timingPerformanceDebuger.mark("mark_ad_load_end"),this.timingPerformanceDebuger.measure("measure_ad_load","mark_ad_load_begin","mark_ad_load_end");var t,n,i=this.adapterManager,r=this.eventTracking,a=i.callLogs,o=this.findeOut("measure_ad_load","failure"),s=r.loadErrors,d=e.getError(),u=d.getErrorCode(),l=(d.getVastErrorCode(),d.getMessage()),c=(d.getType(),{type:"error",data:[{code:u,message:l}]});this.internalEvent.emit("adLoadedError",c),u==google.ima.AdError.ErrorCode.VAST_EMPTY_RESPONSE?(t=Zn.STAT_CODE_NO_FILL,n=Jn.LOAD_ERROR_AD_SELECTION_NO_FILL):u==google.ima.AdError.ErrorCode.VAST_LOAD_TIMEOUT?(t=Zn.STAT_CODE_TIMEOUT,n=Jn.LOAD_ERROR_AD_SELECTION_NO_FILL):(t=Zn.STAT_CODE_ERROR,n=Jn.LOAD_ERROR_AD_SELECTION);var h={st:t,erc:n,ersc:u,erm:l};o&&o.duration&&(h.rt=o.duration),a(s,this.encrypted,h,"ssp loaded error(ima) url");try{this.reset(),this.player.getThirdPartyAdController().removeAllEventListener()}catch(f){}this.timeoutManager.clearDefaultTimeout(),this.onAdLoadFailed()}},{key:"initAdsManager",value:function(){try{var e=this.getPlayerSize(),t=e.width,n=e.height,i=e.isFullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=n,this.adsManager.init(t,n,i),this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(r){}}},{key:"onAdError",value:function(e){this.timingPerformanceDebuger.mark("mark_ad_start_end"),this.timingPerformanceDebuger.measure("measure_ad_start","mark_ad_start_begin","mark_ad_start_end");var t=this.findeOut("measure_ad_start","failure"),n=this.adapterManager,i=this.eventTracking,r=n.callLogs,a=i.startErrors,o=e.getError!==undefined?e.getError().getErrorCode():"",s=e.getError!==undefined?e.getError().getMessage():e.stack;e.getError!==undefined&&e.getError().getType();this.adsActive=!1,this.adPlaying=!1;var d,u,l={type:"error",data:[{code:o,message:s}]};this.internalEvent.emit("adError",l),this.eventNotifier.notifyAdError({code:o,message:s,type:Qn}),this.reset(),A()([google.ima.AdError.ErrorCode.VIDEO_PLAY_ERROR,google.ima.AdError.ErrorCode.AUTOPLAY_DISALLOWED],o)?(d=Yn.STAT_CODE_ERROR,u=Jn.START_ERROR_MEDIA_START_FAILED):o==google.ima.AdError.ErrorCode.VAST_MEDIA_LOAD_TIMEOUT?(d=Yn.STAT_CODE_TIMEOUT,u=Jn.START_ERROR_MEDIA_START_FAILED):(d=Yn.STAT_CODE_ERROR,u=Jn.START_ERROR_MEDIA_START);var c={st:d,erc:u,ersc:o,erm:s};t&&t.duration&&(c.rt=t.duration),r(a,this.encrypted,c,"ssp play error(ima) url")}},{key:"onAdBreakReady",value:function(e){}},{key:"onAdMetaData",value:function(){this.internalEvent.emit("metadataLoaded")}},{key:"onAdLoaded",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs;this.timingPerformanceDebuger.mark("mark_ad_start_begin"),this.timingPerformanceDebuger.mark("mark_ad_load_end"),this.timingPerformanceDebuger.measure("measure_ad_load","mark_ad_load_begin","mark_ad_load_end");var o=this.findeOut("measure_ad_load","success");this.controller.showAdContainer(),this.currentAd=e.getAd(),this.internalEvent.emit("adLoaded",this.getAdInfo()),e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.internalEvent.emit("nonLinearAdLoad"));var s=n.ackImpressions,d=i.ackImpressions,u={st:Zn.STAT_CODE_SUCCESS,ct:r};o&&o.duration&&(u.rt=o.duration),a(d,null,null,"dsp ack url"),a(s,this.encrypted,u,"ssp ack(ima) url"),this.eventNotifier.notifyAdLoaded(this.getGfpAd()),this.timeoutManager.fireEvent({name:ei})}},{key:"onAdImpression",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,o=n.renderedImpressions,s={ct:r};a(i.renderedImpressions,null,null,"dsp render imp url"),a(o,this.encrypted,s,"ssp render imp(ima) url"),this.eventNotifier.notifyAdImpression(this.getGfpAd()),this.viewableImpFlag=!1}},{key:"onAdStarted",value:function(e){this.currentAd=e.getAd();var t={};t.mediaUrl=this.currentAd.getMediaUrl(),t.vastMediaBitrate=this.currentAd.getVastMediaBitrate(),t.vastMediaWidth=this.currentAd.getVastMediaWidth(),t.vastMediaHeight=this.currentAd.getVastMediaHeight(),t.contentsBitrate=this.imaOptions.adsRenderingSettings.bitrate,this.timingPerformanceDebuger.mark("mark_ad_start_end"),this.timingPerformanceDebuger.measure("measure_ad_start","mark_ad_start_begin","mark_ad_start_end"),this.findeOut("measure_ad_start","success",t),this.currentAd.isLinear()?this.controller.onLinearAdStart():this.controller.onNonLinearAdStart(),this.internalEvent.emit("adStarted",this.getAdInfo()),this.eventNotifier.notifyAdStarted(this.getGfpAd())}},{key:"onAdProgress",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,o=n.viewableImpressions,s=i.viewableImpressions,d=e.getAdData().currentTime,u=d>=2;if(!this.viewableImpFlag&&u){this.viewableImpFlag=!0;var l={ct:r};a(s,null,null,"dsp viewable imp url"),a(o,this.encrypted,l,"ssp viewable imp(ima) url")}}},{key:"onContentPauseRequested",value:function(e){this.currentAd=e.getAd(),this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e),this.internalEvent.emit("contentPauseRequested",this.getAdInfo())}},{key:"onContentResumeRequested",value:function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd(),this.internalEvent.emit("contentResumeRequested",this.getAdInfo())}},{key:"onAllAdsCompleted",value:function(e){this.contentCompleteCalled&&this.internalEvent.emit("allAdsCompleted"),this.allAdsCompleted=!0,this.controller.onAllAdsCompleted(),this.reset()}},{key:"onAdPaused",value:function(e){this.eventNotifier.notifyAdPaused(this.getGfpAd())}},{key:"onAdResumed",value:function(e){this.eventNotifier.notifyAdResumed(this.getGfpAd())}},{key:"onAdComplete",value:function(e){this.eventNotifier.notifyAdComplete(this.getGfpAd())}},{key:"onAdSkipped",value:function(e){this.eventNotifier.notifyAdSkipped(this.getGfpAd())}},{key:"onAdClicked",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,o=n.clicks,s={ct:r};a(i.clicks,null,null,"ads click url"),a(o,this.encrypted,s,"ssp click(dfp) url"),this.eventNotifier.notifyAdClicked(this.getGfpAd())}},{key:"onAdLog",value:function(e){}},{key:"onContentComplete",value:function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.player.getThirdPartyAdController().removeAllEventListener()}},{key:"createAdDisplayContainer",value:function(){var e=this;this.locale&&google.ima.settings.setLocale(this.locale),google.ima.settings.setPlayerType(this.playerType),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adDisplayContainer=this.adPlaybackInfo.ima.adDisplayContainer?this.adPlaybackInfo.ima.adDisplayContainer:new google.ima.AdDisplayContainer(this.adContainerDiv,this.videoEl),v()(this.adapters,function(t){t!==e&&t.renderType!==e.renderType&&t.createAdDisplayContainer()}),this.adPlaybackInfo.ima.adDisplayContainer=this.adDisplayContainer}},{key:"initializeAdDisplayContainer",value:function(){var e=this;this.adDisplayContainer&&(this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize()),v()(this.adapters,function(t){t!==e&&t.renderType!==e.renderType&&t.initializeAdDisplayContainer()})}},{key:"onPlayerReady",value:function(){if(Xn({playerType:this.playerType}))this.timingPerformanceDebuger.mark("mark_ad_load_begin"),this.initAdObjects(),(this.adTagUrl||this.imaOptions.adsResponse)&&this.requestAds();else{this.internalEvent.emit("adError",{type:"error",data:[{message:"not support browser"}]})}}},{key:"onPlayerReadyForPreroll",value:function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.start()}catch(i){var e=i.getErrorCode!==undefined?i.getErrorCode():"",t=i.getMessage!==undefined?i.getMessage():"";this.adsActive=!1,this.adPlaying=!1;var n={type:"error",data:[{code:e,message:t}]};this.internalEvent.emit("adError",n),this.reset()}}}},{key:"onPlayerEnterFullscreen",value:function(){this.adsManager&&(this.adsManager.resize(window.screen.width-4,window.screen.height-4,google.ima.ViewMode.FULLSCREEN),this.playerWrapperDiv.style.cssText="position:absolute; top:0px; left:0px; width: ".concat(window.screen.width,"px; height: ").concat(window.screen.height,"px;"),this.adContainerDiv.style.cssText="position:absolute; top:0px; left:0px; width: ".concat(window.screen.width,"px; height: ").concat(window.screen.height,"px;"),this.fullscreen=!0)}},{key:"onPlayerExitFullscreen",value:function(){if(this.adsManager){var e=this.getPlayerSize();this.adsManager.resize(e.width,e.height,google.ima.ViewMode.NORMAL),this.playerWrapperDiv.style.cssText="position:relative; top:0px; left:0px;",this.adContainerDiv.style.cssText="position:absolute; top:0px; left:0px; width: ".concat(e.width,"px; height: ").concat(e.height,"px;"),this.fullscreen=!1}}},{key:"onPlayerVolumeChanged",value:function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e}},{key:"onPlayerResize",value:function(){if(this.adsManager){var e=this.getPlayerSize(),t=e.isFullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;this.adsManagerDimensions.width=e.width,this.adsManagerDimensions.height=e.height,this.adsManager.resize(e.width,e.height,t)}}},{key:"getCurrentAd",value:function(){return this.currentAd}},{key:"setAdBreakReadyListener",value:function(e){this.adBreakReadyListener=e}},{key:"isAdPlaying",value:function(){return this.adPlaying}},{key:"isAdMuted",value:function(){return this.adMuted}},{key:"pauseAds",value:function(){this.adsManager&&(this.adsManager.pause(),this.adPlaying=!1)}},{key:"resumeAds",value:function(){this.adsManager&&(this.adsManager.resume(),this.adPlaying=!0)}},{key:"unmute",value:function(){this.adsManager&&(this.adsManager.setVolume(1),this.adMuted=!1)}},{key:"mute",value:function(){this.adsManager&&(this.adsManager.setVolume(0),this.adMuted=!0)}},{key:"setVolume",value:function(e){this.adsManager&&(this.adsManager.setVolume(e),this.adMuted=0==e)}},{key:"playAdBreak",value:function(){!this.autoPlayAdBreaks&&this.adsManager&&(this.controller.showAdContainer(),this.adsManager.start())}},{key:"addEventListener",value:function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)}},{key:"getAdsManager",value:function(){return this.adsManager}},{key:"reset",value:function(){var e=this;this.adContainerDiv.style.display="none",this.adsActive=!1,this.adPlaying=!1,this.adsManager&&(v()(C()(this.managerEvents),function(t){e.adsManager.removeEventListener(t,e.managerEvents[t])}),this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&(this.adsLoader.contentComplete(),this.adsLoader.destroy(),this.adsLoader=null),this._unregisterEvents()}},{key:"_registerEvents",value:function(){var e=this,t=rn()(this.onPlayerResize.bind(this),500);this.internalEvent=new q.a,this._coreEvents={resizeLayout:function(){return t()}},v()(C()(this._coreEvents),function(t){e.player.on(t,e._coreEvents[t])})}},{key:"_unregisterEvents",value:function(){var e=this;this._coreEvents&&(v()(C()(this._coreEvents),function(t){e.player.off(t,e._coreEvents[t])}),this._coreEvents=null),v()(C()(this.internalEvent._events),function(t){e.internalEvent.removeAllListeners(t)}),this.controller&&(this.controller.reset(),this.controller=null)}},{key:"getPlayerSize",value:function(){var e=this.player.getPlayerSize();return{isFullscreen:this.player.isFullScreen(),width:e.width,height:e.height}}},{key:"onFullscreenChange",value:function(){this.fullscreen?(this.onPlayerExitFullscreen(),this.fullscreen=!1):(this.onPlayerEnterFullscreen(),this.fullscreen=!0)}},{key:"getAdInfo",value:function(){var e={type:"",data:[]},t=this.adProviderName,n=this.currentAd?this.currentAd.getAdPodInfo().getTimeOffset():"unknown",i=this.currentAd?this.currentAd.getSkipTimeOffset():"unknown";return 0==n?e.type="pre":-1==n?e.type="post":"unknown"==n?e.type="unknown":(e.type="mid",e.phase="mid"),e.data.push({adSystem:t,skipTimeOffset:i}),e}},{key:"getGfpAd",value:function(){var e=this.adProviderName,t=this.currentAd,n=t?t.getAdPodInfo().getTimeOffset():"unknown",i=t?t.getSkipTimeOffset():"unknown",r=t?t.getVastMediaWidth():"",a=t?t.getVastMediaHeight():"",o=t?t.getDuration():"";return new vn({adProvider:e,placementType:0==n?"pre":-1==n?"post":"unknown"==n?"unknown":"mid",duration:o,skipTimeOffset:i,vastMediaWidth:r,vastMediaHeight:a})}},{key:"on",value:function(e,t){this.internalEvent.on(e,t)}},{key:"hasPostRoll",value:function(){return this._hasPostRoll}},{key:"findeOut",value:function(e,t,n){if(this.timingPerformanceDebuger.supports()){var i={};if(this.timingPerformanceDebuger.supports()){if(!this.timingPerformanceDebuger.isExistMeasure(e))return;var r=this.timingPerformanceDebuger.getMeasureResult(e);i.name=r.name,i.adProvider="".concat(this.adProviderName),i.result=t,i.duration=Math.floor(r.duration),n&&(i.creativeInfo=n),this.timingPerformanceDebuger.clearMeasures(e),"measure_ad_start"==e?(this.timingPerformanceDebuger.clearMark("mark_ad_start_begin"),this.timingPerformanceDebuger.clearMark("mark_ad_start_end")):"measure_ad_load"==e&&(this.timingPerformanceDebuger.clearMark("mark_ad_load_begin"),this.timingPerformanceDebuger.clearMark("mark_ad_load_end"))}else i.name=e,i.adProvider="".concat(this.adProviderName),i.result=t;return k.a.getConfig().debug&&this.internalEvent.emit("debug",i),i}}},{key:"onAdLoadFailed",value:function(){this.adapterManager.fireEvent({name:ii})}}],[{key:"buildAdTagUrl",value:function(e){var t=[];return v()(C()(e),function(n){var i=e[n];if("cust_params"===n){var r=[];v()(C()(i),function(e){r.push("".concat(e,"=").concat(i[e]))}),i=encodeURIComponent(r.join("&"))}t.push("".concat(n,"=").concat(i))}),"".concat("https://pubads.g.doubleclick.net/gampad/ads","?").concat(t.join("&"))}}]),e}(),ai=n(75),oi=n.n(ai),si=function(){function e(t){M()(this,e);var n=new Array;n.loadstart=0,n.progress=0,n.suspend=0,n.abort=0,n.error=0,n.emptied=0,n.stalled=0,n.loadedmetadata=0,n.loadeddata=0,n.canplay=0,n.canplaythrough=0,n.playing=0,n.waiting=0,n.seeking=0,n.seeked=0,n.ended=0,n.durationchange=0,n.timeupdate=0,n.play=0,n.pause=0,n.ratechange=0,n.resize=0,n.volumechange=0,this.media_events=n,this.loadstarted=!1,this.runRatePercent=0,this.runRate=0,this.loadRatePercent=0;var i=t.video,r=t.progress,a=void 0===r?[]:r,o=t.quartiles,s=void 0===o?[]:o;this.video=i,this.progressOffset=a,this.quartilesOffset=s,this.callbacks=new Array,this.util=new Dt.a,this.ended=!1,this.addEvent()}return x()(e,[{key:"addListener",value:function(){return this.callbacks[arguments[0]]={callback:arguments[1]},this}},{key:"removeListener",value:function(){this.callbacks[arguments[0]]=null}},{key:"setAutoPlay",value:function(e){this.video.autoplay=e}},{key:"setControls",value:function(e){this.video.controls=e}},{key:"setPoster",value:function(e){this.video.poster=e}},{key:"setPreload",value:function(e){video.preload=e}},{key:"addSource",value:function(e,t){var n=document.createElement("source");n.setAttribute("src",e),n.setAttribute("type",t),this.video.appendChild(n)}},{key:"getCurrentTime",value:function(){return this.video.currentTime}},{key:"setCurrentTime",value:function(e){this.video.currentTime=e}},{key:"getDuration",value:function(){return isNaN(this.video.duration)?0:this.video.duration}},{key:"getVolume",value:function(){return this.video.volume}},{key:"setVolume",value:function(e){this.video.volume=e}},{key:"play",value:function(){this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"mute",value:function(){this.video.muted=!0}},{key:"unmute",value:function(){this.video.muted=!1}},{key:"isPaused",value:function(){return this.video.paused}},{key:"addEvent",value:function(){for(var e in this.media_events)window.addEventListener&&(this.bindEventHandler=this.videoEventHandler.bind(this),this.video.addEventListener(e,this.bindEventHandler))}},{key:"removeEvent",value:function(){for(var e in this.media_events)window.removeEventListener&&(this.video.removeEventListener(e,this.bindEventHandler),this.removeListener(e))}},{key:"videoEventHandler",value:function(e){var t=this.video;switch(e.type){case"loadstart":this.loadstarted=!0;break;case"durationchange":case"loadedmetadataHandler":case"timeupdate":if(isNaN(t.duration))return;this.runRatePercent=(t.currentTime/t.duration*100).toFixed(2),this.runRate=(t.currentTime/t.duration).toFixed(4),this.checkTracking(this.progressOffset,e.target.currentTime),this.checkTracking(this.quartilesOffset,e.target.currentTime);break;case"progress":for(var n=0,i=t.buffered.length-1;i>=0;i--)if(t.buffered.start(i)<=t.currentTime){n=t.buffered.end(i);break}this.loadRatePercent=(n/t.duration*100).toFixed(2);break;case"ended":this.ended=!0}this.callbacks[e.type]&&this.callbacks[e.type].callback({event:e,current:e.target.currentTime,currentTime:Math.floor(e.target.currentTime),duration:Math.floor(e.target.duration),runRatePercent:this.runRatePercent,loadRatePercent:this.loadRatePercent,runRate:this.runRate})}},{key:"checkTracking",value:function(e,t){var n=this;oi()(e,function(e){var i=e.mark<=5?.2:1,r=t+i<=e.mark&&t+i+.3>e.mark;return r&&n.util.log(e.url),r})}}]),e}(),di={Type:{ADS_MANAGER_LOADED:"adsManagerLoaded"}},ui={Type:{AD_ERROR:"adError"}},li={Type:{AD_METADATA:"adMetadata",AD_BUFFERING:"AdBuffering",AD_PROGRESS:"adProgress",ALL_ADS_COMPLETED:"allAdsCompleted",CLICK:"click",COMPLETE:"COMPLETE",CONTENT_PAUSE_REQUESTED:"contentPauseRequested",CONTENT_RESUME_REQUESTED:"contentResumeRequested",FIRST_QUARTILE:"firstquartile",IMPRESSION:"impression",LOADED:"loaded",MIDPOINT:"midpoint",PAUSED:"pause",RESUMED:"resume",SKIPPED:"skip",STARTED:"start",THIRD_QUARTILE:"thirdquartile",VIEWABLE_IMPRESSION:"viewable_impression"}},ci="normal",hi="fullscreen",fi=n(76),Ai=n.n(fi),pi=Y.ERROR_DETAIL_CODE,vi={STOPPED:"STOPPED",PAUSED:"PAUSED",PLAYING:"PLAYING"},gi=function(){function e(t){var n=this;M()(this,e),d()(this,"onPlayerInitialize",function(){n.adsManager.onPlayerInitialize()});var i=t.adContainerEl,r=t.adUiManager;this.adContainerEl=i,this.adUiManager=r,this.adVideoWrapEl=this.adContainerEl.querySelector("[data-role='adVideoWrapEl']"),this.adControlEl=this.adVideoWrapEl.querySelector("[data-role='adControlEl']"),this.linkMore=this.adContainerEl.querySelector("[data-role='linkMore']"),this.initialized=!1,this.loaded=!1,this.isTryInit=!1,this.playbackState=vi.STOPPED,this.autoplayAllowed,this.autoplayRequiresMuted,this.fullscreen=!1,this.util=new Dt.a,this.internalEvent=new q.a,this.events={},this.createVideo()}return x()(e,[{key:"createVideo",value:function(){var e=this.adVideoWrapEl.querySelector("[data-role='videoEl']");null!==e?this.adVideoEl=e:(this.adVideoEl=document.createElement("video"),this.adVideoEl.setAttribute("data-role","videoEl"),this.adVideoWrapEl.insertBefore(this.adVideoEl,this.adControlEl))}},{key:"initialize",value:function(){var e=this;return this.isTryInit?this.promise:(this.promise=new Promise(function(){var t=o()(r.a.mark(function n(t,i){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.initialized&&i(),n.prev=1,n.next=4,e.isTryInit=!0,new Promise(function(t,n){e.adVideoWrapEl.style.display="none",e.adVideoEl.src=Ai.a,e.adVideoEl.setAttribute("playsinline",!0),e.adVideoEl.setAttribute("webkit-playsinline",!0);var i=e.adVideoEl,r=i.play(),a=function(){i.volume=0,i.muted=!0;var e=i.play();e!==undefined&&e.then(o)["catch"](s)},o=function(){i.pause(),e.autoplayAllowed=!0,e.autoplayRequiresMuted=!0,d()},s=function(){i.volume=1,i.muted=!1,e.autoplayAllowed=!1,e.autoplayRequiresMuted=!1,d()},d=function(){e.initialized=!0;try{e.initialized&&(e.adsManager!==undefined?e.adsManager.onPlayerInitialize():e.addEventListener("init",e.onPlayerInitialize),t())}catch(n){}};r!==undefined?r.then(function(){i.pause(),e.autoplayAllowed=!0,e.autoplayRequiresMuted=!1,d()})["catch"](function(){a()}):(e.adsManager!==undefined?e.adsManager.onPlayerInitialize():e.addEventListener("init",e.onPlayerInitialize),n(new Error("playPromise is undefined")))});case 4:t(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),i(n.t0);case 10:case"end":return n.stop()}},n,null,[[1,7]])}));return function(e,n){return t.apply(this,arguments)}}()),this.promise)}},{key:"init",value:function(e){var t=e.adsManager,n=e.settings,i=e.initWidth,r=e.initHeight,a=e.viewMode;this.adsManager=t,this.settings=n,this.playerType=this.settings.getPlayerType(),this.playerWidth=i,this.playerHeight=r,this.viewMode=a,this._setViewMode(a),this.internalEvent.emit("init",this),this.adVideoWrapEl.style.cssText="position: absolute; width:".concat(i,"px; height:").concat(r,"px;")}},{key:"setAdWillPlayMuted",value:function(e){this.adWillPlayMuted=e}},{key:"initAdVolume",value:function(){this.adWillPlayMuted?this.setVolume(0):this.setVolume(1)}},{key:"loadAd",value:function(e){if(h()(e.mediaUrl))throw new Error("can not find a media file to play");this.adVideoWrapEl.style.display="block",this.currentAd=e,this.adVideoEl.src=this.currentAd.mediaUrl,this.adVideoEl.style.cssText="background-color: rgb(0, 0, 0); position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;",this._addEvent(),this.loaded=!0,this.removeClass(this.adVideoWrapEl,"hide")}},{key:"play",value:function(){var e=o()(r.a.mark(function t(){var e,n=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,this.initialized){t.next=5;break}return t.next=5,this.initialize();case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),new Error("failed to play a media file");case 11:t.prev=11,t.prev=12,this.initAdVolume(),(e=this.adVideoEl.play())!==undefined?e.then(function(){n.adUiManager.addEvent()})["catch"](function(e){n.adsManager.onAdError({code:pi.START_ERROR_MEDIA_START_FAILED,msg:"failed to play a media file"})}):this.adUiManager.addEvent(),this.playbackState=vi.PLAYING,t.next=23;break;case 19:throw t.prev=19,t.t1=t["catch"](12),new Error("failed to play a media file");case 23:return t.finish(11);case 24:case"end":return t.stop()}},t,this,[[1,7,11,24],[12,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){this.adVideoEl.pause(),this.playbackState=vi.PAUSED}},{key:"resize",value:function(e,t,n){this.playerWidth=e,this.playerHeight=t,this.viewMode=n,this.adVideoWrapEl.style.cssText="position: absolute; width:".concat(e,"px; height:").concat(t,"px"),n&&this._setViewMode(n)}},{key:"addEventListener",value:function(e,t){this.events[e]=t,this.internalEvent.on(e,t)}},{key:"_setViewMode",value:function(e){}},{key:"isFullscreen",value:function(){return this.fullscreen}},{key:"getDuration",value:function(){return this.adVideoEl.duration}},{key:"setVolume",value:function(e){this.adVideoEl.muted=0==e,this.adVideoEl.volume=e}},{key:"getVolume",value:function(){return this.adVideoEl.volume}},{key:"_addEvent",value:function(){var e=this,t=this.adUiManager.playPauseBtnController;try{this.videoCore=new si({video:this.adVideoEl,progress:this.currentAd.loggingEvent.progress,quartiles:this.currentAd.loggingEvent.quartiles}),this.videoCore.addListener("loadstart",function(t){e.adsManager.onAdBreakLoaded(),e.adsManager.onContentPauseRequested()}),this.videoCore.addListener("loadedmetadata",function(e){}),this.videoCore.addListener("loadeddata",function(t){"4"==e.adVideoEl.readyState&&e.adsManager.updateBufferedData(100)}),this.videoCore.addListener("durationchange",function(e){}),this.videoCore.addListener("playing",function(t){e.adsManager.onAdBreakImpression(),e.adsManager.onAdBreakStarted(),e.videoCore.removeListener("playing")}),this.videoCore.addListener("timeupdate",function(t){e.videoCore.loadstarted&&(e.currentAd.remainingTime=e.currentAd.getDuration()-t.currentTime,e.adsManager.updateProgressData(t.currentTime))}),this.videoCore.addListener("progress",function(t){e.adsManager.updateBufferedData(t.loadRatePercent)}),this.videoCore.addListener("ended",function(t){e.clear(),e.adsManager.onAdBreakEnd()}),this.videoCore.addListener("pause",function(n){n.duration!==n.currentTime&&(e.adsManager.onAdBreakPaused(),t&&t.togglePlayPause(!1))}),this.videoCore.addListener("play",function(n){e.adsManager.onAdBreakResumed(),t&&t.togglePlayPause(!0)}),this.linkMore.addEventListener("click",function(){e.adsManager.onAdBreakClick(),v()(e.currentAd.clicktrackings,function(t){e.util.log(t)}),window.open(e.currentAd.clickThroughUrl)},!1)}catch(n){}}},{key:"clear",value:function(){this.playbackState=vi.STOPPED,this.adVideoWrapEl.style.display="none",this.adVideoEl.src=""}},{key:"reset",value:function(){var e=this;this.videoCore&&this.videoCore.removeEvent(),v()(C()(this.events),function(t){e.internalEvent.removeListener(t,e.events[t])})}},{key:"getClassRegexp",value:function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")}},{key:"addClass",value:function(e,t){e.className=e.className.trim()+" "+t}},{key:"removeClass",value:function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")}}]),e}(),yi=n(37),mi=n.n(yi),Ei=n(77),ki=n.n(Ei),Ii=n(25),_i=n.n(Ii);function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=fn()(e);if(t){var r=fn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return cn()(this,n)}}var Li=["application/x-mpegURL","application/vnd.apple.mpegurl"],Si=function(e){un()(n,e);var t=wi(n);function n(e){var i,r;M()(this,n),r=t.call(this,e),_i()((i=mi()(r),fn()(n.prototype)),"createVideo",i).call(i);var a=e.videoAdOptions;return r.videoAdOptions=a,r.hlsProvider=new Sn(mi()(r)),r}return x()(n,[{key:"loadAd",value:function(e){if(this.hlsSupport=A()(Li,e.mediaType),this.hlsSupport){if(h()(e.mediaUrl))throw new Error("can not find a media file to play");this.adVideoWrapEl.style.display="block",this.currentAd=e,this.adVideoEl.style.cssText="background-color: rgb(0, 0, 0); position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;";try{this.hlsProvider.loadMediaFile(e.mediaUrl),_i()(fn()(n.prototype),"_addEvent",this).call(this),ki()(fn()(n.prototype),"loaded",!0,this,!0),_i()(fn()(n.prototype),"removeClass",this).call(this,this.adVideoWrapEl,"hide")}catch(t){throw new Error(t)}}else _i()(fn()(n.prototype),"loadAd",this).call(this,e)}},{key:"onAdError",value:function(e){this.adsManager.onAdError(e)}},{key:"reset",value:function(){var e=this;this.hlsSupport?(this.videoCore&&this.videoCore.removeEvent(),this.hlsProvider&&(this.hlsProvider.destroy(),this.hlsProvider=null),v()(C()(this.events),function(t){e.internalEvent.removeListener(t,e.events[t])})):_i()(fn()(n.prototype),"reset",this).call(this)}}]),n}(gi),Ti=function(){function e(t,n,i,r){M()(this,e),this.adContainerEl=t,this.serviceVideoEl=n,this.adUiManager=r,i.enableHls?this.adPlayer=new Si({adContainerEl:t,adUiManager:r,videoAdOptions:i}):this.adPlayer=new gi({adContainerEl:t,adUiManager:r})}return x()(e,[{key:"initialize",value:function(){this.adPlayer.initialize()}},{key:"setAdWillPlayMuted",value:function(e){this.adPlayer.setAdWillPlayMuted(e)}},{key:"destroy",value:function(){this.adPlayer=null}}]),e}(),Oi=function(){function e(t){M()(this,e);var n=t.code,i=t.message;this.code=n,this.message=i}return x()(e,[{key:"getErrorCode",value:function(){return this.code}},{key:"getMessage",value:function(){return this.message}}]),e}(),bi=function(){function e(t){M()(this,e),this.errorInfo=t}return x()(e,[{key:"getError",value:function(){return this.errorInfo}}]),e}(),Ri=function(){function e(t){M()(this,e);var n=t.type,i=t.adProgressData,r=t.adBreak;this.type=n,this.adProgressData=i,this.adBreak=r}return x()(e,[{key:"getAd",value:function(){return this.adBreak}},{key:"getAdData",value:function(){return this.adProgressData}}]),e}(),Ci=n(78),Pi=n.n(Ci),Di=n(79),Mi=n.n(Di),Ni=n(17),xi=n.n(Ni),Bi=function(){function e(t){M()(this,e);var n=t.code,i=t.type;this.code=n,this.type=i,this.loadingInfo,this.loggingEvent,this.clicktrackings,this.adId,this.adSystem,this.nonLinears=[],this.companisons=[],this.contentType="",this.extension,this.clickThroughUrl,this.description,this.duration,this.mediaUrl,this.vastMediaBitrate,this.vastMediaWidth,this.vastMediaHeight,this.linear=!1,this.remainingTime=-1,this.adPodInfo={},this.adProgressData={},this.title,this.skip}return x()(e,[{key:"isLinear",value:function(){return this.linear}},{key:"isSkippable",value:function(){return this.skip.skippable}},{key:"getSkipTimeOffset",value:function(){return this.skip.skipOffset}},{key:"getContentType",value:function(){return this.contentType}},{key:"getDuration",value:function(){return this.duration}},{key:"getAdPodInfo",value:function(){return this.adPodInfo}},{key:"getMediaUrl",value:function(){return this.mediaUrl}},{key:"getVastMediaBitrate",value:function(){return this.vastMediaBitrate}},{key:"getVastMediaWidth",value:function(){return this.vastMediaWidth}},{key:"getVastMediaHeight",value:function(){return this.vastMediaHeight}}]),e}(),Ui=function(){function e(t){M()(this,e);var n=t.adPosition,i=t.totalAds,r=t.timeOffset;this.adPosition=n,this.totalAds=i,this.timeOffset=r}return x()(e,[{key:"getAdPosition",value:function(){return this.adPosition}},{key:"getTotalAds",value:function(){return this.totalAds}},{key:"getTimeOffset",value:function(){return this.timeOffset}}]),e}(),Vi=["application/x-mpegURL","application/vnd.apple.mpegurl"];function Fi(e,t){if(e){if(-1==e.indexOf("%")){var n=e.split(".")[0],i=e.split(".")[1]?parseFloat("0.".concat(e.split(".")[1])):0,r=n.split(":");return 3600*parseInt(r[0],10)+60*parseInt(r[1],10)+parseInt(r[2],10)+i}var a=e.split("%")[0];return parseFloat((t*a/100).toFixed(2))}return 0}function Gi(e){var t=[];return v()(e.getElementsByTagName("Impression"),function(e){t.push(e.firstChild.nodeValue)}),t}var Wi=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;M()(this,e),d()(this,"filterMediaFiles",function(e,t){return E()(e,function(e){var n=e.getAttribute("type");return!n||(t?A()(Vi,n):"video/mp4"===n)})}),this.core=t}return x()(e,[{key:"parseWrapper",value:function(e,t,n){var i=e.getElementsByTagName("Ad");if(!i||0===i.length)return null;v()(i,function(t){t.getElementsByTagName("Wrapper")[0],t.getElementsByTagName("VASTAdTagURI")[0].firstChild.nodeValue;n.impressions=n.impressions.concat(Gi(e));var i=t.getElementsByTagName("Creative");v()(i,function(e){var t=e.getElementsByTagName("Linear")[0];if(t){var i=t.getElementsByTagName("Tracking");v()(i,function(e){n.trackingEvents.push({name:e.getAttribute("event"),offset:e.getAttribute("offset"),url:e.firstChild.nodeValue})})}});var r=t.getElementsByTagName("Error")[0];r&&n.errors.push(r.firstChild.nodeValue);var a=t.getElementsByTagName("ClickTracking");v()(a,function(e){n.clickTrackings.push(e.firstChild.nodeValue)})})}},{key:"parseVAST",value:function(e,t,n,i){var r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,a=this.filterMediaFiles,o={impressions:[],errors:[],clickTrackings:[],trackingEvents:[]};if(!e)return null;if(e.getElementsByTagName("VASTAdTagURI")[0])return this.parseWrapper(e,t,o),null;var s=[],d=e.getElementsByTagName("Ad");if(!d||0===d.length)return null;var u=!on.isMobilePlayer();return v()(d,function(e,n){var l=new Bi({code:"not_loaded",type:"VIDEO_AD"});l.adId=e.getAttribute("id"),l.adSystem=xi()(e.getElementsByTagName("AdSystem"),"[0].firstChild.nodeValue"),l.description=xi()(e.getElementsByTagName("Description"),"[0].firstChild.nodeValue"),l.title=xi()(e.getElementsByTagName("AdTitle"),"[0].firstChild.nodeValue");var c=n+1,f=d.length;l.adPodInfo=new Ui({adPosition:c,totalAds:f,timeOffset:r});var p=Gi(e),g=e.getElementsByTagName("Creative");v()(g,function(e){var n=e.getElementsByTagName("Linear")[0],r=e.getElementsByTagName("NonLinearAds"),d=e.getElementsByTagName("CreativeExtensions")[0],c=e.getElementsByTagName("CompanionAds");if(r&&v()(r,function(e){var t=e.getElementsByTagName("NonLinear");!t||t.length<1||v()(t,function(t){var n=t.getElementsByTagName("StaticResource"),i=t.getAttribute("apiFramework")||"",r=xi()(t.getElementsByTagName("NonLinearClickTracking"),"[0].firstChild.nodeValue"),a=xi()(t.getElementsByTagName("NonLinearClickThrough"),"[0].firstChild.nodeValue"),o={id:t.getAttribute("id"),type:""===i?"nonLinearOverlay":"nonLinear",link:a,trackingEvents:{},resources:[],clickTracking:r,apiFramework:i},s=e.getElementsByTagName("Tracking");v()(s,function(e){var t=e.getAttribute("event"),n=e.firstChild.nodeValue;o.trackingEvents[t]=n}),v()(t.getElementsByTagName("StaticResource"),function(e){o.resources.push({data:e.firstChild.nodeValue,type:e.getAttribute("creativeType")||"plain/text"})}),l.nonLinears.push(o),""==l.contentType&&(l.contentType=n[0].getAttribute("creativeType"))})}),c&&v()(c,function(e){var t=e.getElementsByTagName("StaticResource"),n=e.getElementsByTagName("Tracking"),i=xi()(e.getElementsByTagName("CompanionClickThrough"),"[0].firstChild.nodeValue"),r={id:e.getAttribute("id"),companionClickThrough:i,clicktrackings:{},resources:[],trackingEvents:{}};v()(n,function(e){var t=e.getAttribute("event"),n=e.firstChild.nodeValue;r.trackingEvents[t]=n}),v()(t,function(e){r.type=e.getAttribute("creativeType")||"plain/text",r.resources.push({data:e.firstChild.nodeValue,type:e.getAttribute("creativeType")||"plain/text"})}),l.companisons.push(r)}),d){var f=xi()(d.getElementsByTagName("CreativeExtension"),"[0].firstChild.wholeText");l.extension=JSON.parse(f)}if(n){l.linear=!0;var g=n.getElementsByTagName("MediaFile"),y=[];g=Pi()(g,[function(e){return parseInt(e.getAttribute("height"),10)}]);var m=Mi()(Vi,function(e){return A()(i.mimeTypes,e)}),E=a(g,m);if(m&&0===E.length&&(E=a(g,!1)),0!==E.length){E.length>0&&(g=E),v()(g,function(e){var t=e.getAttribute("bitrate");y.push(t)});var k=Dt.a.getNearestNumIdx(y,t);if(g[k]){var I=g[k].getAttribute("type");I&&I.indexOf("video/mp4;dimension=360")>-1?(u&&(k=Dt.a.getVrAdNumIdx(y,t)),l.dimension="360"):l.dimension="normal",l.mediaUrl=g[k].firstChild.nodeValue,l.contentType=I,l.mediaType=I,l.vastMediaBitrate=parseInt(g[k].getAttribute("bitrate"))||0,l.vastMediaWidth=parseInt(g[k].getAttribute("width"))||0,l.vastMediaHeight=parseInt(g[k].getAttribute("height"))||0}l.mediaUrl||(l.mediaUrl=null,l.dimension="normal")}l.skip={skipOffset:Fi(n.getAttribute("skipoffset"))||-1,skippable:!h()(n.getAttribute("skipoffset"))};var _=parseInt(Fi(xi()(n.getElementsByTagName("Duration"),"[0].firstChild.nodeValue"))),w=n.getElementsByTagName("Tracking");l.duration=_,l.loggingEvent={markExpression:"second",start:[],complete:[],progress:[],quartiles:[],events:[]};var L=function(e,t,n){if(e&&t)if("skip"!=e){var i={name:e,url:t};i.mark="progress"==e?Fi(n,_):function(e,t){return"start"==e?0:"firstquartile"==e?Math.round(t/4):"midpoint"==e?Math.round(t/2):"thirdquartile"==e?Math.round(t/4*3):"complete"==e?t-1:void 0}(e.toLowerCase(),_),"progress"==e?l.loggingEvent.progress.push(i):"start"==e?l.loggingEvent.start.push(i):"complete"==e?l.loggingEvent.complete.push(i):A()(["firstQuartile","midpoint","thirdQuartile"],e)?l.loggingEvent.quartiles.push(i):l.loggingEvent.events.push(i)}else l.skip.tracking=t};v()(w,function(e){var t=e.getAttribute("event"),n=e.getAttribute("offset"),i=e.firstChild.nodeValue;L(t,i,n)}),v()(o.trackingEvents,function(e){L(e.name,e.url,e.offset)}),n.getElementsByTagName("ClickThrough").length>0&&(l.clickThroughUrl=n.getElementsByTagName("ClickThrough")[0].firstChild.nodeValue),l.clicktrackings=[];var S=n.getElementsByTagName("ClickTracking");v()(S,function(e){l.clicktrackings.push(e.firstChild.nodeValue)}),l.clicktrackings=l.clicktrackings.concat(o.clickTrackings),p=(p=p.concat(o.impressions)).map(function(e){return{url:e}}),l.loadingInfo={impressions:p,callbackTime:0,isSended:!1},l.code="loaded",s.push(l)}})}),s}}]),e}(),ji=Y.ERROR_DETAIL_CODE,Xi={IDLE:"IDLE",INITIALIZED:"INITIALIZED",LOADED:"LOADED",BUFFERING:"BUFFERING",PLAYING:"PLAYING",PAUSED:"PAUSED",STOPPED:"STOPPED",FINISHED:"FINISHED",ERROR:"ERROR"},Hi=function(){function e(t){M()(this,e);var n=t.adDisplayContainer,i=t.adsRequest,r=t.adsResponse,a=t.settings,o=t.contentPlayback,s=t.adsRenderingSettings,d=n.adPlayer;this.adDisplayContainer=n,this.adsRequest=i,this.adsResponse=r,this.settings=a,this.adPlayer=d,this.contentPlayback=o,this.adsRenderingSettings=s,this.parser=new Wi,this.util=new Dt.a,this.internalEvent=new q.a,this.events={},this.cuePoints=[],this.videoAdState=Xi.IDLE,this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0,paused:!1}}return x()(e,[{key:"init",value:function(e,t,n){try{var i=this.settings,r=this.adsRenderingSettings.bitrate;if("vast"===this.adsResponse.output){var a=Dt.a.convertStringToXml(this.adsResponse.adm),o=this.parser.parseVAST(a,r,this.settings,this.adsRenderingSettings);this.adList=o,this.adPlayer.init({adsManager:this,settings:i,initWidth:e,initHeight:t,viewMode:n,adList:o})}this.videoAdStatus=Xi.INITIALIZED}catch(s){this.onAdError({code:ji.START_ERROR_MEDIA_START,msg:s.message}),this.videoAdState=Xi.ERROR}}},{key:"loadAd",value:function(){try{this.currentAd=this.adList.shift(),this.adPlayer.loadAd(this.currentAd)}catch(e){this.onAdError({code:ji.START_ERROR_MEDIA_START,msg:e.message}),this.videoAdState=Xi.ERROR}}},{key:"addEventListener",value:function(e,t){this.events[e]=t,this.internalEvent.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.internalEvent.removeListener(e,t)}},{key:"setPlaybackEvent",value:function(){var e=this;this.videoCore=new si({video:this.contentPlayback}),this.videoCore.addListener("durationchange",function(t){e.contentPlayheadTracker.duration=t.duration}),this.videoCore.addListener("timeupdate",function(t){e.contentPlayheadTracker.currentTime=t.current,e.videoAdState,Xi.FINISHED})}},{key:"getCuePoints",value:function(){return this.cuePoints}},{key:"start",value:function(){try{this.adPlayer.play(),this.videoAdState=Xi.PLAYING}catch(e){this.onAdError({code:ji.START_ERROR_MEDIA_START_FAILED,msg:e.message})}}},{key:"resize",value:function(e,t,n){this.adPlayer.resize(e,t,n)}},{key:"setVolume",value:function(e){this.adPlayer.setVolume(e)}},{key:"getVolume",value:function(){return this.adPlayer.getVolume()}},{key:"getCurrentAd",value:function(){return this.currentAd}},{key:"getRemainingTime",value:function(){return this.currentAd.remainingTime}},{key:"pause",value:function(){this.adPlayer.pause(),this.videoAdState=Xi.PAUSED}},{key:"resume",value:function(){this.adPlayer.play(),this.videoAdState=Xi.PLAYING}},{key:"destroy",value:function(){var e=this;v()(C()(this.events),function(t){e.internalEvent.removeListener(t,e.events[t])});try{this.videoCore&&this.videoCore.removeEvent(),this.adPlayer.reset()}catch(t){}this.internalEvent=null}},{key:"updateBufferedData",value:function(e){var t={};t.buffered=e,this._eventEmit(li.Type.AD_BUFFERING,t),this.videoAdState=Xi.BUFFERING}},{key:"updateProgressData",value:function(e){var t={};t.adPosition=this.currentAd.getAdPodInfo().adPosition,t.totalAds=this.currentAd.getAdPodInfo().totalAds,t.companisons=this.currentAd.companisons,t.duration=this.currentAd.getDuration(),t.currentTime=e,this._eventEmit(li.Type.AD_PROGRESS,t)}},{key:"onPlayerInitialize",value:function(){this.loadAd(),this.setPlaybackEvent()}},{key:"onAdBreakLoaded",value:function(){this.videoAdState=Xi.LOADED,this._eventEmit(li.Type.LOADED)}},{key:"onAdBreakImpression",value:function(){this._callLog(this.currentAd.loadingInfo.impressions,"impression url"),this.currentAd.loadingInfo.isSended=!0,this._eventEmit(li.Type.IMPRESSION)}},{key:"onAdBreakStarted",value:function(){this._callLog(this.currentAd.loggingEvent.start,"start url"),this._eventEmit(li.Type.STARTED)}},{key:"onContentPauseRequested",value:function(){this._eventEmit(li.Type.CONTENT_PAUSE_REQUESTED),this.contentPlayheadTracker.paused=!0}},{key:"onContentResumeRequested",value:function(){this._eventEmit(li.Type.CONTENT_RESUME_REQUESTED),this.contentPlayheadTracker.paused=!1}},{key:"onAdBreakPaused",value:function(){this._eventEmit(li.Type.PAUSED)}},{key:"onAdBreakResumed",value:function(){this._eventEmit(li.Type.RESUMED)}},{key:"onAdBreakEnd",value:function(){this._callLog(this.currentAd.loggingEvent.complete,"complete url"),this._eventEmit(li.Type.COMPLETE),this.onContentResumeRequested(),this.videoAdState=Xi.FINISHED,0==this.adList.length?this._eventEmit(li.Type.ALL_ADS_COMPLETED):this.loadAd()}},{key:"onAdBreakClick",value:function(){this._eventEmit(li.Type.CLICK)}},{key:"onAdBreakSkipped",value:function(){this._eventEmit(li.Type.SKIPPED),this.onContentResumeRequested(),this.videoAdState=Xi.FINISHED,0==this.adList.length?this._eventEmit(li.Type.ALL_ADS_COMPLETED):this.loadAd()}},{key:"onAdError",value:function(e){var t=new Oi({code:e.code,message:e.msg}),n=new bi(t);this.internalEvent.emit(ui.Type.AD_ERROR,n),this.videoAdState=Xi.ERROR}},{key:"_eventEmit",value:function(e,t){var n=this.currentAd,i=new Ri({type:e,adProgressData:t,adBreak:n});this.internalEvent.emit(e,i)}},{key:"_callLog",value:function(e,t){var n=this;v()(e,function(e){n.util.log(e.url)})}}]),e}(),qi=function(){function e(t){M()(this,e),this.info=t}return x()(e,[{key:"getAdsManager",value:function(e,t){var n=this.info,i=n.adDisplayContainer,r=n.adsRequest,a=n.adsResponse,o=n.settings;return this.adsManager=new Hi({adDisplayContainer:i,adsRequest:r,adsResponse:a,settings:o,contentPlayback:e,adsRenderingSettings:t}),this.adsManager}}]),e}(),zi=function(){function e(t){M()(this,e),this.adDisplayContainer=t,this.internalEvent=new q.a,this.settings=new on,this.events={}}return x()(e,[{key:"addEventListener",value:function(e,t){this.events[e]=t,this.internalEvent.on(e,t)}},{key:"requestAds",value:function(e){var t=this;try{if(e.adTagUrl){var n=e.adTagUrl;_requestXHR(n,function(){if(4===xmlhttp.readyState){if(!(xmlhttp.status>=200&&xmlhttp.status<400))throw new Error("Response returned with non-OK status");var n=xmlhttp.response,i=e.adsResponse.output;t.adsResponse={adm:n,output:i}}})}else this.adsResponse=e.adsResponse;this.adDisplayContainer.setAdWillPlayMuted(e.adWillPlayMuted);var i=this.adDisplayContainer,r=this.adsResponse,a=this.settings,o=new qi({adDisplayContainer:i,adsRequest:e,adsResponse:r,settings:a});setTimeout(function(){t.internalEvent.emit(di.Type.ADS_MANAGER_LOADED,o)},0)}catch(s){setTimeout(function(){t.internalEvent.emit(ui.Type.AD_ERROR)},0)}}},{key:"contentComplete",value:function(){}},{key:"getSettings",value:function(){return this.settings}},{key:"destroy",value:function(){var e=this;C()(this.events).forEach(function(t){e.internalEvent.removeListener(t,e.events[t])}),this.settings=null,this.internalEvent=null}},{key:"_requestXHR",value:function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="text",n.onload=t,n.send()}}]),e}(),Ki=function(){function e(){M()(this,e),this.adTagUrl,this.adsResponse,this.vastLoadTimeout=5e3}return x()(e,[{key:"setAdWillAutoPlay",value:function(e){this.adWillAutoPlay=e}},{key:"setAdWillPlayMuted",value:function(e){this.adWillPlayMuted=e}}]),e}(),Qi=function Hr(){M()(this,Hr),this.setting={},this.setting.enablePreloading,this.setting.bitrate,this.setting.mimeTypes},Zi=Y.Type,Yi=(Zi.AD_LOAD_ERROR,Zi.AD_PLAY_ERROR),Ji=Y.LOAD_STAT_CODE,$i=(Y.START_STAT_CODE,Y.ERROR_DETAIL_CODE,j.Type),er=$i.MEDIATION_READY,tr=($i.MEDIATION_FAILED,function(){function e(t){M()(this,e);var n=t.adProvider,i=t.eventTracking,r=t.unitId,a=t.divId,o=t.playerInfo,s=t.adPlaybackInfo,d=t.videoAdOptions,u=t.eventNotifier,l=t.adapterManager,c=o.player,h=o.adContainer,f=o.videoEl,A=o.locale,p=o.playerType,v=o.playback_method,g=n.adInfo.adm,y=n.adProviderName,m=n.eventTracking,E=n.encrypted,k=n.videoOutput,I=n.creativeType;this.currentAd=null,this.adDisplayContainerInitialized=!1,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.contentCompleteCalled=!1,this.fullscreen=!1,this.initializeAd=!0,this.adProviderName=y,this.eventTracking=i,this.adEvtTrk=m,this.encrypted=E,this.creativeType=I,this.unitId=r,this.divId=a,this.playerInfo=o,this.adPlaybackInfo=s,this.eventNotifier=u,this.adapterManager=l,this.player=c,this.videoEl=f,this.locale=A,this.playerType=p,this.playback_method=v,this.viewableImpFlag=!1,this.adsManagerDimensions={width:0,height:0};var _={adm:g,output:k.toLowerCase()};on.isMobilePlayer(p)||(d.enableHls=!1),this.gfpOptions={adsRenderingSettings:{},adsResponse:_,videoAdOptions:d},this.autoPlayAdBreaks=this.gfpOptions.autoPlayAdBreaks||!0,this.playerWrapperDiv=document.getElementById(a),this.controller=new sn({divId:a,adapter:this,playerType:p,adContainer:h,locale:A,showControl:!0}),this.adContainerDiv=this.controller.getAdContainerDiv({type:"gfd"}),this.controller.initAdUiManager(),this._registerEvents(),this.timingPerformanceDebuger=new Rn}return x()(e,[{key:"handle",value:function(){var e=o()(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.adapters=e,this.getPlaybackInfo(),t.prev=2,t.next=5,Sn.initHlsModule();case 5:t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](2),this.initializeAd=!1,this.errerInfo={message:t.t0.message};case 12:this.adContainerDiv.style.display="block",this.playback_method(this,this.playerInfo,this.playbackInfo.initialized),this.playbackInfo.initialized&&(this.setVideoPlaybackInfo(this.playbackInfo),this.onPlayerReady()),this.adapterManager.fireEvent({name:er});case 16:case"end":return t.stop()}},t,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"setPlayerInfo",value:function(e){}},{key:"getPlaybackInfo",value:function(){var e=this,t=y()(spwp.adUnits,function(t){return t.getUnitId()==e.unitId}).getAdapterManager();this.playbackInfo=t.playerInfo.playbackInfo}},{key:"setVideoPlaybackInfo",value:function(e){var t=this,n=e.autoplayAllowed,i=e.autoplayRequiresMuted,r=e.bitrate;this.gfpOptions.autoplayRequiresMuted=i,this.gfpOptions.adsRenderingSettings.bitrate=r;var a=y()(spwp.adUnits,function(e){return e.getUnitId()==t.unitId}).getAdapterManager();a.playerInfo.playbackInfo={autoplayAllowed:n,autoplayRequiresMuted:i,bitrate:r},a.playerInfo.playbackInfo.initialized=!0}},{key:"initAdObjects",value:function(){this.adsLoader=new zi(this.adDisplayContainer),this.locale&&this.adsLoader.getSettings().setLocale(this.locale),this.adsLoader.getSettings().setPlayerType(this.playerType),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(di.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(ui.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)}},{key:"requestAds",value:function(){var e=new Ki;e.adsResponse=this.gfpOptions.adsResponse,this.gfpOptions.vastLoadTimeout&&(e.vastLoadTimeout=this.gfpOptions.vastLoadTimeout);var t=this.getPlayerSize();e.linearAdSlotWidth=t.width,e.linearAdSlotHeight=t.height,e.nonLinearAdSlotWidth=this.gfpOptions.nonLinearWidth||t.width,e.nonLinearAdSlotHeight=this.gfpOptions.nonLinearHeight||t.height,e.setAdWillPlayMuted(this.gfpOptions.autoplayRequiresMuted),this.addTriggerCallback(),this.adsLoader.requestAds(e)}},{key:"addTriggerCallback",value:function(){var e=this,t=function n(){var t;t=e.adsManager.getCuePoints(),e._hasPostRoll=A()(t,-1),e.internalEvent.removeListener("metadataLoaded",n),e.internalEvent.removeListener("adLoaded",n),e.internalEvent.removeListener("contentPauseRequested",n)};this.internalEvent.on("metadataLoaded",t),this.internalEvent.on("adLoaded",t),this.internalEvent.on("contentPauseRequested",t)}},{key:"createAdsRenderingSettings",value:function(){this.adsRenderingSettings=new Qi,this.adsRenderingSettings.enablePreloading=!1,this.adsRenderingSettings.mimeTypes=["video/mp4"],this.gfpOptions.videoAdOptions.enableHls&&(this.adsRenderingSettings.mimeTypes.unshift("application/x-mpegURL"),this.adsRenderingSettings.mimeTypes.unshift("application/vnd.apple.mpegurl"));var e=this.gfpOptions.adsRenderingSettings.bitrate;e&&0!==e&&(this.adsRenderingSettings.bitrate=e)}},{key:"onAdsManagerLoaded",value:function(e){var t,n=this;this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.videoEl,this.adsRenderingSettings),this.managerEvents=(t={},d()(t,ui.Type.AD_ERROR,function(e){n.onAdError(e)}),d()(t,li.Type.CONTENT_PAUSE_REQUESTED,function(e){n.onContentPauseRequested(e)}),d()(t,li.Type.CONTENT_RESUME_REQUESTED,function(e){n.onContentResumeRequested(e)}),d()(t,li.Type.ALL_ADS_COMPLETED,function(e){n.onAllAdsCompleted(e)}),d()(t,li.Type.AD_METADATA,function(e){n.onAdMetaData(e)}),d()(t,li.Type.AD_BUFFERING,function(e){n.onAdBuffered(e)}),d()(t,li.Type.LOADED,function(e){n.onAdLoaded(e)}),d()(t,li.Type.IMPRESSION,function(e){n.onAdImpression(e)}),d()(t,li.Type.STARTED,function(e){n.onAdStarted(e)}),d()(t,li.Type.AD_PROGRESS,function(e){n.onAdProgress(e)}),d()(t,li.Type.CLICK,function(e){n.onAdClicked(e)}),d()(t,li.Type.COMPLETE,function(e){n.onAdComplete(e)}),d()(t,li.Type.SKIPPED,function(e){n.onAdSkipped(e)}),d()(t,li.Type.PAUSED,function(e){n.onAdPaused(e)}),d()(t,li.Type.RESUMED,function(e){n.onAdResumed(e)}),t),v()(C()(this.managerEvents),function(e){n.adsManager.addEventListener(e,n.managerEvents[e])}),this.autoPlayAdBreaks||this.initAdsManager(),this.internalEvent.emit("adsReady")}},{key:"onAdsLoaderError",value:function(e){this.timingPerformanceDebuger.mark("mark_ad_load_end"),this.timingPerformanceDebuger.measure("measure_ad_load","mark_ad_load_begin","mark_ad_load_end"),this.findeOut("measure_ad_load","failure"),this.controller.onErrorLoadingAds(e);this.internalEvent.emit("adLoadedError",{type:"error",data:[]}),this.reset()}},{key:"initAdsManager",value:function(){try{var e=this.getPlayerSize(),t=e.width,n=e.height,i=e.isFullscreen?hi:ci;this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=n,this.adsManager.init(t,n,i),this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(r){}}},{key:"onAdError",value:function(e){this.timingPerformanceDebuger.mark("mark_ad_start_end"),this.timingPerformanceDebuger.measure("measure_ad_start","mark_ad_start_begin","mark_ad_start_end"),this.findeOut("measure_ad_start","failure");var t=e.getError!==undefined?e.getError().getMessage():e.stack,n=e.getError!==undefined?e.getError().getErrorCode():"";this.controller&&this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1;var i={type:"error",data:[{code:n,message:t}]};this.internalEvent.emit("adError",i),this.eventNotifier.notifyAdError({code:n,message:t,type:Yi}),this.reset()}},{key:"onAdMetaData",value:function(){this.internalEvent.emit("metadataLoaded")}},{key:"onAdLoaded",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs;this.timingPerformanceDebuger.mark("mark_ad_start_begin"),this.timingPerformanceDebuger.mark("mark_ad_load_end"),this.timingPerformanceDebuger.measure("measure_ad_load","mark_ad_load_begin","mark_ad_load_end"),this.findeOut("measure_ad_load","success"),this.controller.setVolumeUI(this.adsManager.getVolume()),this.controller.showAdContainer(),this.currentAd=e.getAd(),this.controller.setCurrentAd(this.currentAd),this.internalEvent.emit("adLoaded",this.getAdInfo()),e.getAd().isLinear()?this.controller.onLinearAdLoad():(this.controller.onNonLinearAdLoad(),this.internalEvent.emit("nonLinearAdLoad"));var o=n.ackImpressions,s=i.ackImpressions,d={st:Ji.STAT_CODE_SUCCESS,ct:r};a(s,null,null,"dsp ack url"),a(o,this.encrypted,d,"ssp ack(gv) url"),this.eventNotifier.notifyAdLoaded(this.getGfpAd())}},{key:"onAdImpression",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,o=n.renderedImpressions,s={ct:r};a(i.renderedImpressions,null,null,"dsp render imp url"),a(o,this.encrypted,s,"ssp render imp(gv) url"),this.eventNotifier.notifyAdImpression(this.getGfpAd()),this.viewableImpFlag=!1}},{key:"onAdStarted",value:function(e){this.currentAd=e.getAd();var t={};t.mediaUrl=this.currentAd.getMediaUrl(),t.vastMediaBitrate=this.currentAd.getVastMediaBitrate(),t.vastMediaWidth=this.currentAd.getVastMediaWidth(),t.vastMediaHeight=this.currentAd.getVastMediaHeight(),t.contentsBitrate=this.gfpOptions.adsRenderingSettings.bitrate,this.timingPerformanceDebuger.mark("mark_ad_start_end"),this.timingPerformanceDebuger.measure("measure_ad_start","mark_ad_start_begin","mark_ad_start_end"),this.findeOut("measure_ad_start","success",t),this.currentAd.isLinear()?this.controller.onLinearAdStart():this.controller.onNonLinearAdStart(),this.internalEvent.emit("adStarted",this.getAdInfo()),this.eventNotifier.notifyAdStarted(this.getGfpAd())}},{key:"onAdBuffered",value:function(e){this.controller.onAdBuffered(e.getAdData().buffered)}},{key:"onAdProgress",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,o=n.viewableImpressions,s=i.viewableImpressions,d=e.getAdData().currentTime,u=d>=2;if(this.onAdPlayheadTrackerInterval(),!this.viewableImpFlag&&u){this.viewableImpFlag=!0;var l={ct:r};a(s,null,null,"dsp viewable imp url"),a(o,this.encrypted,l,"ssp viewable imp(gv) url")}}},{key:"onContentPauseRequested",value:function(e){this.currentAd=e.getAd(),this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e),this.internalEvent.emit("contentPauseRequested",this.getAdInfo())}},{key:"onContentResumeRequested",value:function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd(),this.internalEvent.emit("contentResumeRequested",this.getAdInfo())}},{key:"onAllAdsCompleted",value:function(e){this.contentCompleteCalled&&this.internalEvent.emit("allAdsCompleted"),this.allAdsCompleted=!0,this.controller.onAllAdsCompleted(),this.reset()}},{key:"onAdPaused",value:function(e){this.controller.onAdsPaused(),this.eventNotifier.notifyAdPaused(this.getGfpAd())}},{key:"onAdResumed",value:function(e){this.controller.onAdsResumed(),this.eventNotifier.notifyAdResumed(this.getGfpAd())}},{key:"onAdComplete",value:function(e){this.eventNotifier.notifyAdComplete(this.getGfpAd()),this.controller.onAdComplete()}},{key:"onAdSkipped",value:function(e){this.eventNotifier.notifyAdSkipped(this.getGfpAd())}},{key:"onAdClicked",value:function(e){var t=this.adapterManager,n=this.eventTracking,i=this.adEvtTrk,r=this.creativeType,a=t.callLogs,o=n.clicks,s={ct:r};a(i.clicks,null,null,"ads click url"),a(o,this.encrypted,s,"ssp click(dfp) url"),this.eventNotifier.notifyAdClicked(this.getGfpAd())}},{key:"onAdPlayheadTrackerInterval",value:function(){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),n=t-e;n=n>0?n:0;var i,r=0;this.currentAd.getAdPodInfo()&&(i=this.currentAd.getAdPodInfo().adPosition,r=this.currentAd.getAdPodInfo().totalAds),this.controller.onAdPlayheadUpdated(n,e,t,i,r)}},{key:"onContentComplete",value:function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.player.getThirdPartyAdController().removeAllEventListener()}},{key:"createAdDisplayContainer",value:function(){if(!this.adDisplayContainerCreated){var e=this.adContainerDiv,t=this.videoEl,n=this.gfpOptions.videoAdOptions,i=this.controller.adUi;this.adDisplayContainer=new Ti(e,t,n,i),this.adDisplayContainerCreated=!0}}},{key:"initializeAdDisplayContainer",value:function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize())}},{key:"onPlayerReady",value:function(){if(!this.initializeAd){var e={type:"error",data:[this.errerInfo]};this.internalEvent.emit("adError",e),this.reset()}if(Xn({playerType:this.playerType}))this.timingPerformanceDebuger.mark("mark_ad_load_begin"),this.initAdObjects(),(this.adTagUrl||this.gfpOptions.adsResponse)&&this.requestAds();else{this.internalEvent.emit("adError",{type:"error",data:[{message:"not support browser"}]})}}},{key:"onPlayerReadyForPreroll",value:function(){if(this.autoPlayAdBreaks)try{this.initAdsManager(),this.controller&&this.controller.showAdContainer(),this.adsManager&&("undefined"!=typeof this.adPlaybackInfo.volume&&this.adsManager.setVolume(this.adPlaybackInfo.volume),this.adsManager.start())}catch(i){var e=i.getErrorCode!==undefined?i.getErrorCode():"",t=i.getMessage!==undefined?i.getMessage():"";this.adsActive=!1,this.adPlaying=!1;var n={type:"error",data:[{code:e,message:t}]};this.internalEvent.emit("adError",n),this.reset()}}},{key:"onPlayerEnterFullscreen",value:function(){this.adsManager&&(this.adsManager.resize(window.screen.width,window.screen.height,hi),this.playerWrapperDiv.style.cssText="position:absolute; top:0px; left:0px; width: ".concat(window.screen.width,"px; height: ").concat(window.screen.height,"px;"),this.adContainerDiv.style.cssText="position: absolute; top: 0px; left: 0px; width: ".concat(window.screen.width,"px; height: ").concat(window.screen.height,"px;"))}},{key:"onPlayerExitFullscreen",value:function(){if(this.adsManager){var e=this.getPlayerSize();this.adsManager.resize(e.width,e.height,ci),this.playerWrapperDiv.style.cssText="position:relative; top:0px; left:0px;",this.adContainerDiv.style.cssText="position: absolute; top: 0px; left: 0px; width: ".concat(e.width,"px; height: ").concat(e.height,"px;")}}},{key:"onPlayerVolumeChanged",value:function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e}},{key:"onPlayerResize",value:function(){if(this.adsManager){var e=this.getPlayerSize(),t=e.isFullscreen?hi:ci;this.adsManagerDimensions.width=e.width,this.adsManagerDimensions.height=e.height,this.adsManager.resize(e.width,e.height,t)}}},{key:"getCurrentAd",value:function(){return this.currentAd}},{key:"isAdPlaying",value:function(){return this.adPlaying}},{key:"isAdMuted",value:function(){return this.adMuted}},{key:"pauseAds",value:function(){this.adsManager&&(this.adsManager.pause(),this.adPlaying=!1)}},{key:"resumeAds",value:function(){this.adsManager&&(this.adsManager.resume(),this.adPlaying=!0)}},{key:"unmute",value:function(){this.adsManager&&(this.adsManager.setVolume(1),this.adMuted=!1)}},{key:"mute",value:function(){this.adsManager&&(this.adsManager.setVolume(0),this.adMuted=!0)}},{key:"setVolume",value:function(e){this.adsManager&&(this.adsManager.setVolume(e),this.adPlaybackInfo.volume=e,this.adMuted=0==e)}},{key:"getVolume",value:function(){if(this.adsManager)return this.adsManager.getVolume()}},{key:"playAdBreak",value:function(){!this.autoPlayAdBreaks&&this.adsManager&&(this.controller.showAdContainer(),this.adsManager.start())}},{key:"addEventListener",value:function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)}},{key:"getAdsManager",value:function(){return this.adsManager}},{key:"reset",value:function(){var e=this;this.adContainerDiv.style.display="none",this.adsActive=!1,this.adPlaying=!1,this.adsManager&&(v()(C()(this.managerEvents),function(t){e.adsManager.removeEventListener(t,e.managerEvents[t])}),this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&(this.adsLoader.contentComplete(),this.adsLoader.destroy(),this.adsLoader=null),this._unregisterEvents()}},{key:"_registerEvents",value:function(){var e=this,t=rn()(this.onPlayerResize.bind(this),500);this.internalEvent=new q.a,this._coreEvents={resizeLayout:function(){return t()}},v()(C()(this._coreEvents),function(t){e.player.on(t,e._coreEvents[t])})}},{key:"_unregisterEvents",value:function(){var e=this;this._coreEvents&&(v()(C()(this._coreEvents),function(t){e.player.off(t,e._coreEvents[t])}),this._coreEvents=null),v()(C()(this.internalEvent._events),function(t){e.internalEvent.removeAllListeners(t)}),this.controller&&(this.controller.reset(),this.controller=null)}},{key:"getPlayerSize",value:function(){var e=this.player.getPlayerSize();return{isFullscreen:this.player.isFullScreen(),width:e.width,height:e.height}}},{key:"onFullscreenChange",value:function(){this.fullscreen?(this.onPlayerExitFullscreen(),this.fullscreen=!1):(this.onPlayerEnterFullscreen(),this.fullscreen=!0)}},{key:"getAdInfo",value:function(){var e={type:"",data:[]},t=this.adProviderName,n=this.currentAd?this.currentAd.getAdPodInfo().getTimeOffset():"unknown",i=this.currentAd?this.currentAd.getSkipTimeOffset():"unknown";return e.type=0==n?"pre":-1==n?"post":"unknown"==n?"unknown":"mid",e.data.push({adSystem:t,skipTimeOffset:i}),e}},{key:"getGfpAd",value:function(){var e=this.adProviderName,t=this.currentAd,n=t?t.getAdPodInfo().getTimeOffset():"unknown",i=t?t.getSkipTimeOffset():"unknown",r=t?t.getVastMediaWidth():"",a=t?t.getVastMediaHeight():"",o=t?t.getDuration():"";return new vn({adProvider:e,placementType:0==n?"pre":-1==n?"post":"unknown"==n?"unknown":"mid",duration:o,skipTimeOffset:i,vastMediaWidth:r,vastMediaHeight:a})}},{key:"on",value:function(e,t){this.internalEvent.on(e,t)}},{key:"hasPostRoll",value:function(){return this._hasPostRoll}},{key:"findeOut",value:function(e,t,n){if(this.timingPerformanceDebuger.supports()){var i={};if(this.timingPerformanceDebuger.supports()){if(!this.timingPerformanceDebuger.isExistMeasure(e))return;var r=this.timingPerformanceDebuger.getMeasureResult(e);i.name=r.name,i.adProvider="".concat(this.adProviderName),i.result=t,i.duration=Math.floor(r.duration),n&&(i.creativeInfo=n),this.timingPerformanceDebuger.clearMeasures(e),"measure_ad_start"==e?(this.timingPerformanceDebuger.clearMark("mark_ad_start_begin"),this.timingPerformanceDebuger.clearMark("mark_ad_start_end")):"measure_ad_load"==e&&(this.timingPerformanceDebuger.clearMark("mark_ad_load_begin"),this.timingPerformanceDebuger.clearMark("mark_ad_load_end"))}else i.name=e,i.adProvider="".concat(this.adProviderName),i.result=t;k.a.getConfig().debug&&this.internalEvent.emit("debug",i)}}}]),e}()),nr=Y.Type.AD_LOAD_ERROR,ir=Y.ERRORS.NO_FILL,rr=ir.code,ar=ir.message,or=Y.LOAD_STAT_CODE,sr=function(){function e(t){M()(this,e),d()(this,"initActiveView",function(e){try{var t=e.divId;spwp.activeViews[t]=spwp.activeViews[t]||null,spwp.activeViews[t]&&(spwp.activeViews[t].clearActiveView(),spwp.activeViews[t]=null),spwp.activeViews[t]=new ve(e),spwp.activeViews[t].checkActiveView()}catch(n){}});var n=t.adapterManager,i=t.adProvider,r=t.eventTracking,a=t.unitId,o=t.divId,s=t.playerInfo,u=t.eventNotifier,l=s.player,c=s.adContainer,h=s.videoEl,f=s.locale,A=s.playerType,p=s.playback_method,v=i.eventTracking,g=i.encrypted;this.adapterManager=n,this.eventTracking=r,this.adEvtTrk=v,this.encrypted=g,this.unitId=a,this.divId=o,this.playerInfo=s,this.eventNotifier=u,this.player=l,this.videoEl=h,this.locale=f,this.playerType=A,this.playback_method=p,this.adProvider=i,this.controller=new sn({divId:o,adapter:this,playerType:A,adContainer:c,locale:f}),this.adContainerDiv=c,this.internalEvent=new q.a}return x()(e,[{key:"handle",value:function(){this.getPlaybackInfo(),this.controller.hideAdContainer(),this.addEventListener(),this.playback_method(this,this.playerInfo,this.playbackInfo.initialized),this.playbackInfo.initialized&&this.requestContentsResume()}},{key:"setPlayerInfo",value:function(){}},{key:"getPlaybackInfo",value:function(){var e=this,t=y()(spwp.adUnits,function(t){return t.getUnitId()==e.unitId}).getAdapterManager();this.playbackInfo=t.playerInfo.playbackInfo}},{key:"addEventListener",value:function(){var e=this.adapterManager,t=this.eventNotifier,n=this.eventTracking,i=this.adEvtTrk,r=this.adProvider,a=this.initActiveView,o=this.divId,s=e.callLogs,d=n.ackImpressions,u=n.renderedImpressions,l=n.viewableImpressions,c=i.ackImpressions,h=i.renderedImpressions,f=i.viewableImpressions,A=r.encrypted,p={st:or.STAT_CODE_NO_FILL};s(c,null,null,"dsp ack(empty) url"),s(d,A,p,"ssp ack(empty) url"),s(h,null,null,"dsp render(empty) imp url"),s(u,A,null,"ssp render(empty) imp url"),t.notifyAdFailedToLoad({code:rr,message:ar,type:nr}),t.notifyAdError({code:rr,message:ar,type:nr});var v=window.da_scroll_target?window.da_scroll_target.targetEl:window,g=document.getElementById(o);a({scrollTarget:v,divId:o,container:g,callback:function(){var e=document.getElementById(o);Ee.validateNode(e)||spwp.activeViews[o]&&!spwp.activeViews[o].onceCalled&&(spwp.activeViews[o].onceCalled=!0,s(f,null,null,"dsp viewable(empty) imp url"),s(l,A,null,"ssp viewable(empty) imp url"))}})}},{key:"setVideoPlaybackInfo",value:function(e){var t=this,n=e.autoplayAllowed,i=e.autoplayRequiresMuted,r=e.bitrate,a=y()(spwp.adUnits,function(e){return e.getUnitId()==t.unitId}).getAdapterManager();a.playerInfo.playbackInfo={autoplayAllowed:n,autoplayRequiresMuted:i,bitrate:r},a.playerInfo.playbackInfo.initialized=!0}},{key:"requestContentsResume",value:function(){this.internalEvent.emit("adError",{type:"error",data:[{message:"NO AD"}]})}},{key:"createAdDisplayContainer",value:function(){}},{key:"initializeAdDisplayContainer",value:function(){}},{key:"onPlayerReady",value:function(){this.requestContentsResume()}},{key:"onPlayerReadyForPreroll",value:function(){this._unregisterEvents()}},{key:"onContentComplete",value:function(){this.player.getThirdPartyAdController().removeAllEventListener()}},{key:"on",value:function(e,t){this.internalEvent.on(e,t)}},{key:"hasPostRoll",value:function(){return!1}},{key:"getPlayerSize",value:function(){var e=this.player.getPlayerSize();return{isFullscreen:this.player.isFullScreen(),width:e.width,height:e.height}}},{key:"_unregisterEvents",value:function(){var e=this;v()(C()(this.internalEvent._events),function(t){e.internalEvent.removeAllListeners(t)}),this.controller&&(this.controller.reset(),this.controller=null)}},{key:"reset",value:function(){}}]),e}();function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=fn()(e);if(t){var r=fn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return cn()(this,n)}}var ur=function(e){un()(n,e);var t=dr(n);function n(e){var i;return M()(this,n),(i=t.call(this,e))._eventList=e,i.internalEvent=new q.a,v()(C()(e),function(t){i.internalEvent.on(t,e[t])}),i}return x()(n,[{key:"onAdStarted",value:function(e){this.internalEvent.emit(j.Type.STARTED,e)}},{key:"onAdSkipped",value:function(e){this.internalEvent.emit(j.Type.SKIPPED,e)}},{key:"onAdComplete",value:function(e){this.internalEvent.emit(j.Type.COMPLETE,e)}},{key:"eventList",get:function(){return this._eventList},set:function(e){this._eventList=e}}]),n}(z),lr=function(){function e(t){var n=this;M()(this,e),this._eventList=t,this.internalEvent=new q.a,v()(C()(t),function(e){n.internalEvent.on(e,t[e])})}return x()(e,[{key:"onAdLoaded",value:function(e){this.internalEvent.emit(j.Type.AD_LOAD,e)}},{key:"onAdError",value:function(e){this.internalEvent.emit(X.Type.AD_ERROR,e)}},{key:"onAdStarted",value:function(e){this.internalEvent.emit(j.Type.STARTED,e)}},{key:"onAdSkipped",value:function(e){this.internalEvent.emit(j.Type.SKIPPED,e)}},{key:"onAdComplete",value:function(e){this.internalEvent.emit(j.Type.COMPLETE,e)}},{key:"onAdClicked",value:function(e){this.internalEvent.emit(j.Type.AD_CLICK,e)}},{key:"onAdPaused",value:function(e){this.internalEvent.emit(j.Type.PAUSED,e)}},{key:"onAdResumed",value:function(e){this.internalEvent.emit(j.Type.RESUMED,e)}},{key:"eventList",get:function(){return this._eventList},set:function(e){this._eventList=e}}]),e}(),cr=k.a.getRenderTypes(),hr=cr.GOOGLE_IMA,fr=cr.GV,Ar=cr.EMPTY,pr=j.Type,vr=pr.MEDIATION_READY,gr=pr.MEDIATION_FAILED,yr=new Dt.a,mr=function(){function e(t){var n,i=this;M()(this,e);var a=t.adUnitInfo;this.adUnitInfo=a,this.adProviderInfos=[],this.currentAdapter={},this.getResponse=!1,this.adapters=[],this.cmd=[],this.eventNotifiers=[],this.adListener,this.videoQoeListener,this._adPlaybackInfo={ima:{}},this.mediationEvent=new q.a,this.addEventListener((n={},d()(n,vr,function(e){i.process()}),d()(n,gr,function(e){o()(r.a.mark(function t(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.clear(),i.push(),e.next=4,i.handleRequestAdapters();case 4:case"end":return e.stop()}},t)}))()}),n))}return x()(e,[{key:"addEventListener",value:function(e){var t=this;v()(C()(e),function(n){t.mediationEvent.on(n,e[n])})}},{key:"removeAllListeners",value:function(){var e=this;v()([vr,gr],function(t){e.mediationEvent.removeAllListeners(t)})}},{key:"fireEvent",value:function(e){var t=e.name,n=e.evtData;this.mediationEvent.emit(t,n)}},{key:"setAdproviderInfos",value:function(e){var t=this,n=e.eventTracking,i=this.adUnitInfo,r=i.unitId,a=i.divId;this.adProviderInfos=e.ads.map(function(e){return{adProvider:e,eventTracking:n,unitId:r,divId:a}}),this.support()||(this.adProviderInfos=this.adProviderInfos.filter(function(e){return e.adProvider.renderType===Ar})),this.getResponse=!0,this.adapters=this.adProviderInfos.map(function(e){return t.setAdapter(e)})}},{key:"setAdproviderInfo",value:function(e){this.adProviderInfos.push(e),this.getResponse=!0}},{key:"support",value:function(){return!(Z.IS_IE&&Z.searchBrowserVersion()<=9)}},{key:"setPlayerInfo",value:function(e){e&&(this.playerInfo=e,this.playerInfo.playbackInfo={initialized:!1},tn.createAdContainer(this.playerInfo))}},{key:"getPlayerInfo",value:function(){return this.playerInfo}},{key:"setAdapter",value:function(e){var t=this.adListener,n=this.videoQoeListener,i=e.adProvider,r=e.eventTracking,a=e.unitId,o=e.divId,s=i.adProviderName,d=i.renderType,u=i.adInfo.timeout,l=void 0===u?0:u,c=k.a.getConfig().videoAdOptions,h=this.playerInfo,f=this._adPlaybackInfo,A=this.adUnitInfo.getExtraOption().mediaParams,p=new de({unitId:a,divId:o,adProviderName:s,adListener:t,videoQoeListener:n,playerInfo:h});this.eventNotifiers.push(p);switch(d){case hr:var v=new me({timeout:l});return new ri({adProvider:i,eventTracking:r,unitId:a,divId:o,playerInfo:h,adPlaybackInfo:f,videoAdOptions:c,eventNotifier:p,mediaParams:A,timeoutManager:v,adapterManager:this});case fr:return new tr({adProvider:i,eventTracking:r,unitId:a,divId:o,playerInfo:h,adPlaybackInfo:f,videoAdOptions:c,eventNotifier:p,adapterManager:this});case Ar:return new sr({adProvider:i,eventTracking:r,unitId:a,divId:o,playerInfo:h,eventNotifier:p,adapterManager:this});default:return new Pt({adProvider:i,eventTracking:r,unitId:a,divId:o,adapterManager:this})}}},{key:"handleRequestAdapters",value:function(){var e=o()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getAdapters(),this.currentAdapter=this.adapters.shift(),!this.currentAdapter){t.next=5;break}return t.next=5,this.currentAdapter.handle(e);case 5:case"end":return t.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAdapters",value:function(){return this.adapters}},{key:"getCurrentAdapter",value:function(){return this.currentAdapter}},{key:"resetAdapters",value:function(){h()(this.currentAdapter)||this.currentAdapter.reset(),this.adProviderInfos=[],this.adapters=[],this.currentAdapter={},this.getResponse=!1,this.eventNotifiers=[]}},{key:"push",value:function(){var e=this;this.cmd.push(function(){var t=e.getCurrentAdapter();h()(t)||t.display&&t.display()})}},{key:"process",value:function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){}}},{key:"clear",value:function(){for(;this.cmd.length>0;)this.cmd.shift()}},{key:"setAdListener",value:function(e){e&&(this.adListener=new ur(e),this.resetEventListeners())}},{key:"setVideoQoeListener",value:function(e){e&&(this.videoQoeListener=new lr(e),this.resetEventListeners())}},{key:"getAdListener",value:function(){return this.adListener}},{key:"getVideoQoeListener",value:function(){return this.videoQoeListener}},{key:"resetEventListeners",value:function(){var e=this.adListener,t=this.videoQoeListener,n=this.eventNotifiers;v()(n,function(n){n&&n.setEventListeners({adListener:e,videoQoeListener:t})})}},{key:"callLogs",value:function(e,t,n,i){if(e){t=t||"";var r=n?"?".concat(C()(n).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e]))}).join("&")):"";v()(e,function(e){yr.log("".concat(e.url).concat(t).concat(r))})}}},{key:"adPlaybackInfo",get:function(){return this._adPlaybackInfo},set:function(e){this._adPlaybackInfo=e,this._adPlaybackInfo.ima.adDisplayContainer=null}}]),e}(),Er=k.a.getCreativeTypes(),kr=function(){function e(t){M()(this,e),this.adUnitInfo=new W(t),this.adapterManager={},this.initAdManager(),this.unitId=t.unitId,this.divId=t.divId}return x()(e,[{key:"getUnitId",value:function(){return this.adUnitInfo.getUnitId()}},{key:"getMediaType",value:function(){return this.adUnitInfo.getMediaType()}},{key:"getAdSlotElementId",value:function(){return this.adUnitInfo.getAdSlotElementId()}},{key:"getTargeting",value:function(){return this.adUnitInfo.getTargeting()}},{key:"setTargeting",value:function(e){this.adUnitInfo.setTargeting(e)}},{key:"getExtraOption",value:function(){return this.adUnitInfo.getExtraOption()}},{key:"setExtraOption",value:function(e){this.adUnitInfo.setExtraOption(e)}},{key:"setCustomParam",value:function(e,t){U()(this.adUnitInfo.getExtraOption().mediaParams,d()({},e,t))}},{key:"getAdUnitInfo",value:function(){return this.adUnitInfo}},{key:"getAdapterManager",value:function(){return this.adapterManager}},{key:"initAdManager",value:function(){var e=this.adUnitInfo,t=e.getMediaType()==Er.VIDEO?new mr({adUnitInfo:e}):new Ht({adUnitInfo:e});this.setAdapterManager(t)}},{key:"setAdapterManager",value:function(e){this.adapterManager=e}}]),e}(),Ir=n(30),_r=n.n(Ir),wr={BID_TYPE:{WATERFALL:"waterFall",HEADER_BIDDING:"headerBidding"},CALLBACK_CB:"spwp.setMediationList"};function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var Sr=function(){function e(){M()(this,e)}return x()(e,null,[{key:"makeAdRequestParam",value:function(e){var t=e.adUnit,n=e.getJSONP,i=void 0===n||n,r=e.exclusionCriteria,a=t.getAdUnitInfo(),o=a.unitId,s=a.divId,u=wr.CALLBACK_CB,c=a.getTargeting(),f=c.yob,A=c.gender,p=c.uct,v=c.ai,g=a.getExtraOption(),y=g.oid,m=g.sid1,E=g.sid2,k=g.calp,I=g.gdid,_=g.mediaParams,w=document.referrer?document.referrer:"";w=w.length>255?w.substring(0,255):w,w=encodeURIComponent(w);var L,S,T=document.location.href?document.location.href:"";if(T=T.length>255?T.substring(0,255):T,T=encodeURIComponent(T),r){var O=r.advertiserDomains,b=r.adDuplicationKeys;L=encodeURIComponent(l()(O,function(e){return encodeURIComponent(e)}).join("|")),S=encodeURIComponent(l()(b,function(e){return encodeURIComponent(e)}).join("|"))}var R="".concat(1e17*Math.random()),P={u:o,xdid:s,p:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({oid:y,sid1:m,sid2:E,calp:k,gdid:I,da_dom_id:s},_),ai:v,yob:f,g:A,uct:p,cb:i?u:"",ba:L||"",bx:S||"",r:w,c:T,rui:R};return Qe()(C()(P),function(e,t){return h()(P[t])||(e[t]=P[t]),e},{})}}]),e}(),Tr=new Rn,Or=Y.Type.AD_LOAD_ERROR,br=Y.ERRORS.NETWORK_ERROR,Rr=br.code,Cr=br.message,Pr=function(){function e(){M()(this,e),this.resetExclusionCriteria()}return x()(e,[{key:"resetExclusionCriteria",value:function(){this.exclusionCriteria={advertiserDomains:[],adDuplicationKeys:[]}}},{key:"setExclusionCriteria",value:function(e){this.exclusionCriteria=e||{advertiserDomains:[],adDuplicationKeys:[]}}},{key:"getExclusionCriteria",value:function(){return this.exclusionCriteria}},{key:"requestAds",value:function(){var t=o()(r.a.mark(function n(t){var i,a,o,s,d,u,l,c;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.adUnit,a=t.requestTimeout,o=!!Z.IS_IE,s=Sr.makeAdRequestParam({adUnit:i,getJSONP:o}),d=i.getAdapterManager(),u=e.buildAdRequestUrl(s),l=new ye({src:u,timeout:a}),n.prev=6,d.resetAdapters(),Tr.mark("mark_ssp_ad_load_begin"),!Z.IS_IE){n.next=14;break}return n.next=12,e.withTimeout(a,l.load());case 12:n.next=20;break;case 14:return n.next=16,e.makeXhrRequest(u,a);case 16:return c=n.sent,d.setAdproviderInfos(c),n.next=20,d.handleRequestAdapters();case 20:Tr.mark("mark_ssp_ad_load_end"),Tr.measure("measure_gfp_ad_load","mark_ssp_ad_load_begin","mark_ssp_ad_load_end"),this.findOut("measure_gfp_ad_load","success",i),n.next=28;break;case 25:n.prev=25,n.t0=n["catch"](6),this.handleError({e:n.t0,adUnit:i});case 28:case"end":return n.stop()}},n,this,[[6,25]])}));return function(e){return t.apply(this,arguments)}}()},{key:"requestAdsXHR",value:function(){var t=o()(r.a.mark(function n(t){var i,a,s,d,u,l,c,h,f=this;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.adUnit,a=t.adapterManager,s=t.requestTimeout,d=this.exclusionCriteria,u=Sr.makeAdRequestParam({adUnit:i,getJSONP:!1,exclusionCriteria:d}),l=e.buildAdRequestUrl(u),n.prev=4,Tr.mark("mark_ssp_ad_load_begin"),n.next=8,e.makeXhrRequest(l,s);case 8:return c=n.sent,h=function(e){return E()(e,function(e,t,n){return n.indexOf(e)===t})},n.next=12,function(){var e=o()(r.a.mark(function t(e){var n,i,o,s,d,u,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.advertiserDomains,i=void 0===n?[]:n,o=e.adDuplicationKeys,s=void 0===o?[]:o,d=f.exclusionCriteria,u=d.advertiserDomains,l=d.adDuplicationKeys,f.exclusionCriteria={advertiserDomains:h([].concat(_r()(u),_r()(i))),adDuplicationKeys:h([].concat(_r()(l),_r()(s)))},a.setAdproviderInfos(e),t.next=6,a.handleRequestAdapters();case 6:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()(c);case 12:Tr.mark("mark_ssp_ad_load_end"),Tr.measure("measure_gfp_ad_load","mark_ssp_ad_load_begin","mark_ssp_ad_load_end"),this.findOut("measure_gfp_ad_load","success",i),n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](4),this.handleError({e:n.t0,adUnit:i});case 20:case"end":return n.stop()}},n,this,[[4,17]])}));return function(e){return t.apply(this,arguments)}}()},{key:"findOut",value:function(e,t,n){var i=n.getUnitId();if(Tr.supports()&&Tr.supports()){var r=Tr.getMeasureResult(e);r.duration;Tr.clearMeasures(e)}}},{key:"handleError",value:function(e){e.e;var t=e.adUnit,n=t.getUnitId(),i=t.getAdSlotElementId(),r=t.getAdapterManager();Tr.mark("mark_ssp_ad_load_end"),Tr.measure("measure_gfp_ad_load","mark_ssp_ad_load_begin","mark_ssp_ad_load_end"),this.findOut("measure_gfp_ad_load","failure",t);var a=r.getAdListener(),o=r.getVideoQoeListener?r.getVideoQoeListener():undefined,s=r.playerInfo||{},d=new de({unitId:n,divId:i,playerInfo:s});d.setEventListeners({adListener:a,videoQoeListener:o}),d.notifyAdFailedToLoad({code:Rr,message:Cr,type:Or}),d.notifyAdError({code:Rr,message:Cr,type:Or})}}],[{key:"builder",value:function(){return this.adLoader=new e,this.adLoader}},{key:"buildAdRequestUrl",value:function(e){var t=k.a.getSspDomain(),n=[];return v()(C()(e),function(t){var i=e[t];if("p"===t){var r=[];v()(C()(i),function(e){""!==i[e]&&r.push("".concat(encodeURIComponent(e),":").concat(encodeURIComponent(i[e])))}),i=encodeURIComponent(r.join(","))}n.push("".concat(t,"=").concat(i))}),"".concat("https:","//").concat(t,"/adcall?").concat(n.join("&"))}},{key:"withTimeout",value:function(e,t){var n=new Promise(function(t,n){var i=setTimeout(function(){clearTimeout(i),n(new Error("request timeout"))},e)});return Promise.race([n,t])}},{key:"makeXhrRequest",value:function(e,t){return new Promise(function(n,i){var r=new XMLHttpRequest;r.open("GET",e),r.timeout=t,r.responseType="json",r.withCredentials=!0,r.onload=function(){var e=r.readyState,t=r.status,a=r.statusText,o=r.response;4===e?t>=200&&t<300?n(o):i({status:t,statusText:a}):i()},r.onerror=function(){var e=r.status,t=r.statusText;i({status:e,statusText:t})},r.ontimeout=function(){i(new Error("request timeout"))},r.send()})}}]),e}();function Dr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Br=window.spwp;Br.adEvent={AD_LOAD:"adLoad",AD_LOAD_FAILED:"adLoadFailed",AD_IMPRESSION:"adImpression",AD_CLICK:"adClick"},Br.adError={ErrorCode:Y.ERROR_CODE},Br.version="1.1.21",Br.GfpAdEvent={Type:j.Type},Br.GfpAdErrorEvent={Type:X.Type},Br.GfpAdError={Type:Y.Type,ErrorCode:Y.ERROR_CODE};var Ur,Vr=document.location.href?document.location.href:"";Vr=Vr.length>255?Vr.substring(0,255):Vr;var Fr,Gr=k.a.getCreativeTypes(),Wr=function(e){return e?y()(Br.adUnits,function(t){return t.getAdSlotElementId()==e}):null},jr=function(e){for(;e.length>0;)e.shift()};Br.addAdUnits=function(e){e.forEach(function(e){var t=new kr(e);Br.adUnits.push(t)})},Br.defineAdUnit=function(e){var t=e.unitId,n=e.divId;if(!Wr(n)){var i=E()(Br.adUnits,function(e){return e.getUnitId()==t}).length+1,r=new kr(xr(xr({},e),{},{slotSeqNo:i}));return r.getAdapterManager().setAdListener(Ur),Br.adUnits.push(r),r}},Br.clearAllAdUnits=function(){Br.adUnits=[]},Br.setAdListener=function(e){var t=e.adUnitIds,n=e.eventList;t||(Ur=n),(t&&t.length?E()(Br.adUnits,function(e){return A()(t,e.getUnitId())}):Br.adUnits).forEach(function(e){e.getAdapterManager().setAdListener(n)})},Br.setVideoQoeListener=function(e){var t=e.eventList,n=e.reset,i=void 0!==n&&n;E()(Br.adUnits,function(e){return e.getMediaType()===Gr.VIDEO}).forEach(function(e){var n=e.getAdapterManager();(i||void 0===n.getVideoQoeListener())&&n.setVideoQoeListener(t)})},Br.updateUnitInfo=function(e){var t=e.divId,n=Wr(t);n&&(n.setTargeting(xr({},e.targeting)),n.setExtraOption(xr({},e.extraOption)))},Br.requestAds=function(){var e=o()(r.a.mark(function t(e){var n,i,a,s,d;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.adUnits,i=e.adUnitIds,a=e.timeout,s=e.eventList,d=a||k.a.getConfig().requestTimeout,n||(n=i&&i.length?E()(Br.adUnits,function(e){return A()(i,e.getUnitId())}):Br.adUnits),n.forEach(function(){var e=o()(r.a.mark(function t(e){var n,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getAdSlotElementId(),e.getAdapterManager().setAdListener(s),i=P.getPersistAdData("".concat(Vr,"_").concat(n)),P.support()&&h()(i)&&P.setPersistAdData("".concat(Vr,"_").concat(n),{}),!P.support()||!P.isBackForwardType()||h()(i)){t.next=11;break}return P.resetPersistData(),t.next=9,P.initPersistAds(e,i);case 9:t.next=13;break;case 11:return t.next=13,Pr.builder().requestAds({adUnit:e,requestTimeout:d});case 13:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),Br.requestAdsSync=function(){var e=o()(r.a.mark(function t(e){var n,i,a,o,s,d,u,l,c,f,p,v,g;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.adUnits,i=e.adUnitIds,a=e.timeout,o=e.eventList,s=e.exclusionCriteria,d=a||k.a.getConfig().requestTimeout,n||(n=i&&i.length?E()(Br.adUnits,function(e){return A()(i,e.getUnitId())}):Br.adUnits),(u=Pr.builder()).setExclusionCriteria(s),l=Dr(n),t.prev=7,l.s();case 9:if((c=l.n()).done){t.next=27;break}if(f=c.value,p=f.getAdSlotElementId(),(v=f.getAdapterManager()).resetAdapters(),v.setAdListener(o),g=P.getPersistAdData("".concat(Vr,"_").concat(p)),P.support()&&h()(g)&&P.setPersistAdData("".concat(Vr,"_").concat(p),{}),!P.support()||!P.isBackForwardType()||h()(g)){t.next=23;break}return P.resetPersistData(),t.next=21,P.initPersistAds(f,g);case 21:t.next=25;break;case 23:return t.next=25,u.requestAdsXHR({adUnit:f,adapterManager:v,requestTimeout:d});case 25:t.next=9;break;case 27:t.next=32;break;case 29:t.prev=29,t.t0=t["catch"](7),l.e(t.t0);case 32:return t.prev=32,l.f(),t.finish(32);case 35:u.resetExclusionCriteria();case 36:case"end":return t.stop()}},t,null,[[7,29,32,35]])}));return function(t){return e.apply(this,arguments)}}(),Br.renderAd=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{preload:!1},n=Wr(e);if(n){var i=n.getAdapterManager();i.renderConfig=t,i.push()}},Br.renderAds=function(e){var t=e.adUnits,n=e.divIds;t&&(n=t.map(function(e){return e.getAdSlotElementId()})),n&&n.length||(n=Br.adUnits.map(function(e){return e.getAdSlotElementId()})),n.forEach(function(e){return Br.renderAd(e)})},Br.initEvent=function(e){e.unitId;var t=e.divId,n=Wr(t);n&&n.getAdapterManager().initEvent()},Br.setMediationList=function(){var e=o()(r.a.mark(function t(e){var n,i,a,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.adUnit,i=e.adDivId,!(a=i?y()(Br.adUnits,function(e){return e.getUnitId()==n&&e.getAdSlotElementId()==i}):y()(Br.adUnits,function(e){return e.getUnitId()==n}))){t.next=8;break}return(o=a.getAdapterManager()).setAdproviderInfos(e),t.next=8,o.handleRequestAdapters();case 8:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),Br.handlePassback=function(){var e=o()(r.a.mark(function t(e){var n,i,a,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.unitId,n=e.divId,i=e.creativeType,!(a=Wr(n))){t.next=8;break}return(o=a.getAdapterManager()).clear(),t.next=7,o.handleRequestAdapters();case 7:i==Gr.BANNER&&o.getCurrentAdapter().display();case 8:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),Br.onLoadAdm=function(e){var t=Wr(e);if(t){var n=t.getAdapterManager().getCurrentAdapter();if(h()(n))return;n.onLoadAdm&&n.onLoadAdm(e)}},Br.addCallback=function(e){var t=e.divId,n=Wr(t);if(n){var i=n.getAdapterManager().getCurrentAdapter();if(h()(i))return;i.addCallback&&i.addCallback(e)}},Br.previewNdpAd=function(){var e=o()(r.a.mark(function t(e){var i,a,o,s,d,u,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.acId,a=e.preCreativeId,o=e.creativeId,t.prev=1,t.next=4,n.e(0).then(n.bind(null,160));case 4:s=t.sent,d=s.requestNdpPreviewAdByAcId,u=s.requestNdpPreviewAdByPrc,l=s.requestNdpPreviewAdByCreativeId,i?d(e):a?u(e):o&&l(e),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1);case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),Br.setPlayerInfo=function(e){var t=e.unitId,n=e.divId,i=e.playerInfo,r=n?y()(Br.adUnits,function(e){return e.getUnitId()==t&&e.getAdSlotElementId()==n}):y()(Br.adUnits,function(e){return e.getUnitId()==t});r&&r.getAdapterManager().setPlayerInfo(i)},Br.setHostMeta=function(e){var t,n=e.divIds,i=e.ownerKey,r=e.metaData,a=n&&n.length?l()((t=n,E()(t,function(e,t,n){return n.indexOf(e)===t})),function(e){return Wr(e)}):Br.adUnits;v()(a,function(e){e&&e.getAdapterManager().setHostMeta({ownerKey:i,metaData:r})})},Br.clearActiveViews=function(){var e=Br.activeViews;for(var t in e)e.hasOwnProperty(t)&&e[t]&&(e[t].clearActiveView(),e[t]=null)},Br.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(t){}},Br.setConfig=k.a.setConfig,Br.getConfig=k.a.getConfig,(Fr=Br.cmd).forEach(function(e){if("undefined"==typeof e.called)try{e.call(),e.called=!0}catch(t){}}),jr(Fr)}]);